!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).igv=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var r=function(t){return t&&t.Math==Math&&t},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},a=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!o.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:o},h=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},u={}.toString,l=function(t){return u.call(t).slice(8,-1)},f="".split,p=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==l(t)?f.call(t,""):Object(t)}:Object,d=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return p(d(t))},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!v(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!v(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!v(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!v(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,b=function(t,e){return y.call(t,e)},w=n.document,x=v(w)&&v(w.createElement),k=function(t){return x?w.createElement(t):{}},S=!a&&!i((function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})),_=Object.getOwnPropertyDescriptor,C={f:a?_:function(t,e){if(t=g(t),e=m(e,!0),S)try{return _(t,e)}catch(t){}if(b(t,e))return h(!c.f.call(t,e),t[e])}},A=function(t){if(!v(t))throw TypeError(String(t)+" is not an object");return t},E=Object.defineProperty,R={f:a?E:function(t,e,r){if(A(t),e=m(e,!0),A(r),S)try{return E(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},T=a?function(t,e,r){return R.f(t,e,h(1,r))}:function(t,e,r){return t[e]=r,t},L=function(t,e){try{T(n,t,e)}catch(r){n[t]=e}return e},I=n["__core-js_shared__"]||L("__core-js_shared__",{}),M=Function.toString;"function"!=typeof I.inspectSource&&(I.inspectSource=function(t){return M.call(t)});var P,O,N,F=I.inspectSource,D=n.WeakMap,B="function"==typeof D&&/native code/.test(F(D)),z=e((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),U=0,H=Math.random(),$=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++U+H).toString(36)},j=z("keys"),q=function(t){return j[t]||(j[t]=$(t))},V={},G=n.WeakMap;if(B){var W=new G,Z=W.get,X=W.has,Y=W.set;P=function(t,e){return Y.call(W,t,e),e},O=function(t){return Z.call(W,t)||{}},N=function(t){return X.call(W,t)}}else{var K=q("state");V[K]=!0,P=function(t,e){return T(t,K,e),e},O=function(t){return b(t,K)?t[K]:{}},N=function(t){return b(t,K)}}var Q,J,tt={set:P,get:O,has:N,enforce:function(t){return N(t)?O(t):P(t,{})},getterFor:function(t){return function(e){var r;if(!v(e)||(r=O(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},et=e((function(t){var e=tt.get,r=tt.enforce,i=String(String).split("String");(t.exports=function(t,e,a,o){var s=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,h=!!o&&!!o.noTargetGet;"function"==typeof a&&("string"!=typeof e||b(a,"name")||T(a,"name",e),r(a).source=i.join("string"==typeof e?e:"")),t!==n?(s?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=a:T(t,e,a)):c?t[e]=a:L(e,a)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||F(this)}))})),rt=n,nt=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?nt(rt[t])||nt(n[t]):rt[t]&&rt[t][e]||n[t]&&n[t][e]},at=Math.ceil,ot=Math.floor,st=function(t){return isNaN(t=+t)?0:(t>0?ot:at)(t)},ct=Math.min,ht=function(t){return t>0?ct(st(t),9007199254740991):0},ut=Math.max,lt=Math.min,ft=function(t,e){var r=st(t);return r<0?ut(r+e,0):lt(r,e)},pt=function(t){return function(e,r,n){var i,a=g(e),o=ht(a.length),s=ft(n,o);if(t&&r!=r){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}},dt={includes:pt(!0),indexOf:pt(!1)},gt=dt.indexOf,vt=function(t,e){var r,n=g(t),i=0,a=[];for(r in n)!b(V,r)&&b(n,r)&&a.push(r);for(;e.length>i;)b(n,r=e[i++])&&(~gt(a,r)||a.push(r));return a},mt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yt=mt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(t){return vt(t,yt)}},wt={f:Object.getOwnPropertySymbols},xt=it("Reflect","ownKeys")||function(t){var e=bt.f(A(t)),r=wt.f;return r?e.concat(r(t)):e},kt=function(t,e){for(var r=xt(e),n=R.f,i=C.f,a=0;a<r.length;a++){var o=r[a];b(t,o)||n(t,o,i(e,o))}},St=/#|\.prototype\./,_t=function(t,e){var r=At[Ct(t)];return r==Rt||r!=Et&&("function"==typeof e?i(e):!!e)},Ct=_t.normalize=function(t){return String(t).replace(St,".").toLowerCase()},At=_t.data={},Et=_t.NATIVE="N",Rt=_t.POLYFILL="P",Tt=_t,Lt=C.f,It=function(t,e){var r,i,a,o,s,c=t.target,h=t.global,u=t.stat;if(r=h?n:u?n[c]||L(c,{}):(n[c]||{}).prototype)for(i in e){if(o=e[i],a=t.noTargetGet?(s=Lt(r,i))&&s.value:r[i],!Tt(h?i:c+(u?".":"#")+i,t.forced)&&void 0!==a){if(typeof o==typeof a)continue;kt(o,a)}(t.sham||a&&a.sham)&&T(o,"sham",!0),et(r,i,o,t)}},Mt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Pt=function(t,e,r){if(Mt(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},Ot=function(t){return Object(d(t))},Nt=Array.isArray||function(t){return"Array"==l(t)},Ft=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),Dt=Ft&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Bt=z("wks"),zt=n.Symbol,Ut=Dt?zt:zt&&zt.withoutSetter||$,Ht=function(t){return b(Bt,t)||(Ft&&b(zt,t)?Bt[t]=zt[t]:Bt[t]=Ut("Symbol."+t)),Bt[t]},$t=Ht("species"),jt=function(t,e){var r;return Nt(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Nt(r.prototype)?v(r)&&null===(r=r[$t])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},qt=[].push,Vt=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,a=6==t,o=5==t||a;return function(s,c,h,u){for(var l,f,d=Ot(s),g=p(d),v=Pt(c,h,3),m=ht(g.length),y=0,b=u||jt,w=e?b(s,m):r?b(s,0):void 0;m>y;y++)if((o||y in g)&&(f=v(l=g[y],y,d),t))if(e)w[y]=f;else if(f)switch(t){case 3:return!0;case 5:return l;case 6:return y;case 2:qt.call(w,l)}else if(i)return!1;return a?-1:n||i?i:w}},Gt={forEach:Vt(0),map:Vt(1),filter:Vt(2),some:Vt(3),every:Vt(4),find:Vt(5),findIndex:Vt(6)},Wt=it("navigator","userAgent")||"",Zt=n.process,Xt=Zt&&Zt.versions,Yt=Xt&&Xt.v8;Yt?J=(Q=Yt.split("."))[0]+Q[1]:Wt&&(!(Q=Wt.match(/Edge\/(\d+)/))||Q[1]>=74)&&(Q=Wt.match(/Chrome\/(\d+)/))&&(J=Q[1]);var Kt=J&&+J,Qt=Ht("species"),Jt=function(t){return Kt>=51||!i((function(){var e=[];return(e.constructor={})[Qt]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},te=Object.defineProperty,ee={},re=function(t){throw t},ne=function(t,e){if(b(ee,t))return ee[t];e||(e={});var r=[][t],n=!!b(e,"ACCESSORS")&&e.ACCESSORS,o=b(e,0)?e[0]:re,s=b(e,1)?e[1]:void 0;return ee[t]=!!r&&!i((function(){if(n&&!a)return!0;var t={length:-1};n?te(t,1,{enumerable:!0,get:re}):t[1]=1,r.call(t,o,s)}))},ie=Gt.filter,ae=Jt("filter"),oe=ne("filter");It({target:"Array",proto:!0,forced:!ae||!oe},{filter:function(t){return ie(this,t,arguments.length>1?arguments[1]:void 0)}});var se=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))},ce=Gt.forEach,he=se("forEach"),ue=ne("forEach"),le=he&&ue?[].forEach:function(t){return ce(this,t,arguments.length>1?arguments[1]:void 0)};It({target:"Array",proto:!0,forced:[].forEach!=le},{forEach:le});var fe=dt.indexOf,pe=[].indexOf,de=!!pe&&1/[1].indexOf(1,-0)<0,ge=se("indexOf"),ve=ne("indexOf",{ACCESSORS:!0,1:0});It({target:"Array",proto:!0,forced:de||!ge||!ve},{indexOf:function(t){return de?pe.apply(this,arguments)||0:fe(this,t,arguments.length>1?arguments[1]:void 0)}});var me=Math.min,ye=[].lastIndexOf,be=!!ye&&1/[1].lastIndexOf(1,-0)<0,we=se("lastIndexOf"),xe=ne("indexOf",{ACCESSORS:!0,1:0}),ke=be||!we||!xe?function(t){if(be)return ye.apply(this,arguments)||0;var e=g(this),r=ht(e.length),n=r-1;for(arguments.length>1&&(n=me(n,st(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:ye;It({target:"Array",proto:!0,forced:ke!==[].lastIndexOf},{lastIndexOf:ke});var Se,_e=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return A(r),function(t){if(!v(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),Ce=function(t,e,r){var n,i;return _e&&"function"==typeof(n=e.constructor)&&n!==r&&v(i=n.prototype)&&i!==r.prototype&&_e(t,i),t},Ae=Object.keys||function(t){return vt(t,mt)},Ee=a?Object.defineProperties:function(t,e){A(t);for(var r,n=Ae(e),i=n.length,a=0;i>a;)R.f(t,r=n[a++],e[r]);return t},Re=it("document","documentElement"),Te=q("IE_PROTO"),Le=function(){},Ie=function(t){return"<script>"+t+"<\/script>"},Me=function(){try{Se=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Me=Se?function(t){t.write(Ie("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Se):((e=k("iframe")).style.display="none",Re.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ie("document.F=Object")),t.close(),t.F);for(var r=mt.length;r--;)delete Me.prototype[mt[r]];return Me()};V[Te]=!0;var Pe=Object.create||function(t,e){var r;return null!==t?(Le.prototype=A(t),r=new Le,Le.prototype=null,r[Te]=t):r=Me(),void 0===e?r:Ee(r,e)},Oe="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Ne="["+Oe+"]",Fe=RegExp("^"+Ne+Ne+"*"),De=RegExp(Ne+Ne+"*$"),Be=function(t){return function(e){var r=String(d(e));return 1&t&&(r=r.replace(Fe,"")),2&t&&(r=r.replace(De,"")),r}},ze={start:Be(1),end:Be(2),trim:Be(3)},Ue=bt.f,He=C.f,$e=R.f,je=ze.trim,qe=n.Number,Ve=qe.prototype,Ge="Number"==l(Pe(Ve)),We=function(t){var e,r,n,i,a,o,s,c,h=m(t,!1);if("string"==typeof h&&h.length>2)if(43===(e=(h=je(h)).charCodeAt(0))||45===e){if(88===(r=h.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(h.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+h}for(o=(a=h.slice(2)).length,s=0;s<o;s++)if((c=a.charCodeAt(s))<48||c>i)return NaN;return parseInt(a,n)}return+h};if(Tt("Number",!qe(" 0o1")||!qe("0b1")||qe("+0x1"))){for(var Ze,Xe=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof Xe&&(Ge?i((function(){Ve.valueOf.call(r)})):"Number"!=l(r))?Ce(new qe(We(e)),r,Xe):We(e)},Ye=a?Ue(qe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ke=0;Ye.length>Ke;Ke++)b(qe,Ze=Ye[Ke])&&!b(Xe,Ze)&&$e(Xe,Ze,He(qe,Ze));Xe.prototype=Ve,Ve.constructor=Xe,et(n,"Number",Xe)}var Qe=function(){var t=A(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Je(t,e){return RegExp(t,e)}var tr={UNSUPPORTED_Y:i((function(){var t=Je("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:i((function(){var t=Je("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},er=RegExp.prototype.exec,rr=String.prototype.replace,nr=er,ir=function(){var t=/a/,e=/b*/g;return er.call(t,"a"),er.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),ar=tr.UNSUPPORTED_Y||tr.BROKEN_CARET,or=void 0!==/()??/.exec("")[1];(ir||or||ar)&&(nr=function(t){var e,r,n,i,a=this,o=ar&&a.sticky,s=Qe.call(a),c=a.source,h=0,u=t;return o&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(c="(?: "+c+")",u=" "+u,h++),r=new RegExp("^(?:"+c+")",s)),or&&(r=new RegExp("^"+c+"$(?!\\s)",s)),ir&&(e=a.lastIndex),n=er.call(o?r:a,u),o?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:ir&&n&&(a.lastIndex=a.global?n.index+n[0].length:e),or&&n&&n.length>1&&rr.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n});var sr=nr;It({target:"RegExp",proto:!0,forced:/./.exec!==sr},{exec:sr});var cr,hr=Ht("match"),ur=function(t){var e;return v(t)&&(void 0!==(e=t[hr])?!!e:"RegExp"==l(t))},lr=function(t){if(ur(t))throw TypeError("The method doesn't accept regular expressions");return t},fr=Ht("match"),pr=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[fr]=!1,"/./"[t](e)}catch(t){}}return!1},dr=C.f,gr="".endsWith,vr=Math.min,mr=pr("endsWith"),yr=!(mr||(cr=dr(String.prototype,"endsWith"),!cr||cr.writable));It({target:"String",proto:!0,forced:!yr&&!mr},{endsWith:function(t){var e=String(d(this));lr(t);var r=arguments.length>1?arguments[1]:void 0,n=ht(e.length),i=void 0===r?n:vr(ht(r),n),a=String(t);return gr?gr.call(e,a,i):e.slice(i-a.length,i)===a}});var br=Ht("species"),wr=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),xr="$0"==="a".replace(/./,"$0"),kr=Ht("replace"),Sr=!!/./[kr]&&""===/./[kr]("a","$0"),_r=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Cr=function(t,e,r,n){var a=Ht(t),o=!i((function(){var e={};return e[a]=function(){return 7},7!=""[t](e)})),s=o&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[br]=function(){return r},r.flags="",r[a]=/./[a]),r.exec=function(){return e=!0,null},r[a](""),!e}));if(!o||!s||"replace"===t&&(!wr||!xr||Sr)||"split"===t&&!_r){var c=/./[a],h=r(a,""[t],(function(t,e,r,n,i){return e.exec===sr?o&&!i?{done:!0,value:c.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:xr,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Sr}),u=h[0],l=h[1];et(String.prototype,t,u),et(RegExp.prototype,a,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}n&&T(RegExp.prototype[a],"sham",!0)},Ar=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Er=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==l(t))throw TypeError("RegExp#exec called on incompatible receiver");return sr.call(t,e)};Cr("search",1,(function(t,e,r){return[function(e){var r=d(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=A(t),a=String(this),o=i.lastIndex;Ar(o,0)||(i.lastIndex=0);var s=Er(i,a);return Ar(i.lastIndex,o)||(i.lastIndex=o),null===s?-1:s.index}]}));var Rr=Ht("species"),Tr=function(t,e){var r,n=A(t).constructor;return void 0===n||null==(r=A(n)[Rr])?e:Mt(r)},Lr=function(t){return function(e,r){var n,i,a=String(d(e)),o=st(r),s=a.length;return o<0||o>=s?t?"":void 0:(n=a.charCodeAt(o))<55296||n>56319||o+1===s||(i=a.charCodeAt(o+1))<56320||i>57343?t?a.charAt(o):n:t?a.slice(o,o+2):i-56320+(n-55296<<10)+65536}},Ir={codeAt:Lr(!1),charAt:Lr(!0)},Mr=Ir.charAt,Pr=function(t,e,r){return e+(r?Mr(t,e).length:1)},Or=[].push,Nr=Math.min,Fr=!i((function(){return!RegExp(4294967295,"y")}));Cr("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(d(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===t)return[n];if(!ur(t))return e.call(n,t,i);for(var a,o,s,c=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,l=new RegExp(t.source,h+"g");(a=sr.call(l,n))&&!((o=l.lastIndex)>u&&(c.push(n.slice(u,a.index)),a.length>1&&a.index<n.length&&Or.apply(c,a.slice(1)),s=a[0].length,u=o,c.length>=i));)l.lastIndex===a.index&&l.lastIndex++;return u===n.length?!s&&l.test("")||c.push(""):c.push(n.slice(u)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=d(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,i,r):n.call(String(i),e,r)},function(t,i){var a=r(n,t,this,i,n!==e);if(a.done)return a.value;var o=A(t),s=String(this),c=Tr(o,RegExp),h=o.unicode,u=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Fr?"y":"g"),l=new c(Fr?o:"^(?:"+o.source+")",u),f=void 0===i?4294967295:i>>>0;if(0===f)return[];if(0===s.length)return null===Er(l,s)?[s]:[];for(var p=0,d=0,g=[];d<s.length;){l.lastIndex=Fr?d:0;var v,m=Er(l,Fr?s:s.slice(d));if(null===m||(v=Nr(ht(l.lastIndex+(Fr?0:d)),s.length))===p)d=Pr(s,d,h);else{if(g.push(s.slice(p,d)),g.length===f)return g;for(var y=1;y<=m.length-1;y++)if(g.push(m[y]),g.length===f)return g;d=p=v}}return g.push(s.slice(p)),g}]}),!Fr);var Dr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var Br in Dr){var zr=n[Br],Ur=zr&&zr.prototype;if(Ur&&Ur.forEach!==le)try{T(Ur,"forEach",le)}catch(t){Ur.forEach=le}}e((function(t){var e=function(t){var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(t,e,r,n){var i=e&&e.prototype instanceof u?e:u,a=Object.create(i.prototype),o=new k(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return _()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=b(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,o),a}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var h={};function u(){}function l(){}function f(){}var p={};p[i]=function(){return this};var d=Object.getPrototypeOf,g=d&&d(d(S([])));g&&g!==e&&r.call(g,i)&&(p=g);var v=f.prototype=u.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t){var e;this._invoke=function(n,i){function a(){return new Promise((function(e,a){!function e(n,i,a,o){var s=c(t[n],t,i);if("throw"!==s.type){var h=s.arg,u=h.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,a,o)}),(function(t){e("throw",t,a,o)})):Promise.resolve(u).then((function(t){h.value=t,a(h)}),(function(t){return e("throw",t,a,o)}))}o(s.arg)}(n,i,e,a)}))}return e=e?e.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return l.prototype=v.constructor=f,f.constructor=l,f[o]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(y.prototype),y.prototype[a]=function(){return this},t.AsyncIterator=y,t.async=function(e,r,n,i){var a=new y(s(e,r,n,i));return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(v),v[o]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function jr(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){$r(a,n,i,o,s,"next",t)}function s(t){$r(a,n,i,o,s,"throw",t)}o(void 0)}))}}function qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gr(t,e,r){return e&&Vr(t.prototype,e),r&&Vr(t,r),t}function Wr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xr(t,e)}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xr(t,e){return(Xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Kr(t,e,r){return(Kr=Yr()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&Xr(i,r.prototype),i}).apply(null,arguments)}function Qr(t){var e="function"==typeof Map?new Map:void 0;return(Qr=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Kr(t,arguments,Zr(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Xr(n,t)})(t)}function Jr(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tn(t,e){return rn(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||an()}function en(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||nn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rn(t){if(Array.isArray(t))return t}function nn(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function an(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var on=bt.f,sn={}.toString,cn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],hn={f:function(t){return cn&&"[object Window]"==sn.call(t)?function(t){try{return on(t)}catch(t){return cn.slice()}}(t):on(g(t))}},un={f:Ht},ln=R.f,fn=function(t){var e=rt.Symbol||(rt.Symbol={});b(e,t)||ln(e,t,{value:un.f(t)})},pn=R.f,dn=Ht("toStringTag"),gn=function(t,e,r){t&&!b(t=r?t:t.prototype,dn)&&pn(t,dn,{configurable:!0,value:e})},vn=Gt.forEach,mn=q("hidden"),yn=Ht("toPrimitive"),bn=tt.set,wn=tt.getterFor("Symbol"),xn=Object.prototype,kn=n.Symbol,Sn=it("JSON","stringify"),_n=C.f,Cn=R.f,An=hn.f,En=c.f,Rn=z("symbols"),Tn=z("op-symbols"),Ln=z("string-to-symbol-registry"),In=z("symbol-to-string-registry"),Mn=z("wks"),Pn=n.QObject,On=!Pn||!Pn.prototype||!Pn.prototype.findChild,Nn=a&&i((function(){return 7!=Pe(Cn({},"a",{get:function(){return Cn(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=_n(xn,e);n&&delete xn[e],Cn(t,e,r),n&&t!==xn&&Cn(xn,e,n)}:Cn,Fn=function(t,e){var r=Rn[t]=Pe(kn.prototype);return bn(r,{type:"Symbol",tag:t,description:e}),a||(r.description=e),r},Dn=Dt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof kn},Bn=function(t,e,r){t===xn&&Bn(Tn,e,r),A(t);var n=m(e,!0);return A(r),b(Rn,n)?(r.enumerable?(b(t,mn)&&t[mn][n]&&(t[mn][n]=!1),r=Pe(r,{enumerable:h(0,!1)})):(b(t,mn)||Cn(t,mn,h(1,{})),t[mn][n]=!0),Nn(t,n,r)):Cn(t,n,r)},zn=function(t,e){A(t);var r=g(e),n=Ae(r).concat(jn(r));return vn(n,(function(e){a&&!Un.call(r,e)||Bn(t,e,r[e])})),t},Un=function(t){var e=m(t,!0),r=En.call(this,e);return!(this===xn&&b(Rn,e)&&!b(Tn,e))&&(!(r||!b(this,e)||!b(Rn,e)||b(this,mn)&&this[mn][e])||r)},Hn=function(t,e){var r=g(t),n=m(e,!0);if(r!==xn||!b(Rn,n)||b(Tn,n)){var i=_n(r,n);return!i||!b(Rn,n)||b(r,mn)&&r[mn][n]||(i.enumerable=!0),i}},$n=function(t){var e=An(g(t)),r=[];return vn(e,(function(t){b(Rn,t)||b(V,t)||r.push(t)})),r},jn=function(t){var e=t===xn,r=An(e?Tn:g(t)),n=[];return vn(r,(function(t){!b(Rn,t)||e&&!b(xn,t)||n.push(Rn[t])})),n};if(Ft||(et((kn=function(){if(this instanceof kn)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=$(t),r=function(t){this===xn&&r.call(Tn,t),b(this,mn)&&b(this[mn],e)&&(this[mn][e]=!1),Nn(this,e,h(1,t))};return a&&On&&Nn(xn,e,{configurable:!0,set:r}),Fn(e,t)}).prototype,"toString",(function(){return wn(this).tag})),et(kn,"withoutSetter",(function(t){return Fn($(t),t)})),c.f=Un,R.f=Bn,C.f=Hn,bt.f=hn.f=$n,wt.f=jn,un.f=function(t){return Fn(Ht(t),t)},a&&(Cn(kn.prototype,"description",{configurable:!0,get:function(){return wn(this).description}}),et(xn,"propertyIsEnumerable",Un,{unsafe:!0}))),It({global:!0,wrap:!0,forced:!Ft,sham:!Ft},{Symbol:kn}),vn(Ae(Mn),(function(t){fn(t)})),It({target:"Symbol",stat:!0,forced:!Ft},{for:function(t){var e=String(t);if(b(Ln,e))return Ln[e];var r=kn(e);return Ln[e]=r,In[r]=e,r},keyFor:function(t){if(!Dn(t))throw TypeError(t+" is not a symbol");if(b(In,t))return In[t]},useSetter:function(){On=!0},useSimple:function(){On=!1}}),It({target:"Object",stat:!0,forced:!Ft,sham:!a},{create:function(t,e){return void 0===e?Pe(t):zn(Pe(t),e)},defineProperty:Bn,defineProperties:zn,getOwnPropertyDescriptor:Hn}),It({target:"Object",stat:!0,forced:!Ft},{getOwnPropertyNames:$n,getOwnPropertySymbols:jn}),It({target:"Object",stat:!0,forced:i((function(){wt.f(1)}))},{getOwnPropertySymbols:function(t){return wt.f(Ot(t))}}),Sn){var qn=!Ft||i((function(){var t=kn();return"[null]"!=Sn([t])||"{}"!=Sn({a:t})||"{}"!=Sn(Object(t))}));It({target:"JSON",stat:!0,forced:qn},{stringify:function(t,e,r){for(var n,i=[t],a=1;arguments.length>a;)i.push(arguments[a++]);if(n=e,(v(e)||void 0!==t)&&!Dn(t))return Nt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Dn(e))return e}),i[1]=e,Sn.apply(null,i)}})}kn.prototype[yn]||T(kn.prototype,yn,kn.prototype.valueOf),gn(kn,"Symbol"),V[mn]=!0;var Vn=R.f,Gn=n.Symbol;if(a&&"function"==typeof Gn&&(!("description"in Gn.prototype)||void 0!==Gn().description)){var Wn={},Zn=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Zn?new Gn(t):void 0===t?Gn():Gn(t);return""===t&&(Wn[e]=!0),e};kt(Zn,Gn);var Xn=Zn.prototype=Gn.prototype;Xn.constructor=Zn;var Yn=Xn.toString,Kn="Symbol(test)"==String(Gn("test")),Qn=/^Symbol\((.*)\)[^)]+$/;Vn(Xn,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=Yn.call(t);if(b(Wn,t))return"";var r=Kn?e.slice(7,-1):e.replace(Qn,"$1");return""===r?void 0:r}}),It({global:!0,forced:!0},{Symbol:Zn})}fn("iterator");var Jn=function(t,e,r){var n=m(e);n in t?R.f(t,n,h(0,r)):t[n]=r},ti=Ht("isConcatSpreadable"),ei=Kt>=51||!i((function(){var t=[];return t[ti]=!1,t.concat()[0]!==t})),ri=Jt("concat"),ni=function(t){if(!v(t))return!1;var e=t[ti];return void 0!==e?!!e:Nt(t)};It({target:"Array",proto:!0,forced:!ei||!ri},{concat:function(t){var e,r,n,i,a,o=Ot(this),s=jt(o,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?o:arguments[e],ni(a)){if(c+(i=ht(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,c++)r in a&&Jn(s,c,a[r])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Jn(s,c++,a)}return s.length=c,s}});var ii=Ht("unscopables"),ai=Array.prototype;null==ai[ii]&&R.f(ai,ii,{configurable:!0,value:Pe(null)});var oi=function(t){ai[ii][t]=!0},si=Gt.find,ci=!0,hi=ne("find");"find"in[]&&Array(1).find((function(){ci=!1})),It({target:"Array",proto:!0,forced:ci||!hi},{find:function(t){return si(this,t,arguments.length>1?arguments[1]:void 0)}}),oi("find");var ui,li,fi,pi={},di=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),gi=q("IE_PROTO"),vi=Object.prototype,mi=di?Object.getPrototypeOf:function(t){return t=Ot(t),b(t,gi)?t[gi]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?vi:null},yi=Ht("iterator"),bi=!1;[].keys&&("next"in(fi=[].keys())?(li=mi(mi(fi)))!==Object.prototype&&(ui=li):bi=!0),null==ui&&(ui={}),b(ui,yi)||T(ui,yi,(function(){return this}));var wi={IteratorPrototype:ui,BUGGY_SAFARI_ITERATORS:bi},xi=wi.IteratorPrototype,ki=function(){return this},Si=function(t,e,r){var n=e+" Iterator";return t.prototype=Pe(xi,{next:h(1,r)}),gn(t,n,!1),pi[n]=ki,t},_i=wi.IteratorPrototype,Ci=wi.BUGGY_SAFARI_ITERATORS,Ai=Ht("iterator"),Ei=function(){return this},Ri=function(t,e,r,n,i,a,o){Si(r,e,n);var s,c,h,u=function(t){if(t===i&&g)return g;if(!Ci&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",f=!1,p=t.prototype,d=p[Ai]||p["@@iterator"]||i&&p[i],g=!Ci&&d||u(i),v="Array"==e&&p.entries||d;if(v&&(s=mi(v.call(new t)),_i!==Object.prototype&&s.next&&(mi(s)!==_i&&(_e?_e(s,_i):"function"!=typeof s[Ai]&&T(s,Ai,Ei)),gn(s,l,!0))),"values"==i&&d&&"values"!==d.name&&(f=!0,g=function(){return d.call(this)}),p[Ai]!==g&&T(p,Ai,g),pi[e]=g,i)if(c={values:u("values"),keys:a?g:u("keys"),entries:u("entries")},o)for(h in c)!Ci&&!f&&h in p||et(p,h,c[h]);else It({target:e,proto:!0,forced:Ci||f},c);return c},Ti=tt.set,Li=tt.getterFor("Array Iterator"),Ii=Ri(Array,"Array",(function(t,e){Ti(this,{type:"Array Iterator",target:g(t),index:0,kind:e})}),(function(){var t=Li(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");pi.Arguments=pi.Array,oi("keys"),oi("values"),oi("entries");var Mi=[].join,Pi=p!=Object,Oi=se("join",",");It({target:"Array",proto:!0,forced:Pi||!Oi},{join:function(t){return Mi.call(g(this),void 0===t?",":t)}});var Ni=Gt.map,Fi=Jt("map"),Di=ne("map");It({target:"Array",proto:!0,forced:!Fi||!Di},{map:function(t){return Ni(this,t,arguments.length>1?arguments[1]:void 0)}});var Bi=Jt("slice"),zi=ne("slice",{ACCESSORS:!0,0:0,1:2}),Ui=Ht("species"),Hi=[].slice,$i=Math.max;It({target:"Array",proto:!0,forced:!Bi||!zi},{slice:function(t,e){var r,n,i,a=g(this),o=ht(a.length),s=ft(t,o),c=ft(void 0===e?o:e,o);if(Nt(a)&&("function"!=typeof(r=a.constructor)||r!==Array&&!Nt(r.prototype)?v(r)&&null===(r=r[Ui])&&(r=void 0):r=void 0,r===Array||void 0===r))return Hi.call(a,s,c);for(n=new(void 0===r?Array:r)($i(c-s,0)),i=0;s<c;s++,i++)s in a&&Jn(n,i,a[s]);return n.length=i,n}});var ji=Jt("splice"),qi=ne("splice",{ACCESSORS:!0,0:0,1:2}),Vi=Math.max,Gi=Math.min;It({target:"Array",proto:!0,forced:!ji||!qi},{splice:function(t,e){var r,n,i,a,o,s,c=Ot(this),h=ht(c.length),u=ft(t,h),l=arguments.length;if(0===l?r=n=0:1===l?(r=0,n=h-u):(r=l-2,n=Gi(Vi(st(e),0),h-u)),h+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=jt(c,n),a=0;a<n;a++)(o=u+a)in c&&Jn(i,a,c[o]);if(i.length=n,r<n){for(a=u;a<h-n;a++)s=a+r,(o=a+n)in c?c[s]=c[o]:delete c[s];for(a=h;a>h-n+r;a--)delete c[a-1]}else if(r>n)for(a=h-n;a>u;a--)s=a+r-1,(o=a+n-1)in c?c[s]=c[o]:delete c[s];for(a=0;a<r;a++)c[a+u]=arguments[a+2];return c.length=h-n+r,i}});var Wi=R.f,Zi=Function.prototype,Xi=Zi.toString,Yi=/^\s*function ([^ (]*)/;!a||"name"in Zi||Wi(Zi,"name",{configurable:!0,get:function(){try{return Xi.call(this).match(Yi)[1]}catch(t){return""}}});var Ki=i((function(){mi(1)}));It({target:"Object",stat:!0,forced:Ki,sham:!di},{getPrototypeOf:function(t){return mi(Ot(t))}});var Qi={};Qi[Ht("toStringTag")]="z";var Ji="[object z]"===String(Qi),ta=Ht("toStringTag"),ea="Arguments"==l(function(){return arguments}()),ra=Ji?l:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ta))?r:ea?l(e):"Object"==(n=l(e))&&"function"==typeof e.callee?"Arguments":n},na=Ji?{}.toString:function(){return"[object "+ra(this)+"]"};Ji||et(Object.prototype,"toString",na,{unsafe:!0});var ia=Ht("species"),aa=function(t){var e=it(t),r=R.f;a&&e&&!e[ia]&&r(e,ia,{configurable:!0,get:function(){return this}})},oa=R.f,sa=bt.f,ca=tt.set,ha=Ht("match"),ua=n.RegExp,la=ua.prototype,fa=/a/g,pa=/a/g,da=new ua(fa)!==fa,ga=tr.UNSUPPORTED_Y;if(a&&Tt("RegExp",!da||ga||i((function(){return pa[ha]=!1,ua(fa)!=fa||ua(pa)==pa||"/a/i"!=ua(fa,"i")})))){for(var va=function(t,e){var r,n=this instanceof va,i=ur(t),a=void 0===e;if(!n&&i&&t.constructor===va&&a)return t;da?i&&!a&&(t=t.source):t instanceof va&&(a&&(e=Qe.call(t)),t=t.source),ga&&(r=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var o=Ce(da?new ua(t,e):ua(t,e),n?this:la,va);return ga&&r&&ca(o,{sticky:r}),o},ma=function(t){t in va||oa(va,t,{configurable:!0,get:function(){return ua[t]},set:function(e){ua[t]=e}})},ya=sa(ua),ba=0;ya.length>ba;)ma(ya[ba++]);la.constructor=va,va.prototype=la,et(n,"RegExp",va)}aa("RegExp");var wa=RegExp.prototype,xa=wa.toString,ka=i((function(){return"/a/b"!=xa.call({source:"a",flags:"b"})})),Sa="toString"!=xa.name;(ka||Sa)&&et(RegExp.prototype,"toString",(function(){var t=A(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in wa)?Qe.call(t):r)}),{unsafe:!0});var _a=Ir.charAt,Ca=tt.set,Aa=tt.getterFor("String Iterator");Ri(String,"String",(function(t){Ca(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Aa(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=_a(r,n),e.index+=t.length,{value:t,done:!1})})),Cr("match",1,(function(t,e,r){return[function(e){var r=d(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=A(t),a=String(this);if(!i.global)return Er(i,a);var o=i.unicode;i.lastIndex=0;for(var s,c=[],h=0;null!==(s=Er(i,a));){var u=String(s[0]);c[h]=u,""===u&&(i.lastIndex=Pr(a,ht(i.lastIndex),o)),h++}return 0===h?null:c}]}));var Ea=Math.max,Ra=Math.min,Ta=Math.floor,La=/\$([$&'`]|\d\d?|<[^>]*>)/g,Ia=/\$([$&'`]|\d\d?)/g;Cr("replace",2,(function(t,e,r,n){var i=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,a=n.REPLACE_KEEPS_$0,o=i?"$":"$0";return[function(r,n){var i=d(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!i&&a||"string"==typeof n&&-1===n.indexOf(o)){var c=r(e,t,this,n);if(c.done)return c.value}var h=A(t),u=String(this),l="function"==typeof n;l||(n=String(n));var f=h.global;if(f){var p=h.unicode;h.lastIndex=0}for(var d=[];;){var g=Er(h,u);if(null===g)break;if(d.push(g),!f)break;""===String(g[0])&&(h.lastIndex=Pr(u,ht(h.lastIndex),p))}for(var v,m="",y=0,b=0;b<d.length;b++){g=d[b];for(var w=String(g[0]),x=Ea(Ra(st(g.index),u.length),0),k=[],S=1;S<g.length;S++)k.push(void 0===(v=g[S])?v:String(v));var _=g.groups;if(l){var C=[w].concat(k,x,u);void 0!==_&&C.push(_);var E=String(n.apply(void 0,C))}else E=s(w,u,x,k,_,n);x>=y&&(m+=u.slice(y,x)+E,y=x+w.length)}return m+u.slice(y)}];function s(t,r,n,i,a,o){var s=n+t.length,c=i.length,h=Ia;return void 0!==a&&(a=Ot(a),h=La),e.call(o,h,(function(e,o){var h;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":h=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return e;if(u>c){var l=Ta(u/10);return 0===l?e:l<=c?void 0===i[l-1]?o.charAt(1):i[l-1]+o.charAt(1):e}h=i[u-1]}return void 0===h?"":h}))}}));var Ma=Ht("iterator"),Pa=Ht("toStringTag"),Oa=Ii.values;for(var Na in Dr){var Fa=n[Na],Da=Fa&&Fa.prototype;if(Da){if(Da[Ma]!==Oa)try{T(Da,Ma,Oa)}catch(t){Da[Ma]=Oa}if(Da[Pa]||T(Da,Pa,Na),Dr[Na])for(var Ba in Ii)if(Da[Ba]!==Ii[Ba])try{T(Da,Ba,Ii[Ba])}catch(t){Da[Ba]=Ii[Ba]}}}
/*!
	 * jQuery JavaScript Library v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2018-01-20T17:24Z
	 */var za=[],Ua=window.document,Ha=Object.getPrototypeOf,$a=za.slice,ja=za.concat,qa=za.push,Va=za.indexOf,Ga={},Wa=Ga.toString,Za=Ga.hasOwnProperty,Xa=Za.toString,Ya=Xa.call(Object),Ka={},Qa=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},Ja=function(t){return null!=t&&t===t.window},to={type:!0,src:!0,noModule:!0};function eo(t,e,r){var n,i=(e=e||Ua).createElement("script");if(i.text=t,r)for(n in to)r[n]&&(i[n]=r[n]);e.head.appendChild(i).parentNode.removeChild(i)}function ro(t){return null==t?t+"":"object"===Hr(t)||"function"==typeof t?Ga[Wa.call(t)]||"object":Hr(t)}var no="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",io=function t(e,r){return new t.fn.init(e,r)},ao=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function oo(t){var e=!!t&&"length"in t&&t.length,r=ro(t);return!Qa(t)&&!Ja(t)&&("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}io.fn=io.prototype={jquery:no,constructor:io,length:0,toArray:function(){return $a.call(this)},get:function(t){return null==t?$a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=io.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return io.each(this,t)},map:function(t){return this.pushStack(io.map(this,(function(e,r){return t.call(e,r,e)})))},slice:function(){return this.pushStack($a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:qa,sort:za.sort,splice:za.splice},io.extend=io.fn.extend=function(){var t,e,r,n,i,a,o=arguments[0]||{},s=1,c=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[s]||{},s++),"object"===Hr(o)||Qa(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(t=arguments[s]))for(e in t)r=o[e],o!==(n=t[e])&&(h&&n&&(io.isPlainObject(n)||(i=Array.isArray(n)))?(i?(i=!1,a=r&&Array.isArray(r)?r:[]):a=r&&io.isPlainObject(r)?r:{},o[e]=io.extend(h,a,n)):void 0!==n&&(o[e]=n));return o},io.extend({expando:"jQuery"+(no+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==Wa.call(t))&&(!(e=Ha(t))||"function"==typeof(r=Za.call(e,"constructor")&&e.constructor)&&Xa.call(r)===Ya)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){eo(t)},each:function(t,e){var r,n=0;if(oo(t))for(r=t.length;n<r&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ao,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(oo(Object(t))?io.merge(r,"string"==typeof t?[t]:t):qa.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:Va.call(e,t,r)},merge:function(t,e){for(var r=+e.length,n=0,i=t.length;n<r;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,r){for(var n=[],i=0,a=t.length,o=!r;i<a;i++)!e(t[i],i)!==o&&n.push(t[i]);return n},map:function(t,e,r){var n,i,a=0,o=[];if(oo(t))for(n=t.length;a<n;a++)null!=(i=e(t[a],a,r))&&o.push(i);else for(a in t)null!=(i=e(t[a],a,r))&&o.push(i);return ja.apply([],o)},guid:1,support:Ka}),"function"==typeof Symbol&&(io.fn[Symbol.iterator]=za[Symbol.iterator]),io.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){Ga["[object "+e+"]"]=e.toLowerCase()}));var so=
/*!
	* Sizzle CSS Selector Engine v2.3.3
	* https://sizzlejs.com/
	*
	* Copyright jQuery Foundation and other contributors
	* Released under the MIT license
	* http://jquery.org/license
	*
	* Date: 2016-08-08
	*/
function(t){var e,r,n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w="sizzle"+1*new Date,x=t.document,k=0,S=0,_=ot(),C=ot(),A=ot(),E=function(t,e){return t===e&&(l=!0),0},R={}.hasOwnProperty,T=[],L=T.pop,I=T.push,M=T.push,P=T.slice,O=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",D="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+F+"*("+D+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+F+"*\\]",z=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",U=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),$=new RegExp("^"+F+"*,"+F+"*"),j=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),V=new RegExp(z),G=new RegExp("^"+D+"$"),W={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),tt=function(t,e,r){var n="0x"+e-65536;return n!=n||r?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){f()},it=yt((function(t){return!0===t.disabled&&("form"in t||"label"in t)}),{dir:"parentNode",next:"legend"});try{M.apply(T=P.call(x.childNodes),x.childNodes),T[x.childNodes.length].nodeType}catch(t){M={apply:T.length?function(t,e){I.apply(t,P.call(e))}:function(t,e){for(var r=t.length,n=0;t[r++]=e[n++];);t.length=r-1}}}function at(t,e,n,i){var a,s,h,u,l,d,m,y=e&&e.ownerDocument,k=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==k&&9!==k&&11!==k)return n;if(!i&&((e?e.ownerDocument||e:x)!==p&&f(e),e=e||p,g)){if(11!==k&&(l=K.exec(t)))if(a=l[1]){if(9===k){if(!(h=e.getElementById(a)))return n;if(h.id===a)return n.push(h),n}else if(y&&(h=y.getElementById(a))&&b(e,h)&&h.id===a)return n.push(h),n}else{if(l[2])return M.apply(n,e.getElementsByTagName(t)),n;if((a=l[3])&&r.getElementsByClassName&&e.getElementsByClassName)return M.apply(n,e.getElementsByClassName(a)),n}if(r.qsa&&!A[t+" "]&&(!v||!v.test(t))){if(1!==k)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(et,rt):e.setAttribute("id",u=w),s=(d=o(t)).length;s--;)d[s]="#"+u+" "+mt(d[s]);m=d.join(","),y=Q.test(t)&&gt(e.parentNode)||e}if(m)try{return M.apply(n,y.querySelectorAll(m)),n}catch(t){}finally{u===w&&e.removeAttribute("id")}}}return c(t.replace(H,"$1"),e,n,i)}function ot(){var t=[];return function e(r,i){return t.push(r+" ")>n.cacheLength&&delete e[t.shift()],e[r+" "]=i}}function st(t){return t[w]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var r=t.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=e}function ut(t,e){var r=e&&t,n=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function lt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return st((function(e){return e=+e,st((function(r,n){for(var i,a=t([],r.length,e),o=a.length;o--;)r[i=a[o]]&&(r[i]=!(n[i]=r[i]))}))}))}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in r=at.support={},a=at.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=at.setDocument=function(t){var e,i,o=t?t.ownerDocument||t:x;return o!==p&&9===o.nodeType&&o.documentElement?(d=(p=o).documentElement,g=!a(p),x!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",nt,!1):i.attachEvent&&i.attachEvent("onunload",nt)),r.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),r.getElementsByTagName=ct((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),r.getElementsByClassName=Y.test(p.getElementsByClassName),r.getById=ct((function(t){return d.appendChild(t).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),r.getById?(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r=e.getElementById(t);return r?[r]:[]}}):(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var r=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return r&&r.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r,n,i,a=e.getElementById(t);if(a){if((r=a.getAttributeNode("id"))&&r.value===t)return[a];for(i=e.getElementsByName(t),n=0;a=i[n++];)if((r=a.getAttributeNode("id"))&&r.value===t)return[a]}return[]}}),n.find.TAG=r.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):r.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,n=[],i=0,a=e.getElementsByTagName(t);if("*"===t){for(;r=a[i++];)1===r.nodeType&&n.push(r);return n}return a},n.find.CLASS=r.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(r.qsa=Y.test(p.querySelectorAll))&&(ct((function(t){d.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+F+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+w+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")}))),(r.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct((function(t){r.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",z)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=Y.test(d.compareDocumentPosition),b=e||Y.test(d.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return l=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!r.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===x&&b(x,t)?-1:e===p||e.ownerDocument===x&&b(x,e)?1:u?O(u,t)-O(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return l=!0,0;var r,n=0,i=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!i||!a)return t===p?-1:e===p?1:i?-1:a?1:u?O(u,t)-O(u,e):0;if(i===a)return ut(t,e);for(r=t;r=r.parentNode;)o.unshift(r);for(r=e;r=r.parentNode;)s.unshift(r);for(;o[n]===s[n];)n++;return n?ut(o[n],s[n]):o[n]===x?-1:s[n]===x?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(q,"='$1']"),r.matchesSelector&&g&&!A[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var n=y.call(t,e);if(n||r.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var i=n.attrHandle[e.toLowerCase()],a=i&&R.call(n.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==a?a:r.attributes||!g?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},at.escape=function(t){return(t+"").replace(et,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],i=0,a=0;if(l=!r.detectDuplicates,u=!r.sortStable&&t.slice(0),t.sort(E),l){for(;e=t[a++];)e===t[a]&&(i=n.push(a));for(;i--;)t.splice(n[i],1)}return u=null,t},i=at.getText=function(t){var e,r="",n=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=i(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[n++];)r+=i(e);return r},(n=at.selectors={cacheLength:50,createPseudo:st,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return W.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&V.test(r)&&(e=o(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&_(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,r){return function(n){var i=at.attr(n,t);return null==i?"!="===e:!e||(i+="","="===e?i===r:"!="===e?i!==r:"^="===e?r&&0===i.indexOf(r):"*="===e?r&&i.indexOf(r)>-1:"$="===e?r&&i.slice(-r.length)===r:"~="===e?(" "+i.replace(U," ")+" ").indexOf(r)>-1:"|="===e&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,r,n,i){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===i?function(t){return!!t.parentNode}:function(e,r,c){var h,u,l,f,p,d,g=a!==o?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(v){if(a){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[o?v.firstChild:v.lastChild],o&&y){for(b=(p=(h=(u=(l=(f=v)[w]||(f[w]={}))[f.uniqueID]||(l[f.uniqueID]={}))[t]||[])[0]===k&&h[1])&&h[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[k,p,b];break}}else if(y&&(b=p=(h=(u=(l=(f=e)[w]||(f[w]={}))[f.uniqueID]||(l[f.uniqueID]={}))[t]||[])[0]===k&&h[1]),!1===b)for(;(f=++p&&f&&f[g]||(b=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&((u=(l=f[w]||(f[w]={}))[f.uniqueID]||(l[f.uniqueID]={}))[t]=[k,b]),f!==e)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,e){var r,i=n.pseudos[t]||n.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return i[w]?i(e):i.length>1?(r=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?st((function(t,r){for(var n,a=i(t,e),o=a.length;o--;)t[n=O(t,a[o])]=!(r[n]=a[o])})):function(t){return i(t,0,r)}):i}},pseudos:{not:st((function(t){var e=[],r=[],n=s(t.replace(H,"$1"));return n[w]?st((function(t,e,r,i){for(var a,o=n(t,null,i,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))})):function(t,i,a){return e[0]=t,n(e,null,a,r),e[0]=null,!r.pop()}})),has:st((function(t){return function(e){return at(t,e).length>0}})),contains:st((function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}})),lang:st((function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var r;do{if(r=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(r=r.toLowerCase())===t||0===r.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt((function(){return[0]})),last:dt((function(t,e){return[e-1]})),eq:dt((function(t,e,r){return[r<0?r+e:r]})),even:dt((function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t})),odd:dt((function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t})),lt:dt((function(t,e,r){for(var n=r<0?r+e:r;--n>=0;)t.push(n);return t})),gt:dt((function(t,e,r){for(var n=r<0?r+e:r;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=lt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function vt(){}function mt(t){for(var e=0,r=t.length,n="";e<r;e++)n+=t[e].value;return n}function yt(t,e,r){var n=e.dir,i=e.next,a=i||n,o=r&&"parentNode"===a,s=S++;return e.first?function(e,r,i){for(;e=e[n];)if(1===e.nodeType||o)return t(e,r,i);return!1}:function(e,r,c){var h,u,l,f=[k,s];if(c){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,r,c))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(u=(l=e[w]||(e[w]={}))[e.uniqueID]||(l[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[n]||e;else{if((h=u[a])&&h[0]===k&&h[1]===s)return f[2]=h[2];if(u[a]=f,f[2]=t(e,r,c))return!0}return!1}}function bt(t){return t.length>1?function(e,r,n){for(var i=t.length;i--;)if(!t[i](e,r,n))return!1;return!0}:t[0]}function wt(t,e,r,n,i){for(var a,o=[],s=0,c=t.length,h=null!=e;s<c;s++)(a=t[s])&&(r&&!r(a,n,i)||(o.push(a),h&&e.push(s)));return o}function xt(t,e,r,n,i,a){return n&&!n[w]&&(n=xt(n)),i&&!i[w]&&(i=xt(i,a)),st((function(a,o,s,c){var h,u,l,f=[],p=[],d=o.length,g=a||function(t,e,r){for(var n=0,i=e.length;n<i;n++)at(t,e[n],r);return r}(e||"*",s.nodeType?[s]:s,[]),v=!t||!a&&e?g:wt(g,f,t,s,c),m=r?i||(a?t:d||n)?[]:o:v;if(r&&r(v,m,s,c),n)for(h=wt(m,p),n(h,[],s,c),u=h.length;u--;)(l=h[u])&&(m[p[u]]=!(v[p[u]]=l));if(a){if(i||t){if(i){for(h=[],u=m.length;u--;)(l=m[u])&&h.push(v[u]=l);i(null,m=[],h,c)}for(u=m.length;u--;)(l=m[u])&&(h=i?O(a,l):f[u])>-1&&(a[h]=!(o[h]=l))}}else m=wt(m===o?m.splice(d,m.length):m),i?i(null,o,m,c):M.apply(o,m)}))}function kt(t){for(var e,r,i,a=t.length,o=n.relative[t[0].type],s=o||n.relative[" "],c=o?1:0,u=yt((function(t){return t===e}),s,!0),l=yt((function(t){return O(e,t)>-1}),s,!0),f=[function(t,r,n){var i=!o&&(n||r!==h)||((e=r).nodeType?u(t,r,n):l(t,r,n));return e=null,i}];c<a;c++)if(r=n.relative[t[c].type])f=[yt(bt(f),r)];else{if((r=n.filter[t[c].type].apply(null,t[c].matches))[w]){for(i=++c;i<a&&!n.relative[t[i].type];i++);return xt(c>1&&bt(f),c>1&&mt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(H,"$1"),r,c<i&&kt(t.slice(c,i)),i<a&&kt(t=t.slice(i)),i<a&&mt(t))}f.push(r)}return bt(f)}return vt.prototype=n.filters=n.pseudos,n.setFilters=new vt,o=at.tokenize=function(t,e){var r,i,a,o,s,c,h,u=C[t+" "];if(u)return e?0:u.slice(0);for(s=t,c=[],h=n.preFilter;s;){for(o in r&&!(i=$.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(a=[])),r=!1,(i=j.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(H," ")}),s=s.slice(r.length)),n.filter)!(i=W[o].exec(s))||h[o]&&!(i=h[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return e?s.length:s?at.error(t):C(t,c).slice(0)},s=at.compile=function(t,e){var r,i=[],a=[],s=A[t+" "];if(!s){for(e||(e=o(t)),r=e.length;r--;)(s=kt(e[r]))[w]?i.push(s):a.push(s);(s=A(t,function(t,e){var r=e.length>0,i=t.length>0,a=function(a,o,s,c,u){var l,d,v,m=0,y="0",b=a&&[],w=[],x=h,S=a||i&&n.find.TAG("*",u),_=k+=null==x?1:Math.random()||.1,C=S.length;for(u&&(h=o===p||o||u);y!==C&&null!=(l=S[y]);y++){if(i&&l){for(d=0,o||l.ownerDocument===p||(f(l),s=!g);v=t[d++];)if(v(l,o||p,s)){c.push(l);break}u&&(k=_)}r&&((l=!v&&l)&&m--,a&&b.push(l))}if(m+=y,r&&y!==m){for(d=0;v=e[d++];)v(b,w,o,s);if(a){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=L.call(c));w=wt(w)}M.apply(c,w),u&&!a&&w.length>0&&m+e.length>1&&at.uniqueSort(c)}return u&&(k=_,h=x),b};return r?st(a):a}(a,i))).selector=t}return s},c=at.select=function(t,e,r,i){var a,c,h,u,l,f="function"==typeof t&&t,p=!i&&o(t=f.selector||t);if(r=r||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(h=c[0]).type&&9===e.nodeType&&g&&n.relative[c[1].type]){if(!(e=(n.find.ID(h.matches[0].replace(J,tt),e)||[])[0]))return r;f&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(a=W.needsContext.test(t)?0:c.length;a--&&(h=c[a],!n.relative[u=h.type]);)if((l=n.find[u])&&(i=l(h.matches[0].replace(J,tt),Q.test(c[0].type)&&gt(e.parentNode)||e))){if(c.splice(a,1),!(t=i.length&&mt(c)))return M.apply(r,i),r;break}}return(f||s(t,p))(i,e,!g,r,!e||Q.test(t)&&gt(e.parentNode)||e),r},r.sortStable=w.split("").sort(E).join("")===w,r.detectDuplicates=!!l,f(),r.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),r.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ht(N,(function(t,e,r){var n;if(!r)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),at}(window);io.find=so,(io.expr=so.selectors)[":"]=io.expr.pseudos,io.uniqueSort=io.unique=so.uniqueSort,io.text=so.getText,io.isXMLDoc=so.isXML,io.contains=so.contains,io.escapeSelector=so.escape;var co=function(t,e,r){for(var n=[],i=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&io(t).is(r))break;n.push(t)}return n},ho=function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r},uo=io.expr.match.needsContext;function lo(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var fo=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function po(t,e,r){return Qa(e)?io.grep(t,(function(t,n){return!!e.call(t,n,t)!==r})):e.nodeType?io.grep(t,(function(t){return t===e!==r})):"string"!=typeof e?io.grep(t,(function(t){return Va.call(e,t)>-1!==r})):io.filter(e,t,r)}io.filter=function(t,e,r){var n=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?io.find.matchesSelector(n,t)?[n]:[]:io.find.matches(t,io.grep(e,(function(t){return 1===t.nodeType})))},io.fn.extend({find:function(t){var e,r,n=this.length,i=this;if("string"!=typeof t)return this.pushStack(io(t).filter((function(){for(e=0;e<n;e++)if(io.contains(i[e],this))return!0})));for(r=this.pushStack([]),e=0;e<n;e++)io.find(t,i[e],r);return n>1?io.uniqueSort(r):r},filter:function(t){return this.pushStack(po(this,t||[],!1))},not:function(t){return this.pushStack(po(this,t||[],!0))},is:function(t){return!!po(this,"string"==typeof t&&uo.test(t)?io(t):t||[],!1).length}});var go,vo=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(io.fn.init=function(t,e,r){var n,i;if(!t)return this;if(r=r||go,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vo.exec(t))||!n[1]&&e)return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof io?e[0]:e,io.merge(this,io.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Ua,!0)),fo.test(n[1])&&io.isPlainObject(e))for(n in e)Qa(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=Ua.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):Qa(t)?void 0!==r.ready?r.ready(t):t(io):io.makeArray(t,this)}).prototype=io.fn,go=io(Ua);var mo=/^(?:parents|prev(?:Until|All))/,yo={children:!0,contents:!0,next:!0,prev:!0};function bo(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}io.fn.extend({has:function(t){var e=io(t,this),r=e.length;return this.filter((function(){for(var t=0;t<r;t++)if(io.contains(this,e[t]))return!0}))},closest:function(t,e){var r,n=0,i=this.length,a=[],o="string"!=typeof t&&io(t);if(!uo.test(t))for(;n<i;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(o?o.index(r)>-1:1===r.nodeType&&io.find.matchesSelector(r,t))){a.push(r);break}return this.pushStack(a.length>1?io.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?Va.call(io(t),this[0]):Va.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(io.uniqueSort(io.merge(this.get(),io(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),io.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return co(t,"parentNode")},parentsUntil:function(t,e,r){return co(t,"parentNode",r)},next:function(t){return bo(t,"nextSibling")},prev:function(t){return bo(t,"previousSibling")},nextAll:function(t){return co(t,"nextSibling")},prevAll:function(t){return co(t,"previousSibling")},nextUntil:function(t,e,r){return co(t,"nextSibling",r)},prevUntil:function(t,e,r){return co(t,"previousSibling",r)},siblings:function(t){return ho((t.parentNode||{}).firstChild,t)},children:function(t){return ho(t.firstChild)},contents:function(t){return lo(t,"iframe")?t.contentDocument:(lo(t,"template")&&(t=t.content||t),io.merge([],t.childNodes))}},(function(t,e){io.fn[t]=function(r,n){var i=io.map(this,e,r);return"Until"!==t.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=io.filter(n,i)),this.length>1&&(yo[t]||io.uniqueSort(i),mo.test(t)&&i.reverse()),this.pushStack(i)}}));var wo=/[^\x20\t\r\n\f]+/g;function xo(t){return t}function ko(t){throw t}function So(t,e,r,n){var i;try{t&&Qa(i=t.promise)?i.call(t).done(e).fail(r):t&&Qa(i=t.then)?i.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(t){r.apply(void 0,[t])}}io.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return io.each(t.match(wo)||[],(function(t,r){e[r]=!0})),e}(t):io.extend({},t);var e,r,n,i,a=[],o=[],s=-1,c=function(){for(i=i||t.once,n=e=!0;o.length;s=-1)for(r=o.shift();++s<a.length;)!1===a[s].apply(r[0],r[1])&&t.stopOnFalse&&(s=a.length,r=!1);t.memory||(r=!1),e=!1,i&&(a=r?[]:"")},h={add:function(){return a&&(r&&!e&&(s=a.length-1,o.push(r)),function e(r){io.each(r,(function(r,n){Qa(n)?t.unique&&h.has(n)||a.push(n):n&&n.length&&"string"!==ro(n)&&e(n)}))}(arguments),r&&!e&&c()),this},remove:function(){return io.each(arguments,(function(t,e){for(var r;(r=io.inArray(e,a,r))>-1;)a.splice(r,1),r<=s&&s--})),this},has:function(t){return t?io.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=r="",this},disabled:function(){return!a},lock:function(){return i=o=[],r||e||(a=r=""),this},locked:function(){return!!i},fireWith:function(t,r){return i||(r=[t,(r=r||[]).slice?r.slice():r],o.push(r),e||c()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},io.extend({Deferred:function(t){var e=[["notify","progress",io.Callbacks("memory"),io.Callbacks("memory"),2],["resolve","done",io.Callbacks("once memory"),io.Callbacks("once memory"),0,"resolved"],["reject","fail",io.Callbacks("once memory"),io.Callbacks("once memory"),1,"rejected"]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return io.Deferred((function(r){io.each(e,(function(e,n){var a=Qa(t[n[4]])&&t[n[4]];i[n[1]]((function(){var t=a&&a.apply(this,arguments);t&&Qa(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,a?[t]:arguments)}))})),t=null})).promise()},then:function(t,r,n){var i=0;function a(t,e,r,n){return function(){var o=this,s=arguments,c=function(){var c,h;if(!(t<i)){if((c=r.apply(o,s))===e.promise())throw new TypeError("Thenable self-resolution");h=c&&("object"===Hr(c)||"function"==typeof c)&&c.then,Qa(h)?n?h.call(c,a(i,e,xo,n),a(i,e,ko,n)):(i++,h.call(c,a(i,e,xo,n),a(i,e,ko,n),a(i,e,xo,e.notifyWith))):(r!==xo&&(o=void 0,s=[c]),(n||e.resolveWith)(o,s))}},h=n?c:function(){try{c()}catch(n){io.Deferred.exceptionHook&&io.Deferred.exceptionHook(n,h.stackTrace),t+1>=i&&(r!==ko&&(o=void 0,s=[n]),e.rejectWith(o,s))}};t?h():(io.Deferred.getStackHook&&(h.stackTrace=io.Deferred.getStackHook()),window.setTimeout(h))}}return io.Deferred((function(i){e[0][3].add(a(0,i,Qa(n)?n:xo,i.notifyWith)),e[1][3].add(a(0,i,Qa(t)?t:xo)),e[2][3].add(a(0,i,Qa(r)?r:ko))})).promise()},promise:function(t){return null!=t?io.extend(t,n):n}},i={};return io.each(e,(function(t,a){var o=a[2],s=a[5];n[a[1]]=o.add,s&&o.add((function(){r=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(a[3].fire),i[a[0]]=function(){return i[a[0]+"With"](this===i?void 0:this,arguments),this},i[a[0]+"With"]=o.fireWith})),n.promise(i),t&&t.call(i,i),i},when:function(t){var e=arguments.length,r=e,n=Array(r),i=$a.call(arguments),a=io.Deferred(),o=function(t){return function(r){n[t]=this,i[t]=arguments.length>1?$a.call(arguments):r,--e||a.resolveWith(n,i)}};if(e<=1&&(So(t,a.done(o(r)).resolve,a.reject,!e),"pending"===a.state()||Qa(i[r]&&i[r].then)))return a.then();for(;r--;)So(i[r],o(r),a.reject);return a.promise()}});var _o=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;io.Deferred.exceptionHook=function(t,e){window.console&&window.console.warn&&t&&_o.test(t.name)&&window.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},io.readyException=function(t){window.setTimeout((function(){throw t}))};var Co=io.Deferred();function Ao(){Ua.removeEventListener("DOMContentLoaded",Ao),window.removeEventListener("load",Ao),io.ready()}io.fn.ready=function(t){return Co.then(t).catch((function(t){io.readyException(t)})),this},io.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--io.readyWait:io.isReady)||(io.isReady=!0,!0!==t&&--io.readyWait>0||Co.resolveWith(Ua,[io]))}}),io.ready.then=Co.then,"complete"===Ua.readyState||"loading"!==Ua.readyState&&!Ua.documentElement.doScroll?window.setTimeout(io.ready):(Ua.addEventListener("DOMContentLoaded",Ao),window.addEventListener("load",Ao));var Eo=function t(e,r,n,i,a,o,s){var c=0,h=e.length,u=null==n;if("object"===ro(n))for(c in a=!0,n)t(e,r,c,n[c],!0,o,s);else if(void 0!==i&&(a=!0,Qa(i)||(s=!0),u&&(s?(r.call(e,i),r=null):(u=r,r=function(t,e,r){return u.call(io(t),r)})),r))for(;c<h;c++)r(e[c],n,s?i:i.call(e[c],c,r(e[c],n)));return a?e:u?r.call(e):h?r(e[0],n):o},Ro=/^-ms-/,To=/-([a-z])/g;function Lo(t,e){return e.toUpperCase()}function Io(t){return t.replace(Ro,"ms-").replace(To,Lo)}var Mo=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Po(){this.expando=io.expando+Po.uid++}Po.uid=1,Po.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Mo(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var n,i=this.cache(t);if("string"==typeof e)i[Io(e)]=r;else for(n in e)i[Io(n)]=e[n];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Io(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,n=t[this.expando];if(void 0!==n){if(void 0!==e){r=(e=Array.isArray(e)?e.map(Io):(e=Io(e))in n?[e]:e.match(wo)||[]).length;for(;r--;)delete n[e[r]]}(void 0===e||io.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!io.isEmptyObject(e)}};var Oo=new Po,No=new Po,Fo=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Do=/[A-Z]/g;function Bo(t,e,r){var n;if(void 0===r&&1===t.nodeType)if(n="data-"+e.replace(Do,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(n))){try{r=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Fo.test(t)?JSON.parse(t):t)}(r)}catch(t){}No.set(t,e,r)}else r=void 0;return r}io.extend({hasData:function(t){return No.hasData(t)||Oo.hasData(t)},data:function(t,e,r){return No.access(t,e,r)},removeData:function(t,e){No.remove(t,e)},_data:function(t,e,r){return Oo.access(t,e,r)},_removeData:function(t,e){Oo.remove(t,e)}}),io.fn.extend({data:function(t,e){var r,n,i,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(i=No.get(a),1===a.nodeType&&!Oo.get(a,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&0===(n=o[r].name).indexOf("data-")&&(n=Io(n.slice(5)),Bo(a,n,i[n]));Oo.set(a,"hasDataAttrs",!0)}return i}return"object"===Hr(t)?this.each((function(){No.set(this,t)})):Eo(this,(function(e){var r;if(a&&void 0===e)return void 0!==(r=No.get(a,t))||void 0!==(r=Bo(a,t))?r:void 0;this.each((function(){No.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){No.remove(this,t)}))}}),io.extend({queue:function(t,e,r){var n;if(t)return e=(e||"fx")+"queue",n=Oo.get(t,e),r&&(!n||Array.isArray(r)?n=Oo.access(t,e,io.makeArray(r)):n.push(r)),n||[]},dequeue:function(t,e){var r=io.queue(t,e=e||"fx"),n=r.length,i=r.shift(),a=io._queueHooks(t,e);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===e&&r.unshift("inprogress"),delete a.stop,i.call(t,(function(){io.dequeue(t,e)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return Oo.get(t,r)||Oo.access(t,r,{empty:io.Callbacks("once memory").add((function(){Oo.remove(t,[e+"queue",r])}))})}}),io.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?io.queue(this[0],t):void 0===e?this:this.each((function(){var r=io.queue(this,t,e);io._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&io.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){io.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,i=io.Deferred(),a=this,o=this.length,s=function(){--n||i.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(r=Oo.get(a[o],t+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(e)}});var zo=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Uo=new RegExp("^(?:([+-])=|)("+zo+")([a-z%]*)$","i"),Ho=["Top","Right","Bottom","Left"],$o=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&io.contains(t.ownerDocument,t)&&"none"===io.css(t,"display")},jo=function(t,e,r,n){var i,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];for(a in i=r.apply(t,n||[]),e)t.style[a]=o[a];return i};var qo={};function Vo(t){var e,r=t.ownerDocument,n=t.nodeName,i=qo[n];return i||(e=r.body.appendChild(r.createElement(n)),i=io.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),qo[n]=i,i)}function Go(t,e){for(var r,n,i=[],a=0,o=t.length;a<o;a++)(n=t[a]).style&&(r=n.style.display,e?("none"===r&&(i[a]=Oo.get(n,"display")||null,i[a]||(n.style.display="")),""===n.style.display&&$o(n)&&(i[a]=Vo(n))):"none"!==r&&(i[a]="none",Oo.set(n,"display",r)));for(a=0;a<o;a++)null!=i[a]&&(t[a].style.display=i[a]);return t}io.fn.extend({show:function(){return Go(this,!0)},hide:function(){return Go(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){$o(this)?io(this).show():io(this).hide()}))}});var Wo=/^(?:checkbox|radio)$/i,Zo=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xo=/^$|^module$|\/(?:java|ecma)script/i,Yo={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ko(t,e){var r;return r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&lo(t,e)?io.merge([t],r):r}function Qo(t,e){for(var r=0,n=t.length;r<n;r++)Oo.set(t[r],"globalEval",!e||Oo.get(e[r],"globalEval"))}Yo.optgroup=Yo.option,Yo.tbody=Yo.tfoot=Yo.colgroup=Yo.caption=Yo.thead,Yo.th=Yo.td;var Jo,ts,es=/<|&#?\w+;/;function rs(t,e,r,n,i){for(var a,o,s,c,h,u,l=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((a=t[p])||0===a)if("object"===ro(a))io.merge(f,a.nodeType?[a]:a);else if(es.test(a)){for(o=o||l.appendChild(e.createElement("div")),s=(Zo.exec(a)||["",""])[1].toLowerCase(),c=Yo[s]||Yo._default,o.innerHTML=c[1]+io.htmlPrefilter(a)+c[2],u=c[0];u--;)o=o.lastChild;io.merge(f,o.childNodes),(o=l.firstChild).textContent=""}else f.push(e.createTextNode(a));for(l.textContent="",p=0;a=f[p++];)if(n&&io.inArray(a,n)>-1)i&&i.push(a);else if(h=io.contains(a.ownerDocument,a),o=Ko(l.appendChild(a),"script"),h&&Qo(o),r)for(u=0;a=o[u++];)Xo.test(a.type||"")&&r.push(a);return l}Jo=Ua.createDocumentFragment().appendChild(Ua.createElement("div")),(ts=Ua.createElement("input")).setAttribute("type","radio"),ts.setAttribute("checked","checked"),ts.setAttribute("name","t"),Jo.appendChild(ts),Ka.checkClone=Jo.cloneNode(!0).cloneNode(!0).lastChild.checked,Jo.innerHTML="<textarea>x</textarea>",Ka.noCloneChecked=!!Jo.cloneNode(!0).lastChild.defaultValue;var ns=Ua.documentElement,is=/^key/,as=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,os=/^([^.]*)(?:\.(.+)|)/;function ss(){return!0}function cs(){return!1}function hs(){try{return Ua.activeElement}catch(t){}}function us(t,e,r,n,i,a){var o,s;if("object"===Hr(e)){for(s in"string"!=typeof r&&(n=n||r,r=void 0),e)us(t,s,r,n,e[s],a);return t}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=cs;else if(!i)return t;return 1===a&&(o=i,(i=function(t){return io().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=io.guid++)),t.each((function(){io.event.add(this,e,i,n,r)}))}io.event={global:{},add:function(t,e,r,n,i){var a,o,s,c,h,u,l,f,p,d,g,v=Oo.get(t);if(v)for(r.handler&&(r=(a=r).handler,i=a.selector),i&&io.find.matchesSelector(ns,i),r.guid||(r.guid=io.guid++),(c=v.events)||(c=v.events={}),(o=v.handle)||(o=v.handle=function(e){return io.event.triggered!==e.type?io.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(wo)||[""]).length;h--;)p=g=(s=os.exec(e[h])||[])[1],d=(s[2]||"").split(".").sort(),p&&(l=io.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=io.event.special[p]||{},u=io.extend({type:p,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&io.expr.match.needsContext.test(i),namespace:d.join(".")},a),(f=c[p])||((f=c[p]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,n,d,o)||t.addEventListener&&t.addEventListener(p,o)),l.add&&(l.add.call(t,u),u.handler.guid||(u.handler.guid=r.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),io.event.global[p]=!0)},remove:function(t,e,r,n,i){var a,o,s,c,h,u,l,f,p,d,g,v=Oo.hasData(t)&&Oo.get(t);if(v&&(c=v.events)){for(h=(e=(e||"").match(wo)||[""]).length;h--;)if(p=g=(s=os.exec(e[h])||[])[1],d=(s[2]||"").split(".").sort(),p){for(l=io.event.special[p]||{},f=c[p=(n?l.delegateType:l.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)u=f[a],!i&&g!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(f.splice(a,1),u.selector&&f.delegateCount--,l.remove&&l.remove.call(t,u));o&&!f.length&&(l.teardown&&!1!==l.teardown.call(t,d,v.handle)||io.removeEvent(t,p,v.handle),delete c[p])}else for(p in c)io.event.remove(t,p+e[h],r,n,!0);io.isEmptyObject(c)&&Oo.remove(t,"handle events")}},dispatch:function(t){var e,r,n,i,a,o,s=io.event.fix(t),c=new Array(arguments.length),h=(Oo.get(this,"events")||{})[s.type]||[],u=io.event.special[s.type]||{};for(c[0]=s,e=1;e<arguments.length;e++)c[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(o=io.event.handlers.call(this,s,h),e=0;(i=o[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,r=0;(a=i.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(n=((io.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,c))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var r,n,i,a,o,s=[],c=e.delegateCount,h=t.target;if(c&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(a=[],o={},r=0;r<c;r++)void 0===o[i=(n=e[r]).selector+" "]&&(o[i]=n.needsContext?io(i,this).index(h)>-1:io.find(i,this,null,[h]).length),o[i]&&a.push(n);a.length&&s.push({elem:h,handlers:a})}return h=this,c<e.length&&s.push({elem:h,handlers:e.slice(c)}),s},addProp:function(t,e){Object.defineProperty(io.Event.prototype,t,{enumerable:!0,configurable:!0,get:Qa(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[io.expando]?t:new io.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==hs()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===hs()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&lo(this,"input"))return this.click(),!1},_default:function(t){return lo(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},io.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},(io.Event=function(t,e){if(!(this instanceof io.Event))return new io.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?ss:cs,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&io.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[io.expando]=!0}).prototype={constructor:io.Event,isDefaultPrevented:cs,isPropagationStopped:cs,isImmediatePropagationStopped:cs,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ss,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ss,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ss,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},io.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&is.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&as.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},io.event.addProp),io.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){io.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,n=this,i=t.relatedTarget,a=t.handleObj;return i&&(i===n||io.contains(n,i))||(t.type=a.origType,r=a.handler.apply(this,arguments),t.type=e),r}}})),io.fn.extend({on:function(t,e,r,n){return us(this,t,e,r,n)},one:function(t,e,r,n){return us(this,t,e,r,n,1)},off:function(t,e,r){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,io(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===Hr(t)){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(r=e,e=void 0),!1===r&&(r=cs),this.each((function(){io.event.remove(this,t,r,e)}))}});var ls=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,fs=/<script|<style|<link/i,ps=/checked\s*(?:[^=]|=\s*.checked.)/i,ds=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function gs(t,e){return lo(t,"table")&&lo(11!==e.nodeType?e:e.firstChild,"tr")&&io(t).children("tbody")[0]||t}function vs(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function ms(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function ys(t,e){var r,n,i,a,o,s,c,h;if(1===e.nodeType){if(Oo.hasData(t)&&(a=Oo.access(t),o=Oo.set(e,a),h=a.events))for(i in delete o.handle,o.events={},h)for(r=0,n=h[i].length;r<n;r++)io.event.add(e,i,h[i][r]);No.hasData(t)&&(s=No.access(t),c=io.extend({},s),No.set(e,c))}}function bs(t,e){var r=e.nodeName.toLowerCase();"input"===r&&Wo.test(t.type)?e.checked=t.checked:"input"!==r&&"textarea"!==r||(e.defaultValue=t.defaultValue)}function ws(t,e,r,n){e=ja.apply([],e);var i,a,o,s,c,h,u=0,l=t.length,f=l-1,p=e[0],d=Qa(p);if(d||l>1&&"string"==typeof p&&!Ka.checkClone&&ps.test(p))return t.each((function(i){var a=t.eq(i);d&&(e[0]=p.call(this,i,a.html())),ws(a,e,r,n)}));if(l&&(a=(i=rs(e,t[0].ownerDocument,!1,t,n)).firstChild,1===i.childNodes.length&&(i=a),a||n)){for(s=(o=io.map(Ko(i,"script"),vs)).length;u<l;u++)c=i,u!==f&&(c=io.clone(c,!0,!0),s&&io.merge(o,Ko(c,"script"))),r.call(t[u],c,u);if(s)for(h=o[o.length-1].ownerDocument,io.map(o,ms),u=0;u<s;u++)c=o[u],Xo.test(c.type||"")&&!Oo.access(c,"globalEval")&&io.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?io._evalUrl&&io._evalUrl(c.src):eo(c.textContent.replace(ds,""),h,c))}return t}function xs(t,e,r){for(var n,i=e?io.filter(e,t):t,a=0;null!=(n=i[a]);a++)r||1!==n.nodeType||io.cleanData(Ko(n)),n.parentNode&&(r&&io.contains(n.ownerDocument,n)&&Qo(Ko(n,"script")),n.parentNode.removeChild(n));return t}io.extend({htmlPrefilter:function(t){return t.replace(ls,"<$1></$2>")},clone:function(t,e,r){var n,i,a,o,s=t.cloneNode(!0),c=io.contains(t.ownerDocument,t);if(!(Ka.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||io.isXMLDoc(t)))for(o=Ko(s),n=0,i=(a=Ko(t)).length;n<i;n++)bs(a[n],o[n]);if(e)if(r)for(a=a||Ko(t),o=o||Ko(s),n=0,i=a.length;n<i;n++)ys(a[n],o[n]);else ys(t,s);return(o=Ko(s,"script")).length>0&&Qo(o,!c&&Ko(t,"script")),s},cleanData:function(t){for(var e,r,n,i=io.event.special,a=0;void 0!==(r=t[a]);a++)if(Mo(r)){if(e=r[Oo.expando]){if(e.events)for(n in e.events)i[n]?io.event.remove(r,n):io.removeEvent(r,n,e.handle);r[Oo.expando]=void 0}r[No.expando]&&(r[No.expando]=void 0)}}}),io.fn.extend({detach:function(t){return xs(this,t,!0)},remove:function(t){return xs(this,t)},text:function(t){return Eo(this,(function(t){return void 0===t?io.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return ws(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||gs(this,t).appendChild(t)}))},prepend:function(){return ws(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=gs(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return ws(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return ws(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(io.cleanData(Ko(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return io.clone(this,t,e)}))},html:function(t){return Eo(this,(function(t){var e=this[0]||{},r=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!fs.test(t)&&!Yo[(Zo.exec(t)||["",""])[1].toLowerCase()]){t=io.htmlPrefilter(t);try{for(;r<n;r++)1===(e=this[r]||{}).nodeType&&(io.cleanData(Ko(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return ws(this,arguments,(function(e){var r=this.parentNode;io.inArray(this,t)<0&&(io.cleanData(Ko(this)),r&&r.replaceChild(e,this))}),t)}}),io.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){io.fn[t]=function(t){for(var r,n=[],i=io(t),a=i.length-1,o=0;o<=a;o++)r=o===a?this:this.clone(!0),io(i[o])[e](r),qa.apply(n,r.get());return this.pushStack(n)}}));var ks=new RegExp("^("+zo+")(?!px)[a-z%]+$","i"),Ss=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=window),e.getComputedStyle(t)},_s=new RegExp(Ho.join("|"),"i");function Cs(t,e,r){var n,i,a,o,s=t.style;return(r=r||Ss(t))&&(""!==(o=r.getPropertyValue(e)||r[e])||io.contains(t.ownerDocument,t)||(o=io.style(t,e)),!Ka.pixelBoxStyles()&&ks.test(o)&&_s.test(e)&&(n=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=r.width,s.width=n,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function As(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ns.appendChild(s).appendChild(c);var t=window.getComputedStyle(c);r="1%"!==t.top,o=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),n=36===e(t.width),c.style.position="absolute",i=36===c.offsetWidth||"absolute",ns.removeChild(s),c=null}}function e(t){return Math.round(parseFloat(t))}var r,n,i,a,o,s=Ua.createElement("div"),c=Ua.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",Ka.clearCloneStyle="content-box"===c.style.backgroundClip,io.extend(Ka,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),o},scrollboxSize:function(){return t(),i}}))}();var Es=/^(none|table(?!-c[ea]).+)/,Rs=/^--/,Ts={position:"absolute",visibility:"hidden",display:"block"},Ls={letterSpacing:"0",fontWeight:"400"},Is=["Webkit","Moz","ms"],Ms=Ua.createElement("div").style;function Ps(t){var e=io.cssProps[t];return e||(e=io.cssProps[t]=function(t){if(t in Ms)return t;for(var e=t[0].toUpperCase()+t.slice(1),r=Is.length;r--;)if((t=Is[r]+e)in Ms)return t}(t)||t),e}function Os(t,e,r){var n=Uo.exec(e);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):e}function Ns(t,e,r,n,i,a){var o="width"===e?1:0,s=0,c=0;if(r===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(c+=io.css(t,r+Ho[o],!0,i)),n?("content"===r&&(c-=io.css(t,"padding"+Ho[o],!0,i)),"margin"!==r&&(c-=io.css(t,"border"+Ho[o]+"Width",!0,i))):(c+=io.css(t,"padding"+Ho[o],!0,i),"padding"!==r?c+=io.css(t,"border"+Ho[o]+"Width",!0,i):s+=io.css(t,"border"+Ho[o]+"Width",!0,i));return!n&&a>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-c-s-.5))),c}function Fs(t,e,r){var n=Ss(t),i=Cs(t,e,n),a="border-box"===io.css(t,"boxSizing",!1,n),o=a;if(ks.test(i)){if(!r)return i;i="auto"}return o=o&&(Ka.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===io.css(t,"display",!1,n))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],o=!0),(i=parseFloat(i)||0)+Ns(t,e,r||(a?"border":"content"),o,n,i)+"px"}io.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=Cs(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,r,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,a,o,s=Io(e),c=Rs.test(e),h=t.style;if(c||(e=Ps(s)),o=io.cssHooks[e]||io.cssHooks[s],void 0===r)return o&&"get"in o&&void 0!==(i=o.get(t,!1,n))?i:h[e];"string"===(a=Hr(r))&&(i=Uo.exec(r))&&i[1]&&(r=function(t,e,r,n){var i,a,o=20,s=n?function(){return n.cur()}:function(){return io.css(t,e,"")},c=s(),h=r&&r[3]||(io.cssNumber[e]?"":"px"),u=(io.cssNumber[e]||"px"!==h&&+c)&&Uo.exec(io.css(t,e));if(u&&u[3]!==h){for(c/=2,h=h||u[3],u=+c||1;o--;)io.style(t,e,u+h),(1-a)*(1-(a=s()/c||.5))<=0&&(o=0),u/=a;io.style(t,e,(u*=2)+h),r=r||[]}return r&&(u=+u||+c||0,i=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=h,n.start=u,n.end=i)),i}(t,e,i),a="number"),null!=r&&r==r&&("number"===a&&(r+=i&&i[3]||(io.cssNumber[s]?"":"px")),Ka.clearCloneStyle||""!==r||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(r=o.set(t,r,n))||(c?h.setProperty(e,r):h[e]=r))}},css:function(t,e,r,n){var i,a,o,s=Io(e);return Rs.test(e)||(e=Ps(s)),(o=io.cssHooks[e]||io.cssHooks[s])&&"get"in o&&(i=o.get(t,!0,r)),void 0===i&&(i=Cs(t,e,n)),"normal"===i&&e in Ls&&(i=Ls[e]),""===r||r?(a=parseFloat(i),!0===r||isFinite(a)?a||0:i):i}}),io.each(["height","width"],(function(t,e){io.cssHooks[e]={get:function(t,r,n){if(r)return!Es.test(io.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Fs(t,e,n):jo(t,Ts,(function(){return Fs(t,e,n)}))},set:function(t,r,n){var i,a=Ss(t),o="border-box"===io.css(t,"boxSizing",!1,a),s=n&&Ns(t,e,n,o,a);return o&&Ka.scrollboxSize()===a.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-Ns(t,e,"border",!1,a)-.5)),s&&(i=Uo.exec(r))&&"px"!==(i[3]||"px")&&(t.style[e]=r,r=io.css(t,e)),Os(0,r,s)}}})),io.cssHooks.marginLeft=As(Ka.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Cs(t,"marginLeft"))||t.getBoundingClientRect().left-jo(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),io.each({margin:"",padding:"",border:"Width"},(function(t,e){io.cssHooks[t+e]={expand:function(r){for(var n=0,i={},a="string"==typeof r?r.split(" "):[r];n<4;n++)i[t+Ho[n]+e]=a[n]||a[n-2]||a[0];return i}},"margin"!==t&&(io.cssHooks[t+e].set=Os)})),io.fn.extend({css:function(t,e){return Eo(this,(function(t,e,r){var n,i,a={},o=0;if(Array.isArray(e)){for(n=Ss(t),i=e.length;o<i;o++)a[e[o]]=io.css(t,e[o],!1,n);return a}return void 0!==r?io.style(t,e,r):io.css(t,e)}),t,e,arguments.length>1)}}),io.fn.delay=function(t,e){return t=io.fx&&io.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,r){var n=window.setTimeout(e,t);r.stop=function(){window.clearTimeout(n)}}))},function(){var t=Ua.createElement("input"),e=Ua.createElement("select").appendChild(Ua.createElement("option"));t.type="checkbox",Ka.checkOn=""!==t.value,Ka.optSelected=e.selected,(t=Ua.createElement("input")).value="t",t.type="radio",Ka.radioValue="t"===t.value}();var Ds,Bs=io.expr.attrHandle;io.fn.extend({attr:function(t,e){return Eo(this,io.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){io.removeAttr(this,t)}))}}),io.extend({attr:function(t,e,r){var n,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?io.prop(t,e,r):(1===a&&io.isXMLDoc(t)||(i=io.attrHooks[e.toLowerCase()]||(io.expr.match.bool.test(e)?Ds:void 0)),void 0!==r?null===r?void io.removeAttr(t,e):i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:(t.setAttribute(e,r+""),r):i&&"get"in i&&null!==(n=i.get(t,e))?n:null==(n=io.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!Ka.radioValue&&"radio"===e&&lo(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,n=0,i=e&&e.match(wo);if(i&&1===t.nodeType)for(;r=i[n++];)t.removeAttribute(r)}}),Ds={set:function(t,e,r){return!1===e?io.removeAttr(t,r):t.setAttribute(r,r),r}},io.each(io.expr.match.bool.source.match(/\w+/g),(function(t,e){var r=Bs[e]||io.find.attr;Bs[e]=function(t,e,n){var i,a,o=e.toLowerCase();return n||(a=Bs[o],Bs[o]=i,i=null!=r(t,e,n)?o:null,Bs[o]=a),i}}));var zs=/^(?:input|select|textarea|button)$/i,Us=/^(?:a|area)$/i;function Hs(t){return(t.match(wo)||[]).join(" ")}function $s(t){return t.getAttribute&&t.getAttribute("class")||""}function js(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(wo)||[]}io.fn.extend({prop:function(t,e){return Eo(this,io.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[io.propFix[t]||t]}))}}),io.extend({prop:function(t,e,r){var n,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&io.isXMLDoc(t)||(e=io.propFix[e]||e,i=io.propHooks[e]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:t[e]=r:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=io.find.attr(t,"tabindex");return e?parseInt(e,10):zs.test(t.nodeName)||Us.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ka.optSelected||(io.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),io.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){io.propFix[this.toLowerCase()]=this})),io.fn.extend({addClass:function(t){var e,r,n,i,a,o,s,c=0;if(Qa(t))return this.each((function(e){io(this).addClass(t.call(this,e,$s(this)))}));if((e=js(t)).length)for(;r=this[c++];)if(i=$s(r),n=1===r.nodeType&&" "+Hs(i)+" "){for(o=0;a=e[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");i!==(s=Hs(n))&&r.setAttribute("class",s)}return this},removeClass:function(t){var e,r,n,i,a,o,s,c=0;if(Qa(t))return this.each((function(e){io(this).removeClass(t.call(this,e,$s(this)))}));if(!arguments.length)return this.attr("class","");if((e=js(t)).length)for(;r=this[c++];)if(i=$s(r),n=1===r.nodeType&&" "+Hs(i)+" "){for(o=0;a=e[o++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");i!==(s=Hs(n))&&r.setAttribute("class",s)}return this},toggleClass:function(t,e){var r=Hr(t),n="string"===r||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):Qa(t)?this.each((function(r){io(this).toggleClass(t.call(this,r,$s(this),e),e)})):this.each((function(){var e,i,a,o;if(n)for(i=0,a=io(this),o=js(t);e=o[i++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==r||((e=$s(this))&&Oo.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Oo.get(this,"__className__")||""))}))},hasClass:function(t){var e,r,n=0;for(e=" "+t+" ";r=this[n++];)if(1===r.nodeType&&(" "+Hs($s(r))+" ").indexOf(e)>-1)return!0;return!1}});var qs=/\r/g;io.fn.extend({val:function(t){var e,r,n,i=this[0];return arguments.length?(n=Qa(t),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?t.call(this,r,io(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=io.map(i,(function(t){return null==t?"":t+""}))),(e=io.valHooks[this.type]||io.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=io.valHooks[i.type]||io.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(r=e.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(qs,""):null==r?"":r:void 0}}),io.extend({valHooks:{option:{get:function(t){var e=io.find.attr(t,"value");return null!=e?e:Hs(io.text(t))}},select:{get:function(t){var e,r,n,i=t.options,a=t.selectedIndex,o="select-one"===t.type,s=o?null:[],c=o?a+1:i.length;for(n=a<0?c:o?a:0;n<c;n++)if(((r=i[n]).selected||n===a)&&!r.disabled&&(!r.parentNode.disabled||!lo(r.parentNode,"optgroup"))){if(e=io(r).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var r,n,i=t.options,a=io.makeArray(e),o=i.length;o--;)((n=i[o]).selected=io.inArray(io.valHooks.option.get(n),a)>-1)&&(r=!0);return r||(t.selectedIndex=-1),a}}}}),io.each(["radio","checkbox"],(function(){io.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=io.inArray(io(t).val(),e)>-1}},Ka.checkOn||(io.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),Ka.focusin="onfocusin"in window;var Vs=/^(?:focusinfocus|focusoutblur)$/,Gs=function(t){t.stopPropagation()};io.extend(io.event,{trigger:function(t,e,r,n){var i,a,o,s,c,h,u,l,f=[r||Ua],p=Za.call(t,"type")?t.type:t,d=Za.call(t,"namespace")?t.namespace.split("."):[];if(a=l=o=r=r||Ua,3!==r.nodeType&&8!==r.nodeType&&!Vs.test(p+io.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,(t=t[io.expando]?t:new io.Event(p,"object"===Hr(t)&&t)).isTrigger=n?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:io.makeArray(e,[t]),u=io.event.special[p]||{},n||!u.trigger||!1!==u.trigger.apply(r,e))){if(!n&&!u.noBubble&&!Ja(r)){for(s=u.delegateType||p,Vs.test(s+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),o=a;o===(r.ownerDocument||Ua)&&f.push(o.defaultView||o.parentWindow||window)}for(i=0;(a=f[i++])&&!t.isPropagationStopped();)l=a,t.type=i>1?s:u.bindType||p,(h=(Oo.get(a,"events")||{})[t.type]&&Oo.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&Mo(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=p,n||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),e)||!Mo(r)||c&&Qa(r[p])&&!Ja(r)&&((o=r[c])&&(r[c]=null),io.event.triggered=p,t.isPropagationStopped()&&l.addEventListener(p,Gs),r[p](),t.isPropagationStopped()&&l.removeEventListener(p,Gs),io.event.triggered=void 0,o&&(r[c]=o)),t.result}},simulate:function(t,e,r){var n=io.extend(new io.Event,r,{type:t,isSimulated:!0});io.event.trigger(n,null,e)}}),io.fn.extend({trigger:function(t,e){return this.each((function(){io.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var r=this[0];if(r)return io.event.trigger(t,e,r,!0)}}),Ka.focusin||io.each({focus:"focusin",blur:"focusout"},(function(t,e){var r=function(t){io.event.simulate(e,t.target,io.event.fix(t))};io.event.special[e]={setup:function(){var n=this.ownerDocument||this,i=Oo.access(n,e);i||n.addEventListener(t,r,!0),Oo.access(n,e,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=Oo.access(n,e)-1;i?Oo.access(n,e,i):(n.removeEventListener(t,r,!0),Oo.remove(n,e))}}}));var Ws,Zs=/\[\]$/,Xs=/\r?\n/g,Ys=/^(?:submit|button|image|reset|file)$/i,Ks=/^(?:input|select|textarea|keygen)/i;function Qs(t,e,r,n){var i;if(Array.isArray(e))io.each(e,(function(e,i){r||Zs.test(t)?n(t,i):Qs(t+"["+("object"===Hr(i)&&null!=i?e:"")+"]",i,r,n)}));else if(r||"object"!==ro(e))n(t,e);else for(i in e)Qs(t+"["+i+"]",e[i],r,n)}io.param=function(t,e){var r,n=[],i=function(t,e){var r=Qa(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(t)||t.jquery&&!io.isPlainObject(t))io.each(t,(function(){i(this.name,this.value)}));else for(r in t)Qs(r,t[r],e,i);return n.join("&")},io.fn.extend({serialize:function(){return io.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=io.prop(this,"elements");return t?io.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!io(this).is(":disabled")&&Ks.test(this.nodeName)&&!Ys.test(t)&&(this.checked||!Wo.test(t))})).map((function(t,e){var r=io(this).val();return null==r?null:Array.isArray(r)?io.map(r,(function(t){return{name:e.name,value:t.replace(Xs,"\r\n")}})):{name:e.name,value:r.replace(Xs,"\r\n")}})).get()}}),io.fn.extend({wrapAll:function(t){var e;return this[0]&&(Qa(t)&&(t=t.call(this[0])),e=io(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return Qa(t)?this.each((function(e){io(this).wrapInner(t.call(this,e))})):this.each((function(){var e=io(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)}))},wrap:function(t){var e=Qa(t);return this.each((function(r){io(this).wrapAll(e?t.call(this,r):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){io(this).replaceWith(this.childNodes)})),this}}),io.expr.pseudos.hidden=function(t){return!io.expr.pseudos.visible(t)},io.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Ka.createHTMLDocument=((Ws=Ua.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ws.childNodes.length),io.parseHTML=function(t,e,r){return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(Ka.createHTMLDocument?((n=(e=Ua.implementation.createHTMLDocument("")).createElement("base")).href=Ua.location.href,e.head.appendChild(n)):e=Ua),a=!r&&[],(i=fo.exec(t))?[e.createElement(i[1])]:(i=rs([t],e,a),a&&a.length&&io(a).remove(),io.merge([],i.childNodes)));var n,i,a},io.offset={setOffset:function(t,e,r){var n,i,a,o,s,c,h=io.css(t,"position"),u=io(t),l={};"static"===h&&(t.style.position="relative"),s=u.offset(),a=io.css(t,"top"),c=io.css(t,"left"),("absolute"===h||"fixed"===h)&&(a+c).indexOf("auto")>-1?(o=(n=u.position()).top,i=n.left):(o=parseFloat(a)||0,i=parseFloat(c)||0),Qa(e)&&(e=e.call(t,r,io.extend({},s))),null!=e.top&&(l.top=e.top-s.top+o),null!=e.left&&(l.left=e.left-s.left+i),"using"in e?e.using.call(t,l):u.css(l)}},io.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){io.offset.setOffset(this,t,e)}));var e,r,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,r,n=this[0],i={top:0,left:0};if("fixed"===io.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),r=n.ownerDocument,t=n.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===io.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((i=io(t).offset()).top+=io.css(t,"borderTopWidth",!0),i.left+=io.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-io.css(n,"marginTop",!0),left:e.left-i.left-io.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===io.css(t,"position");)t=t.offsetParent;return t||ns}))}}),io.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var r="pageYOffset"===e;io.fn[t]=function(n){return Eo(this,(function(t,n,i){var a;if(Ja(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===i)return a?a[e]:t[n];a?a.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):t[n]=i}),t,n,arguments.length)}})),io.each(["top","left"],(function(t,e){io.cssHooks[e]=As(Ka.pixelPosition,(function(t,r){if(r)return r=Cs(t,e),ks.test(r)?io(t).position()[e]+"px":r}))})),io.each({Height:"height",Width:"width"},(function(t,e){io.each({padding:"inner"+t,content:e,"":"outer"+t},(function(r,n){io.fn[n]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===a?"margin":"border");return Eo(this,(function(e,r,i){var a;return Ja(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===i?io.css(e,r,s):io.style(e,r,i,s)}),e,o?i:void 0,o)}}))})),io.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){io.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}})),io.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),io.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)}}),io.proxy=function(t,e){var r,n,i;if("string"==typeof e&&(r=t[e],e=t,t=r),Qa(t))return n=$a.call(arguments,2),(i=function(){return t.apply(e||this,n.concat($a.call(arguments)))}).guid=t.guid=t.guid||io.guid++,i},io.holdReady=function(t){t?io.readyWait++:io.ready(!0)},io.isArray=Array.isArray,io.parseJSON=JSON.parse,io.nodeName=lo,io.isFunction=Qa,io.isWindow=Ja,io.camelCase=Io,io.type=ro,io.now=Date.now,io.isNumeric=function(t){var e=io.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))};var Js=io,tc=Object.assign,ec=Object.defineProperty,rc=!tc||i((function(){if(a&&1!==tc({b:1},tc(ec({},"a",{enumerable:!0,get:function(){ec(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=tc({},t)[r]||"abcdefghijklmnopqrst"!=Ae(tc({},e)).join("")}))?function(t,e){for(var r=Ot(t),n=arguments.length,i=1,o=wt.f,s=c.f;n>i;)for(var h,u=p(arguments[i++]),l=o?Ae(u).concat(o(u)):Ae(u),f=l.length,d=0;f>d;)h=l[d++],a&&!s.call(u,h)||(r[h]=u[h]);return r}:tc;It({target:"Object",stat:!0,forced:Object.assign!==rc},{assign:rc});var nc=hn.f,ic=i((function(){return!Object.getOwnPropertyNames(1)}));It({target:"Object",stat:!0,forced:ic},{getOwnPropertyNames:nc});var ac=i((function(){Ae(1)}));It({target:"Object",stat:!0,forced:ac},{keys:function(t){return Ae(Ot(t))}});var oc=n.Promise,sc=function(t,e,r){for(var n in e)et(t,n,e[n],r);return t},cc=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},hc=Ht("iterator"),uc=Array.prototype,lc=function(t){return void 0!==t&&(pi.Array===t||uc[hc]===t)},fc=Ht("iterator"),pc=function(t){if(null!=t)return t[fc]||t["@@iterator"]||pi[ra(t)]},dc=function(t,e,r,n){try{return n?e(A(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&A(i.call(t)),e}},gc=e((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,r,n,i,a){var o,s,c,h,u,l,f,p=Pt(r,n,i?2:1);if(a)o=t;else{if("function"!=typeof(s=pc(t)))throw TypeError("Target is not iterable");if(lc(s)){for(c=0,h=ht(t.length);h>c;c++)if((u=i?p(A(f=t[c])[0],f[1]):p(t[c]))&&u instanceof e)return u;return new e(!1)}o=s.call(t)}for(l=o.next;!(f=l.call(o)).done;)if("object"==typeof(u=dc(o,p,f.value,i))&&u&&u instanceof e)return u;return new e(!1)}).stop=function(t){return new e(!0,t)}})),vc=Ht("iterator"),mc=!1;try{var yc=0,bc={next:function(){return{done:!!yc++}},return:function(){mc=!0}};bc[vc]=function(){return this},Array.from(bc,(function(){throw 2}))}catch(t){}var wc,xc,kc,Sc=function(t,e){if(!e&&!mc)return!1;var r=!1;try{var n={};n[vc]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},_c=/(iphone|ipod|ipad).*applewebkit/i.test(Wt),Cc=n.location,Ac=n.setImmediate,Ec=n.clearImmediate,Rc=n.process,Tc=n.MessageChannel,Lc=n.Dispatch,Ic=0,Mc={},Pc=function(t){if(Mc.hasOwnProperty(t)){var e=Mc[t];delete Mc[t],e()}},Oc=function(t){return function(){Pc(t)}},Nc=function(t){Pc(t.data)},Fc=function(t){n.postMessage(t+"",Cc.protocol+"//"+Cc.host)};Ac&&Ec||(Ac=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return Mc[++Ic]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},wc(Ic),Ic},Ec=function(t){delete Mc[t]},"process"==l(Rc)?wc=function(t){Rc.nextTick(Oc(t))}:Lc&&Lc.now?wc=function(t){Lc.now(Oc(t))}:Tc&&!_c?(kc=(xc=new Tc).port2,xc.port1.onmessage=Nc,wc=Pt(kc.postMessage,kc,1)):!n.addEventListener||"function"!=typeof postMessage||n.importScripts||i(Fc)?wc="onreadystatechange"in k("script")?function(t){Re.appendChild(k("script")).onreadystatechange=function(){Re.removeChild(this),Pc(t)}}:function(t){setTimeout(Oc(t),0)}:(wc=Fc,n.addEventListener("message",Nc,!1)));var Dc,Bc,zc,Uc,Hc,$c,jc,qc,Vc={set:Ac,clear:Ec},Gc=C.f,Wc=Vc.set,Zc=n.MutationObserver||n.WebKitMutationObserver,Xc=n.process,Yc=n.Promise,Kc="process"==l(Xc),Qc=Gc(n,"queueMicrotask"),Jc=Qc&&Qc.value;Jc||(Dc=function(){var t,e;for(Kc&&(t=Xc.domain)&&t.exit();Bc;){e=Bc.fn,Bc=Bc.next;try{e()}catch(t){throw Bc?Uc():zc=void 0,t}}zc=void 0,t&&t.enter()},Kc?Uc=function(){Xc.nextTick(Dc)}:Zc&&!_c?(Hc=!0,$c=document.createTextNode(""),new Zc(Dc).observe($c,{characterData:!0}),Uc=function(){$c.data=Hc=!Hc}):Yc&&Yc.resolve?(jc=Yc.resolve(void 0),qc=jc.then,Uc=function(){qc.call(jc,Dc)}):Uc=function(){Wc.call(n,Dc)});var th,eh,rh,nh,ih=Jc||function(t){var e={fn:t,next:void 0};zc&&(zc.next=e),Bc||(Bc=e,Uc()),zc=e},ah=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Mt(e),this.reject=Mt(r)},oh={f:function(t){return new ah(t)}},sh=function(t,e){if(A(t),v(e)&&e.constructor===t)return e;var r=oh.f(t);return(0,r.resolve)(e),r.promise},ch=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},hh=Vc.set,uh=Ht("species"),lh="Promise",fh=tt.get,ph=tt.set,dh=tt.getterFor(lh),gh=oc,vh=n.TypeError,mh=n.document,yh=n.process,bh=it("fetch"),wh=oh.f,xh=wh,kh="process"==l(yh),Sh=!!(mh&&mh.createEvent&&n.dispatchEvent),_h=Tt(lh,(function(){if(!(F(gh)!==String(gh))){if(66===Kt)return!0;if(!kh&&"function"!=typeof PromiseRejectionEvent)return!0}if(Kt>=51&&/native code/.test(gh))return!1;var t=gh.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[uh]=e,!(t.then((function(){}))instanceof e)})),Ch=_h||!Sc((function(t){gh.all(t).catch((function(){}))})),Ah=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Eh=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;ih((function(){for(var i=e.value,a=1==e.state,o=0;n.length>o;){var s,c,h,u=n[o++],l=a?u.ok:u.fail,f=u.resolve,p=u.reject,d=u.domain;try{l?(a||(2===e.rejection&&Ih(t,e),e.rejection=1),!0===l?s=i:(d&&d.enter(),s=l(i),d&&(d.exit(),h=!0)),s===u.promise?p(vh("Promise-chain cycle")):(c=Ah(s))?c.call(s,f,p):f(s)):p(i)}catch(t){d&&!h&&d.exit(),p(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&Th(t,e)}))}},Rh=function(t,e,r){var i,a;Sh?((i=mh.createEvent("Event")).promise=e,i.reason=r,i.initEvent(t,!1,!0),n.dispatchEvent(i)):i={promise:e,reason:r},(a=n["on"+t])?a(i):"unhandledrejection"===t&&function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},Th=function(t,e){hh.call(n,(function(){var r,n=e.value;if(Lh(e)&&(r=ch((function(){kh?yh.emit("unhandledRejection",n,t):Rh("unhandledrejection",t,n)})),e.rejection=kh||Lh(e)?2:1,r.error))throw r.value}))},Lh=function(t){return 1!==t.rejection&&!t.parent},Ih=function(t,e){hh.call(n,(function(){kh?yh.emit("rejectionHandled",t):Rh("rejectionhandled",t,e.value)}))},Mh=function(t,e,r,n){return function(i){t(e,r,i,n)}},Ph=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,Eh(t,e,!0))},Oh=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw vh("Promise can't be resolved itself");var i=Ah(r);i?ih((function(){var n={done:!1};try{i.call(r,Mh(Oh,t,n,e),Mh(Ph,t,n,e))}catch(r){Ph(t,n,r,e)}})):(e.value=r,e.state=1,Eh(t,e,!1))}catch(r){Ph(t,{done:!1},r,e)}}};_h&&(gh=function(t){cc(this,gh,lh),Mt(t),th.call(this);var e=fh(this);try{t(Mh(Oh,this,e),Mh(Ph,this,e))}catch(t){Ph(this,e,t)}},(th=function(t){ph(this,{type:lh,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=sc(gh.prototype,{then:function(t,e){var r=dh(this),n=wh(Tr(this,gh));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=kh?yh.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Eh(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),eh=function(){var t=new th,e=fh(t);this.promise=t,this.resolve=Mh(Oh,t,e),this.reject=Mh(Ph,t,e)},oh.f=wh=function(t){return t===gh||t===rh?new eh(t):xh(t)},"function"==typeof oc&&(nh=oc.prototype.then,et(oc.prototype,"then",(function(t,e){var r=this;return new gh((function(t,e){nh.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof bh&&It({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return sh(gh,bh.apply(n,arguments))}}))),It({global:!0,wrap:!0,forced:_h},{Promise:gh}),gn(gh,lh,!1),aa(lh),rh=it(lh),It({target:lh,stat:!0,forced:_h},{reject:function(t){var e=wh(this);return e.reject.call(void 0,t),e.promise}}),It({target:lh,stat:!0,forced:_h},{resolve:function(t){return sh(this,t)}}),It({target:lh,stat:!0,forced:Ch},{all:function(t){var e=this,r=wh(e),n=r.resolve,i=r.reject,a=ch((function(){var r=Mt(e.resolve),a=[],o=0,s=1;gc(t,(function(t){var c=o++,h=!1;a.push(void 0),s++,r.call(e,t).then((function(t){h||(h=!0,a[c]=t,--s||n(a))}),i)})),--s||n(a)}));return a.error&&i(a.value),r.promise},race:function(t){var e=this,r=wh(e),n=r.reject,i=ch((function(){var i=Mt(e.resolve);gc(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var Nh=C.f,Fh="".startsWith,Dh=Math.min,Bh=pr("startsWith"),zh=!Bh&&!!function(){var t=Nh(String.prototype,"startsWith");return t&&!t.writable}();It({target:"String",proto:!0,forced:!zh&&!Bh},{startsWith:function(t){var e=String(d(this));lr(t);var r=ht(Dh(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return Fh?Fh.call(e,n,r):e.slice(r,r+n.length)===n}});var Uh=ze.trim;It({target:"String",proto:!0,forced:function(t){return i((function(){return!!Oe[t]()||"âÂá "!="âÂá "[t]()||Oe[t].name!==t}))}("trim")},{trim:function(){return Uh(this)}});var Hh=Ht("iterator"),$h=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[Hh]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),jh=function(t){var e,r,n,i,a,o,s=Ot(t),c="function"==typeof this?this:Array,h=arguments.length,u=h>1?arguments[1]:void 0,l=void 0!==u,f=pc(s),p=0;if(l&&(u=Pt(u,h>2?arguments[2]:void 0,2)),null==f||c==Array&&lc(f))for(r=new c(e=ht(s.length));e>p;p++)o=l?u(s[p],p):s[p],Jn(r,p,o);else for(a=(i=f.call(s)).next,r=new c;!(n=a.call(i)).done;p++)o=l?dc(i,u,[n.value,p],!0):n.value,Jn(r,p,o);return r.length=p,r},qh=/[^\0-\u007E]/,Vh=/[.\u3002\uFF0E\uFF61]/g,Gh="Overflow: input needs wider integers to process",Wh=Math.floor,Zh=String.fromCharCode,Xh=function(t){return t+22+75*(t<26)},Yh=function(t,e,r){var n=0;for(t=r?Wh(t/700):t>>1,t+=Wh(t/e);t>455;n+=36)t=Wh(t/35);return Wh(n+36*t/(t+38))},Kh=function(t){var e,r,n=[],i=(t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),r--)}else e.push(i)}return e}(t)).length,a=128,o=0,s=72;for(e=0;e<t.length;e++)(r=t[e])<128&&n.push(Zh(r));var c=n.length,h=c;for(c&&n.push("-");h<i;){var u=2147483647;for(e=0;e<t.length;e++)(r=t[e])>=a&&r<u&&(u=r);var l=h+1;if(u-a>Wh((2147483647-o)/l))throw RangeError(Gh);for(o+=(u-a)*l,a=u,e=0;e<t.length;e++){if((r=t[e])<a&&++o>2147483647)throw RangeError(Gh);if(r==a){for(var f=o,p=36;;p+=36){var d=p<=s?1:p>=s+26?26:p-s;if(f<d)break;var g=f-d,v=36-d;n.push(Zh(Xh(d+g%v))),f=Wh(g/v)}n.push(Zh(Xh(f))),s=Yh(o,l,h==c),o=0,++h}}++o,++a}return n.join("")},Qh=function(t){var e=pc(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return A(e.call(t))},Jh=it("fetch"),tu=it("Headers"),eu=Ht("iterator"),ru=tt.set,nu=tt.getterFor("URLSearchParams"),iu=tt.getterFor("URLSearchParamsIterator"),au=/\+/g,ou=Array(4),su=function(t){return ou[t-1]||(ou[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},cu=function(t){try{return decodeURIComponent(t)}catch(e){return t}},hu=function(t){var e=t.replace(au," "),r=4;try{return decodeURIComponent(e)}catch(t){for(;r;)e=e.replace(su(r--),cu);return e}},uu=/[!'()~]|%20/g,lu={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},fu=function(t){return lu[t]},pu=function(t){return encodeURIComponent(t).replace(uu,fu)},du=function(t,e){if(e)for(var r,n,i=e.split("&"),a=0;a<i.length;)(r=i[a++]).length&&(n=r.split("="),t.push({key:hu(n.shift()),value:hu(n.join("="))}))},gu=function(t){this.entries.length=0,du(this.entries,t)},vu=function(t,e){if(t<e)throw TypeError("Not enough arguments")},mu=Si((function(t,e){ru(this,{type:"URLSearchParamsIterator",iterator:Qh(nu(t).entries),kind:e})}),"Iterator",(function(){var t=iu(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),yu=function(){cc(this,yu,"URLSearchParams");var t,e,r,n,i,a,o,s,c,h=arguments.length>0?arguments[0]:void 0,u=this,l=[];if(ru(u,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:gu}),void 0!==h)if(v(h))if("function"==typeof(t=pc(h)))for(r=(e=t.call(h)).next;!(n=r.call(e)).done;){if((o=(a=(i=Qh(A(n.value))).next).call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");l.push({key:o.value+"",value:s.value+""})}else for(c in h)b(h,c)&&l.push({key:c,value:h[c]+""});else du(l,"string"==typeof h?"?"===h.charAt(0)?h.slice(1):h:h+"")},bu=yu.prototype;sc(bu,{append:function(t,e){vu(arguments.length,2);var r=nu(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){vu(arguments.length,1);for(var e=nu(this),r=e.entries,n=t+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;e.updateURL()},get:function(t){vu(arguments.length,1);for(var e=nu(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){vu(arguments.length,1);for(var e=nu(this).entries,r=t+"",n=[],i=0;i<e.length;i++)e[i].key===r&&n.push(e[i].value);return n},has:function(t){vu(arguments.length,1);for(var e=nu(this).entries,r=t+"",n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){vu(arguments.length,1);for(var r,n=nu(this),i=n.entries,a=!1,o=t+"",s=e+"",c=0;c<i.length;c++)(r=i[c]).key===o&&(a?i.splice(c--,1):(a=!0,r.value=s));a||i.push({key:o,value:s}),n.updateURL()},sort:function(){var t,e,r,n=nu(this),i=n.entries,a=i.slice();for(i.length=0,r=0;r<a.length;r++){for(t=a[r],e=0;e<r;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===r&&i.push(t)}n.updateURL()},forEach:function(t){for(var e,r=nu(this).entries,n=Pt(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new mu(this,"keys")},values:function(){return new mu(this,"values")},entries:function(){return new mu(this,"entries")}},{enumerable:!0}),et(bu,eu,bu.entries),et(bu,"toString",(function(){for(var t,e=nu(this).entries,r=[],n=0;n<e.length;)t=e[n++],r.push(pu(t.key)+"="+pu(t.value));return r.join("&")}),{enumerable:!0}),gn(yu,"URLSearchParams"),It({global:!0,forced:!$h},{URLSearchParams:yu}),$h||"function"!=typeof Jh||"function"!=typeof tu||It({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,i=[t];return arguments.length>1&&(e=arguments[1],v(e)&&(r=e.body,"URLSearchParams"===ra(r)&&((n=e.headers?new tu(e.headers):new tu).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=Pe(e,{body:h(0,String(r)),headers:h(0,n)}))),i.push(e)),Jh.apply(this,i)}});var wu,xu={URLSearchParams:yu,getState:nu},ku=Ir.codeAt,Su=n.URL,_u=xu.URLSearchParams,Cu=xu.getState,Au=tt.set,Eu=tt.getterFor("URL"),Ru=Math.floor,Tu=Math.pow,Lu=/[A-Za-z]/,Iu=/[\d+\-.A-Za-z]/,Mu=/\d/,Pu=/^(0x|0X)/,Ou=/^[0-7]+$/,Nu=/^\d+$/,Fu=/^[\dA-Fa-f]+$/,Du=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Bu=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,zu=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Uu=/[\u0009\u000A\u000D]/g,Hu=function(t,e){var r,n,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(r=ju(e.slice(1,-1))))return"Invalid host";t.host=r}else if(Ku(t)){if(e=function(t){var e,r,n=[],i=t.toLowerCase().replace(Vh,".").split(".");for(e=0;e<i.length;e++)r=i[e],n.push(qh.test(r)?"xn--"+Kh(r):r);return n.join(".")}(e),Du.test(e))return"Invalid host";if(null===(r=$u(e)))return"Invalid host";t.host=r}else{if(Bu.test(e))return"Invalid host";for(r="",n=jh(e),i=0;i<n.length;i++)r+=Xu(n[i],Vu);t.host=r}},$u=function(t){var e,r,n,i,a,o,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(i=c[n]))return t;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=Pu.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?Nu:8==a?Ou:Fu).test(i))return t;o=parseInt(i,a)}r.push(o)}for(n=0;n<e;n++)if(o=r[n],n==e-1){if(o>=Tu(256,5-e))return null}else if(o>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*Tu(256,3-n);return s},ju=function(t){var e,r,n,i,a,o,s,c=[0,0,0,0,0,0,0,0],h=0,u=null,l=0,f=function(){return t.charAt(l)};if(":"==f()){if(":"!=t.charAt(1))return;l+=2,u=++h}for(;f();){if(8==h)return;if(":"!=f()){for(e=r=0;r<4&&Fu.test(f());)e=16*e+parseInt(f(),16),l++,r++;if("."==f()){if(0==r)return;if(l-=r,h>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;l++}if(!Mu.test(f()))return;for(;Mu.test(f());){if(a=parseInt(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;l++}c[h]=256*c[h]+i,2!=++n&&4!=n||h++}if(4!=n)return;break}if(":"==f()){if(l++,!f())return}else if(f())return;c[h++]=e}else{if(null!==u)return;l++,u=++h}}if(null!==u)for(o=h-u,h=7;0!=h&&o>0;)s=c[h],c[h--]=c[u+o-1],c[u+--o]=s;else if(8!=h)return;return c},qu=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)e.unshift(t%256),t=Ru(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,a=0;a<8;a++)0!==t[a]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=t[r].toString(16),r<7&&(e+=":")));return"["+e+"]"}return t},Vu={},Gu=rc({},Vu,{" ":1,'"':1,"<":1,">":1,"`":1}),Wu=rc({},Gu,{"#":1,"?":1,"{":1,"}":1}),Zu=rc({},Wu,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Xu=function(t,e){var r=ku(t,0);return r>32&&r<127&&!b(e,t)?t:encodeURIComponent(t)},Yu={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ku=function(t){return b(Yu,t.scheme)},Qu=function(t){return""!=t.username||""!=t.password},Ju=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},tl=function(t,e){var r;return 2==t.length&&Lu.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},el=function(t){var e;return t.length>1&&tl(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},rl=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&tl(e[0],!0)||e.pop()},nl=function(t){return"."===t||"%2e"===t.toLowerCase()},il={},al={},ol={},sl={},cl={},hl={},ul={},ll={},fl={},pl={},dl={},gl={},vl={},ml={},yl={},bl={},wl={},xl={},kl={},Sl={},_l={},Cl=function(t,e,r,n){var i,a,o,s,c,h=r||il,u=0,l="",f=!1,p=!1,d=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(zu,"")),e=e.replace(Uu,""),i=jh(e);u<=i.length;){switch(a=i[u],h){case il:if(!a||!Lu.test(a)){if(r)return"Invalid scheme";h=ol;continue}l+=a.toLowerCase(),h=al;break;case al:if(a&&(Iu.test(a)||"+"==a||"-"==a||"."==a))l+=a.toLowerCase();else{if(":"!=a){if(r)return"Invalid scheme";l="",h=ol,u=0;continue}if(r&&(Ku(t)!=b(Yu,l)||"file"==l&&(Qu(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=l,r)return void(Ku(t)&&Yu[t.scheme]==t.port&&(t.port=null));l="","file"==t.scheme?h=ml:Ku(t)&&n&&n.scheme==t.scheme?h=sl:Ku(t)?h=ll:"/"==i[u+1]?(h=cl,u++):(t.cannotBeABaseURL=!0,t.path.push(""),h=kl)}break;case ol:if(!n||n.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==a){t.scheme=n.scheme,t.path=n.path.slice(),t.query=n.query,t.fragment="",t.cannotBeABaseURL=!0,h=_l;break}h="file"==n.scheme?ml:hl;continue;case sl:if("/"!=a||"/"!=i[u+1]){h=hl;continue}h=fl,u++;break;case cl:if("/"==a){h=pl;break}h=xl;continue;case hl:if(t.scheme=n.scheme,a==wu)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query;else if("/"==a||"\\"==a&&Ku(t))h=ul;else if("?"==a)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query="",h=Sl;else{if("#"!=a){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.path.pop(),h=xl;continue}t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query,t.fragment="",h=_l}break;case ul:if(!Ku(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,h=xl;continue}h=pl}else h=fl;break;case ll:if(h=fl,"/"!=a||"/"!=l.charAt(u+1))continue;u++;break;case fl:if("/"!=a&&"\\"!=a){h=pl;continue}break;case pl:if("@"==a){f&&(l="%40"+l),f=!0,o=jh(l);for(var g=0;g<o.length;g++){var v=o[g];if(":"!=v||d){var m=Xu(v,Zu);d?t.password+=m:t.username+=m}else d=!0}l=""}else if(a==wu||"/"==a||"?"==a||"#"==a||"\\"==a&&Ku(t)){if(f&&""==l)return"Invalid authority";u-=jh(l).length+1,l="",h=dl}else l+=a;break;case dl:case gl:if(r&&"file"==t.scheme){h=bl;continue}if(":"!=a||p){if(a==wu||"/"==a||"?"==a||"#"==a||"\\"==a&&Ku(t)){if(Ku(t)&&""==l)return"Invalid host";if(r&&""==l&&(Qu(t)||null!==t.port))return;if(s=Hu(t,l))return s;if(l="",h=wl,r)return;continue}"["==a?p=!0:"]"==a&&(p=!1),l+=a}else{if(""==l)return"Invalid host";if(s=Hu(t,l))return s;if(l="",h=vl,r==gl)return}break;case vl:if(!Mu.test(a)){if(a==wu||"/"==a||"?"==a||"#"==a||"\\"==a&&Ku(t)||r){if(""!=l){var y=parseInt(l,10);if(y>65535)return"Invalid port";t.port=Ku(t)&&y===Yu[t.scheme]?null:y,l=""}if(r)return;h=wl;continue}return"Invalid port"}l+=a;break;case ml:if(t.scheme="file","/"==a||"\\"==a)h=yl;else{if(!n||"file"!=n.scheme){h=xl;continue}if(a==wu)t.host=n.host,t.path=n.path.slice(),t.query=n.query;else if("?"==a)t.host=n.host,t.path=n.path.slice(),t.query="",h=Sl;else{if("#"!=a){el(i.slice(u).join(""))||(t.host=n.host,t.path=n.path.slice(),rl(t)),h=xl;continue}t.host=n.host,t.path=n.path.slice(),t.query=n.query,t.fragment="",h=_l}}break;case yl:if("/"==a||"\\"==a){h=bl;break}n&&"file"==n.scheme&&!el(i.slice(u).join(""))&&(tl(n.path[0],!0)?t.path.push(n.path[0]):t.host=n.host),h=xl;continue;case bl:if(a==wu||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&tl(l))h=xl;else if(""==l){if(t.host="",r)return;h=wl}else{if(s=Hu(t,l))return s;if("localhost"==t.host&&(t.host=""),r)return;l="",h=wl}continue}l+=a;break;case wl:if(Ku(t)){if(h=xl,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=wu&&(h=xl,"/"!=a))continue}else t.fragment="",h=_l;else t.query="",h=Sl;break;case xl:if(a==wu||"/"==a||"\\"==a&&Ku(t)||!r&&("?"==a||"#"==a)){if(".."===(c=(c=l).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(rl(t),"/"==a||"\\"==a&&Ku(t)||t.path.push("")):nl(l)?"/"==a||"\\"==a&&Ku(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&tl(l)&&(t.host&&(t.host=""),l=l.charAt(0)+":"),t.path.push(l)),l="","file"==t.scheme&&(a==wu||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",h=Sl):"#"==a&&(t.fragment="",h=_l)}else l+=Xu(a,Wu);break;case kl:"?"==a?(t.query="",h=Sl):"#"==a?(t.fragment="",h=_l):a!=wu&&(t.path[0]+=Xu(a,Vu));break;case Sl:r||"#"!=a?a!=wu&&("'"==a&&Ku(t)?t.query+="%27":t.query+="#"==a?"%23":Xu(a,Vu)):(t.fragment="",h=_l);break;case _l:a!=wu&&(t.fragment+=Xu(a,Gu))}u++}},Al=function(t){var e,r,n=cc(this,Al,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(t),s=Au(n,{type:"URL"});if(void 0!==i)if(i instanceof Al)e=Eu(i);else if(r=Cl(e={},String(i)))throw TypeError(r);if(r=Cl(s,o,null,e))throw TypeError(r);var c=s.searchParams=new _u,h=Cu(c);h.updateSearchParams(s.query),h.updateURL=function(){s.query=String(c)||null},a||(n.href=Rl.call(n),n.origin=Tl.call(n),n.protocol=Ll.call(n),n.username=Il.call(n),n.password=Ml.call(n),n.host=Pl.call(n),n.hostname=Ol.call(n),n.port=Nl.call(n),n.pathname=Fl.call(n),n.search=Dl.call(n),n.searchParams=Bl.call(n),n.hash=zl.call(n))},El=Al.prototype,Rl=function(){var t=Eu(this),e=t.scheme,r=t.username,n=t.password,i=t.host,a=t.port,o=t.path,s=t.query,c=t.fragment,h=e+":";return null!==i?(h+="//",Qu(t)&&(h+=r+(n?":"+n:"")+"@"),h+=qu(i),null!==a&&(h+=":"+a)):"file"==e&&(h+="//"),h+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(h+="?"+s),null!==c&&(h+="#"+c),h},Tl=function(){var t=Eu(this),e=t.scheme,r=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Ku(t)?e+"://"+qu(t.host)+(null!==r?":"+r:""):"null"},Ll=function(){return Eu(this).scheme+":"},Il=function(){return Eu(this).username},Ml=function(){return Eu(this).password},Pl=function(){var t=Eu(this),e=t.host,r=t.port;return null===e?"":null===r?qu(e):qu(e)+":"+r},Ol=function(){var t=Eu(this).host;return null===t?"":qu(t)},Nl=function(){var t=Eu(this).port;return null===t?"":String(t)},Fl=function(){var t=Eu(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Dl=function(){var t=Eu(this).query;return t?"?"+t:""},Bl=function(){return Eu(this).searchParams},zl=function(){var t=Eu(this).fragment;return t?"#"+t:""},Ul=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&Ee(El,{href:Ul(Rl,(function(t){var e=Eu(this),r=String(t),n=Cl(e,r);if(n)throw TypeError(n);Cu(e.searchParams).updateSearchParams(e.query)})),origin:Ul(Tl),protocol:Ul(Ll,(function(t){var e=Eu(this);Cl(e,String(t)+":",il)})),username:Ul(Il,(function(t){var e=Eu(this),r=jh(String(t));if(!Ju(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=Xu(r[n],Zu)}})),password:Ul(Ml,(function(t){var e=Eu(this),r=jh(String(t));if(!Ju(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=Xu(r[n],Zu)}})),host:Ul(Pl,(function(t){var e=Eu(this);e.cannotBeABaseURL||Cl(e,String(t),dl)})),hostname:Ul(Ol,(function(t){var e=Eu(this);e.cannotBeABaseURL||Cl(e,String(t),gl)})),port:Ul(Nl,(function(t){var e=Eu(this);Ju(e)||(""==(t=String(t))?e.port=null:Cl(e,t,vl))})),pathname:Ul(Fl,(function(t){var e=Eu(this);e.cannotBeABaseURL||(e.path=[],Cl(e,t+"",wl))})),search:Ul(Dl,(function(t){var e=Eu(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Cl(e,t,Sl)),Cu(e.searchParams).updateSearchParams(e.query)})),searchParams:Ul(Bl),hash:Ul(zl,(function(t){var e=Eu(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Cl(e,t,_l)):e.fragment=null}))}),et(El,"toJSON",(function(){return Rl.call(this)}),{enumerable:!0}),et(El,"toString",(function(){return Rl.call(this)}),{enumerable:!0}),Su){var Hl=Su.createObjectURL,$l=Su.revokeObjectURL;Hl&&et(Al,"createObjectURL",(function(t){return Hl.apply(Su,arguments)})),$l&&et(Al,"revokeObjectURL",(function(t){return $l.apply(Su,arguments)}))}gn(Al,"URL"),It({global:!0,forced:!$h,sham:!a},{URL:Al}),It({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var jl=function(t){return function(e,r,n,i){Mt(r);var a=Ot(e),o=p(a),s=ht(a.length),c=t?s-1:0,h=t?-1:1;if(n<2)for(;;){if(c in o){i=o[c],c+=h;break}if(c+=h,t?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=h)c in o&&(i=r(i,o[c],c,a));return i}},ql={left:jl(!1),right:jl(!0)},Vl=ql.left,Gl=se("reduce"),Wl=ne("reduce",{1:0});It({target:"Array",proto:!0,forced:!Gl||!Wl},{reduce:function(t){return Vl(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Zl,Xl,Yl,Kl,Ql,Jl=function(t){for(var e=Ot(this),r=ht(e.length),n=arguments.length,i=ft(n>1?arguments[1]:void 0,r),a=n>2?arguments[2]:void 0,o=void 0===a?r:ft(a,r);o>i;)e[i++]=t;return e};function tf(t,e){var r,n=Object.keys(e);for(r=0;r<n.length;r++)t=t.replace(new RegExp("\\{"+n[r]+"\\}","gi"),e[n[r]]);return t}function ef(t){var e,r,n;if(!t)throw new Error("cannot create a random attribute name for an undefined object");e="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",r="";do{for(r="",n=0;n<12;n++)r+=e[Math.floor(Math.random()*e.length)]}while(t[r]);return r}function rf(t){var e={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return e[t]||e.alphabetic}It({target:"Array",proto:!0},{fill:Jl}),oi("fill"),Ql=function(t,e){var r,n,i,a={};for(t=t.split(","),e=e||10,r=0;r<t.length;r+=2)n="&"+t[r+1]+";",i=parseInt(t[r],e),a[n]="&#"+i+";";return a["\\xa0"]="&#160;",a}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Zl={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(Yl=function(t,e){this.__root=t,this.__ctx=e}).prototype.addColorStop=function(t,e){var r,n=this.__ctx.__createElement("stop");n.setAttribute("offset",t),e&&-1!==e.indexOf("rgba")?(r=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(e),n.setAttribute("stop-color",tf("rgb({r},{g},{b})",{r:r[1],g:r[2],b:r[3]})),n.setAttribute("stop-opacity",r[4])):n.setAttribute("stop-color",e),this.__root.appendChild(n)},Kl=function(t,e){this.__root=t,this.__ctx=e},(Xl=function(t){if(!(this instanceof Xl))return new Xl(t);if(this.config=t,this.width=t.width,this.height=t.height,this.enableMirroring=t.enableMirroring||!1,this.canvas=this,this.__document=document,t.ctx?this.__ctx=t.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),t.viewbox){var e=t.viewbox.x+" "+t.viewbox.y+" "+t.viewbox.width+" "+t.viewbox.height;this.__root.setAttribute("viewBox",e),this.viewbox=t.viewbox}this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=t.multiLocusGap;var r={id:"svg_output_backdrop",width:"100%",height:"100%",fill:t.backdropColor||"white"},n=this.__createElement("rect",r);this.__root.appendChild(n),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}).prototype.setWidth=function(t){this.width=t,this.__root.setAttribute("width",this.width);var e=this.config.viewbox.x+" "+this.config.viewbox.y+" "+t+" "+this.config.viewbox.height;this.__root.setAttribute("viewBox",e)},Xl.prototype.setHeight=function(t){this.height=t,this.__root.setAttribute("height",this.height);var e=this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+t;this.__root.setAttribute("viewBox",e)},Xl.prototype.__createElement=function(t,e,r){void 0===e&&(e={});var n=this.__document.createElementNS("http://www.w3.org/2000/svg",t);r&&(n.setAttribute("fill","none"),n.setAttribute("stroke","none"));for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];n.setAttribute(o,e[o])}return n},Xl.prototype.__setDefaultStyles=function(){var t,e,r=Object.keys(Zl);for(t=0;t<r.length;t++)this[e=r[t]]=Zl[e].canvas},Xl.prototype.__applyStyleState=function(t){var e,r,n=Object.keys(t);for(e=0;e<n.length;e++)this[r=n[e]]=t[r]},Xl.prototype.__getStyleState=function(){var t,e,r={},n=Object.keys(Zl);for(t=0;t<n.length;t++)r[e=n[t]]=this[e];return r},Xl.prototype.__applyStyleToCurrentElement=function(t){var e=this.__currentElement,r=this.__currentElementsToStyle;r&&(e.setAttribute(t,""),e=r.element,r.children.forEach((function(e){e.setAttribute(t,"")})));var n,i,a,o,s,c=Object.keys(Zl);for(n=0;n<c.length;n++)if(i=Zl[c[n]],a=this[c[n]],i.apply)if(a instanceof Kl){if(a.__ctx)for(;a.__ctx.__defs.childNodes.length;)o=a.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[o]=o,this.__defs.appendChild(a.__ctx.__defs.childNodes[0]);e.setAttribute(i.apply,tf("url(#{id})",{id:a.__root.getAttribute("id")}))}else if(a instanceof Yl)e.setAttribute(i.apply,tf("url(#{id})",{id:a.__root.getAttribute("id")}));else if(i&&-1!==i.apply.indexOf(t)&&i.svg!==a)if("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||!a||-1===a.indexOf("rgba")){var h=i.svgAttr;if("globalAlpha"===c[n]&&(h=t+"-"+i.svgAttr,e.getAttribute(h)))continue;e.setAttribute(h,a)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(a),e.setAttribute(i.svgAttr,tf("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]}));var u=s[4],l=this.globalAlpha;null!=l&&(u*=l),e.setAttribute(i.svgAttr+"-opacity",u)}},Xl.prototype.__closestGroupOrSvg=function(t){return"g"===(t=t||this.__currentElement).nodeName||"svg"===t.nodeName?t:this.__closestGroupOrSvg(t.parentNode)},Xl.prototype.getSerializedSvg=function(t){var e,r,n,i,a,o=(new XMLSerializer).serializeToString(this.__root);if(t)for(e=Object.keys(Ql),r=0;r<e.length;r++)n=e[r],i=Ql[n],(a=new RegExp(n,"gi")).test(o)&&(o=o.replace(a,i));return o},Xl.prototype.getSvg=function(){return this.__root},Xl.prototype.save=function(){var t=this.__createElement("g"),e=this.__closestGroupOrSvg();this.__groupStack.push(e),e.appendChild(t),this.__currentElement=t,this.__stack.push(this.__getStyleState())},Xl.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var t=this.__stack.pop();this.__applyStyleState(t)},Xl.prototype.__addTransform=function(t){var e=this.__closestGroupOrSvg();if(e.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:e,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var r=this.__createElement("g");e.appendChild(r),this.__currentElement=r}var n=this.__currentElement.getAttribute("transform");n?n+=" ":n="",n+=t,this.__currentElement.setAttribute("transform",n)},Xl.prototype.addTrackGroupWithTranslationAndClipRect=function(t,e,r,n,i,a){var o=t+"_clip_rect",s=this.__createElement("clipPath",{id:o});this.__defs.appendChild(s),s.appendChild(this.__createElement("rect",{x:"0",y:a.toString(),width:n.toString(),height:i.toString()}));var c=this.__createElement("g");this.__rootGroup.appendChild(c),c.setAttribute("transform",tf("translate({x},{y})",{x:e,y:r})),c.setAttribute("id",t+"_group"),c.setAttribute("clip-path",tf("url(#{id})",{id:o})),this.__currentElement=c},Xl.prototype.scale=function(t,e){void 0===e&&(e=t),this.__addTransform(tf("scale({x},{y})",{x:t,y:e}))},Xl.prototype.rotate=function(t){var e=180*t/Math.PI;this.__addTransform(tf("rotate({angle},{cx},{cy})",{angle:e,cx:0,cy:0}))},Xl.prototype.translate=function(t,e){this.__addTransform(tf("translate({x},{y})",{x:t,y:e}))},Xl.prototype.transform=function(t,e,r,n,i,a){this.__addTransform(tf("matrix({a},{b},{c},{d},{e},{f})",{a:t,b:e,c:r,d:n,e:i,f:a}))},Xl.prototype.beginPath=function(){var t;this.__currentDefaultPath="",this.__currentPosition={},t=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(t),this.__currentElement=t},Xl.prototype.__applyCurrentDefaultPath=function(){var t=this.__currentElement;"path"===t.nodeName?t.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",t.nodeName)},Xl.prototype.__addPathCommand=function(t){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=t},Xl.prototype.moveTo=function(t,e){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:t,y:e},this.__addPathCommand(tf("M {x} {y}",{x:t,y:e}))},Xl.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},Xl.prototype.lineTo=function(t,e){this.__currentPosition={x:t,y:e},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(tf("L {x} {y}",{x:t,y:e})):this.__addPathCommand(tf("M {x} {y}",{x:t,y:e}))},Xl.prototype.bezierCurveTo=function(t,e,r,n,i,a){this.__currentPosition={x:i,y:a},this.__addPathCommand(tf("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:t,cp1y:e,cp2x:r,cp2y:n,x:i,y:a}))},Xl.prototype.quadraticCurveTo=function(t,e,r,n){this.__currentPosition={x:r,y:n},this.__addPathCommand(tf("Q {cpx} {cpy} {x} {y}",{cpx:t,cpy:e,x:r,y:n}))};var nf=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]};Xl.prototype.arcTo=function(t,e,r,n,i){var a=this.__currentPosition&&this.__currentPosition.x,o=this.__currentPosition&&this.__currentPosition.y;if(void 0!==a&&void 0!==o){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(a===t&&o===e||t===r&&e===n||0===i)this.lineTo(t,e);else{var s=nf([a-t,o-e]),c=nf([r-t,n-e]);if(s[0]*c[1]!=s[1]*c[0]){var h=s[0]*c[0]+s[1]*c[1],u=Math.acos(Math.abs(h)),l=nf([s[0]+c[0],s[1]+c[1]]),f=i/Math.sin(u/2),p=t+f*l[0],d=e+f*l[1],g=[-s[1],s[0]],v=[c[1],-c[0]],m=function(t){var e=t[0];return t[1]>=0?Math.acos(e):-Math.acos(e)},y=m(g),b=m(v);this.lineTo(p+g[0]*i,d+g[1]*i),this.arc(p,d,i,y,b)}else this.lineTo(t,e)}}},Xl.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},Xl.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},Xl.prototype.rect=function(t,e,r,n){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+n),this.lineTo(t,e+n),this.lineTo(t,e),this.closePath()},Xl.prototype.fillRect=function(t,e,r,n){var i,a,o,s={x:t,y:e,width:r,height:n};(!this.viewbox||(i=this.viewbox,a=s,i.x<a.x+a.width&&i.x+i.width>a.x&&i.y<a.y+a.height&&i.y+i.height>a.y))&&(o=this.__createElement("rect",s,!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill"))},Xl.prototype.strokeRect=function(t,e,r,n){var i;i=this.__createElement("rect",{x:t,y:e,width:r,height:n},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")},Xl.prototype.__clearCanvas=function(){for(var t=this.__closestGroupOrSvg().getAttribute("transform"),e=this.__root.childNodes[1],r=e.childNodes,n=r.length-1;n>=0;n--)r[n]&&e.removeChild(r[n]);this.__currentElement=e,this.__groupStack=[],t&&this.__addTransform(t)},Xl.prototype.clearRect=function(t,e,r,n){if(0!==t||0!==e||r!==this.width||n!==this.height){var i,a=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:t,y:e,width:r,height:n,fill:"#FFFFFF"},!0),a.appendChild(i)}else this.__clearCanvas()},Xl.prototype.createLinearGradient=function(t,e,r,n){var i=this.__createElement("linearGradient",{id:ef(this.__ids),x1:t+"px",x2:r+"px",y1:e+"px",y2:n+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new Yl(i,this)},Xl.prototype.createRadialGradient=function(t,e,r,n,i,a){var o=this.__createElement("radialGradient",{id:ef(this.__ids),cx:n+"px",cy:i+"px",r:a+"px",fx:t+"px",fy:e+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new Yl(o,this)},Xl.prototype.__parseFont=function(){var t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),e={style:t[1]||"normal",size:t[4]||"10px",family:t[6]||"sans-serif",weight:t[3]||"normal",decoration:t[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(e.decoration="underline"),this.__fontHref&&(e.href=this.__fontHref),e},Xl.prototype.__wrapTextLink=function(t,e){if(t.href){var r=this.__createElement("a");return r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.href),r.appendChild(e),r}return e},Xl.prototype.__applyText=function(t,e,r,n){var i,a,o=this.__parseFont(),s=this.__closestGroupOrSvg(),c=this.__createElement("text",{"font-family":o.family,"font-size":o.size,"font-style":o.style,"font-weight":o.weight,"text-decoration":o.decoration,x:e,y:r,"text-anchor":(i=this.textAlign,a={left:"start",right:"end",center:"middle",start:"start",end:"end"},a[i]||a.start),"dominant-baseline":rf(this.textBaseline)},!0);c.appendChild(this.__document.createTextNode(t)),this.__currentElement=c,this.__applyStyleToCurrentElement(n),s.appendChild(this.__wrapTextLink(o,c))},Xl.prototype.fillText=function(t,e,r){this.__applyText(t,e,r,"fill")},Xl.prototype.strokeText=function(t,e,r){this.__applyText(t,e,r,"stroke")},Xl.prototype.measureText=function(t){return this.__ctx.font=this.font,this.__ctx.measureText(t)},Xl.prototype.arc=function(t,e,r,n,i,a){if(n!==i){(n%=2*Math.PI)===(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(a?-1:1))%(2*Math.PI));var o=t+r*Math.cos(i),s=e+r*Math.sin(i),c=t+r*Math.cos(n),h=e+r*Math.sin(n),u=a?0:1,l=0,f=i-n;f<0&&(f+=2*Math.PI),l=a?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(c,h),this.__addPathCommand(tf("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:r,ry:r,xAxisRotation:0,largeArcFlag:l,sweepFlag:u,endX:o,endY:s})),this.__currentPosition={x:o,y:s}}},Xl.prototype.clip=function(){var t=this.__closestGroupOrSvg(),e=this.__createElement("clipPath"),r=ef(this.__ids),n=this.__createElement("g");this.__applyCurrentDefaultPath(),t.removeChild(this.__currentElement),e.setAttribute("id",r),e.appendChild(this.__currentElement),this.__defs.appendChild(e),t.setAttribute("clip-path",tf("url(#{id})",{id:r})),t.appendChild(n),this.__currentElement=n},Xl.prototype.drawImage=function(){var t,e,r,n,i,a,o,s,c,h,u,l,f,p=Array.prototype.slice.call(arguments),d=p[0],g=0,v=0;if(3===p.length)t=p[1],e=p[2],r=i=d.width,n=a=d.height;else if(5===p.length)t=p[1],e=p[2],r=p[3],n=p[4],i=d.width,a=d.height;else{if(9!==p.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);g=p[1],v=p[2],i=p[3],a=p[4],t=p[5],e=p[6],r=p[7],n=p[8]}o=this.__closestGroupOrSvg(),this.__currentElement;var m="translate("+t+", "+e+")";if(d instanceof Xl){if((s=d.getSvg().cloneNode(!0)).childNodes&&s.childNodes.length>1){for(c=s.childNodes[0];c.childNodes.length;)f=c.childNodes[0].getAttribute("id"),this.__ids[f]=f,this.__defs.appendChild(c.childNodes[0]);if(h=s.childNodes[1]){var y,b=h.getAttribute("transform");y=b?b+" "+m:m,h.setAttribute("transform",y),o.appendChild(h)}}}else"CANVAS"!==d.nodeName&&"IMG"!==d.nodeName||((u=this.__createElement("image")).setAttribute("width",r),u.setAttribute("height",n),u.setAttribute("preserveAspectRatio","none"),(g||v||i!==d.width||a!==d.height)&&((l=this.__document.createElement("canvas")).width=r,l.height=n,l.getContext("2d").drawImage(d,g,v,i,a,0,0,r,n),d=l),u.setAttribute("transform",m),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===d.nodeName?d.toDataURL():d.getAttribute("src")),o.appendChild(u))},Xl.prototype.createPattern=function(t,e){var r,n=this.__document.__createElement("pattern"),i=ef(this.__ids);return n.setAttribute("id",i),n.setAttribute("width",t.width),n.setAttribute("height",t.height),"CANVAS"===t.nodeName||"IMG"===t.nodeName?((r=this.__createElement("image")).setAttribute("width",t.width),r.setAttribute("height",t.height),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===t.nodeName?t.toDataURL():t.getAttribute("src")),n.appendChild(r),this.__defs.appendChild(n)):t instanceof Xl&&(n.appendChild(t.__root.childNodes[1]),this.__defs.appendChild(n)),new Kl(n,this)},Xl.prototype.setLineDash=function(t){t&&t.length>0?this.lineDash=t.join(","):this.lineDash=null},Xl.prototype.drawFocusRing=function(){},Xl.prototype.createImageData=function(){},Xl.prototype.getImageData=function(){},Xl.prototype.putImageData=function(){},Xl.prototype.globalCompositeOperation=function(){},Xl.prototype.setTransform=function(){};var af,of=Xl;function sf(t,e){Js(e).on("mousedown.igv_drag",cf.bind(t))}function cf(t){t.stopPropagation(),t.preventDefault();var e=Math.round(parseFloat(this.style.left.replace("px",""))),r=Math.round(parseFloat(this.style.top.replace("px",""))),n=hf.bind(this),i=uf.bind(this);af={dragFunction:n,dragEndFunction:i,dx:e-t.screenX,dy:r-t.screenY},Js(document).on("mousemove.igv_drag",n),Js(document).on("mouseup.igv_drag",i),Js(document).on("mouseleave.igv_drag",i),Js(document).on("mouseexit.igv_drag",i)}function hf(t){if(af){t.stopPropagation(),t.preventDefault();var e=af.dx+t.screenX,r=af.dy+t.screenY;this.style.left=e+"px",this.style.top=r+"px"}}function uf(t){if(af){t.stopPropagation(),t.preventDefault();var e=af.dx+t.screenX,r=af.dy+t.screenY;this.style.left=e+"px",this.style.top=r+"px",Js(document).off(".igv_drag"),af=void 0}}var lf=ze.trim,ff=n.parseInt,pf=/^[+-]?0[Xx]/,df=8!==ff(Oe+"08")||22!==ff(Oe+"0x16")?function(t,e){var r=lf(String(t));return ff(r,e>>>0||(pf.test(r)?16:10))}:ff;It({target:"Number",stat:!0,forced:Number.parseInt!=df},{parseInt:df});var gf=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),vf=e((function(t){var e=R.f,r=$("meta"),n=0,i=Object.isExtensible||function(){return!0},a=function(t){e(t,r,{value:{objectID:"O"+ ++n,weakData:{}}})},o=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!b(t,r)){if(!i(t))return"F";if(!e)return"E";a(t)}return t[r].objectID},getWeakData:function(t,e){if(!b(t,r)){if(!i(t))return!0;if(!e)return!1;a(t)}return t[r].weakData},onFreeze:function(t){return gf&&o.REQUIRED&&i(t)&&!b(t,r)&&a(t),t}};V[r]=!0})),mf=(vf.REQUIRED,vf.fastKey,vf.getWeakData,vf.onFreeze,function(t,e,r){var a=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=a?"set":"add",c=n[t],h=c&&c.prototype,u=c,l={},f=function(t){var e=h[t];et(h,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!v(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!v(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!v(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(Tt(t,"function"!=typeof c||!(o||h.forEach&&!i((function(){(new c).entries().next()})))))u=r.getConstructor(e,t,a,s),vf.REQUIRED=!0;else if(Tt(t,!0)){var p=new u,d=p[s](o?{}:-0,1)!=p,g=i((function(){p.has(1)})),m=Sc((function(t){new c(t)})),y=!o&&i((function(){for(var t=new c,e=5;e--;)t[s](e,e);return!t.has(-0)}));m||((u=e((function(e,r){cc(e,u,t);var n=Ce(new c,e,u);return null!=r&&gc(r,n[s],n,a),n}))).prototype=h,h.constructor=u),(g||y)&&(f("delete"),f("has"),a&&f("get")),(y||d)&&f(s),o&&h.clear&&delete h.clear}return l[t]=u,It({global:!0,forced:u!=c},l),gn(u,t),o||r.setStrong(u,t,a),u}),yf=R.f,bf=vf.fastKey,wf=tt.set,xf=tt.getterFor,kf={getConstructor:function(t,e,r,n){var i=t((function(t,o){cc(t,i,e),wf(t,{type:e,index:Pe(null),first:void 0,last:void 0,size:0}),a||(t.size=0),null!=o&&gc(o,t[n],t,r)})),o=xf(e),s=function(t,e,r){var n,i,s=o(t),h=c(t,e);return h?h.value=r:(s.last=h={index:i=bf(e,!0),key:e,value:r,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=h),n&&(n.next=h),a?s.size++:t.size++,"F"!==i&&(s.index[i]=h)),t},c=function(t,e){var r,n=o(t),i=bf(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return sc(i.prototype,{clear:function(){for(var t=o(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,a?t.size=0:this.size=0},delete:function(t){var e=o(this),r=c(this,t);if(r){var n=r.next,i=r.previous;delete e.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),e.first==r&&(e.first=n),e.last==r&&(e.last=i),a?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=o(this),n=Pt(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),sc(i.prototype,r?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),a&&yf(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=xf(e),a=xf(n);Ri(t,e,(function(t,e){wf(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),aa(e)}},Sf=(mf("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),kf),{trackMenuItemList:function(t){var e,r=new Set(["alignment","annotation","variant","eqtl","snp"]),n=t.track.config&&void 0!==t.track.config.visibilityWindow,i=[];return"sequence"!==t.track.config.type&&(i.push(function(t){var e;return(e=Js("<div>")).text("Set track name"),{object:e,click:function(){var e;e=function(){var e;e=""===(e=t.browser.inputDialog.$input.val().trim())||void 0===e?"untitled":e,t.browser.setTrackLabelName(t,e)},t.browser.inputDialog.configure({label:"Track Name",input:_f(t.track)||"unnamed",click:e}),t.browser.inputDialog.present(Js(t.trackDiv))}}}(t)),i.push(function(t){var e;return(e=Js("<div>")).text("Set track height"),{object:e,click:function(){var e;e=function(){var e;void 0!==(e=parseFloat(t.browser.inputDialog.$input.val(),10))&&(void 0!==t.track.minHeight&&t.track.minHeight>e&&(t.track.minHeight=e),void 0!==t.track.maxHeight&&t.track.maxHeight<e&&(t.track.minHeight=e),t.setTrackHeight(e,!0,!0),t.track.autoHeight=!1)},t.browser.inputDialog.configure({label:"Track Height",input:t.trackDiv.clientHeight,click:e}),t.browser.inputDialog.present(Js(t.trackDiv))}}}(t))),("alignment"===(e=t.track).type||"annotation"===e.type||"variant"===e.type||"wig"===e.type)&&i.push(function(t){var e;return(e=Js("<div>")).text("Set track color"),{object:e,click:function(){t.presentColorPicker()}}}(t)),t.track.menuItemList&&(i=i.concat(t.track.menuItemList())),(n||r.has(t.track.config.type))&&(i.push("<hr/>"),i.push(function(t){var e=function(){t.browser.inputDialog.configure({label:"Visibility Window",input:t.track.visibilityWindow,click:function(){var e=t.browser.inputDialog.$input.val().trim();""!==e&&void 0!==e||(e=-1),e=Number.parseInt(e),t.track.visibilityWindow=e,t.track.config.visibilityWindow=e,t.updateViews()}}),t.browser.inputDialog.present(Js(t.trackDiv))},r=Js("<div>");return r.text("Set visibility window"),{object:r,click:e}}(t))),!1!==t.track.removable&&(i.push("<hr/>"),i.push(function(t){var e;return(e=Js("<div>")).text("Remove track"),{object:e,click:function(){t.browser.removeTrack(t.track)}}}(t))),i},dataRangeMenuItem:function(t){var e;return(e=Js("<div>")).text("Set data range"),{object:e,click:function(){t.browser.dataRangeDialog.configure({trackView:t}),t.browser.dataRangeDialog.present(Js(t.trackDiv))}}},trackMenuItemListHelper:function(t,e){var r=[];return t.length>0&&(r=t.map((function(t,r){var n;if(t.name?(n=Js("<div>")).text(t.name):t.object?n=t.object:"string"==typeof t.label?(n=Js("<div>")).html(t.label):"string"==typeof t&&(n=t.startsWith("<")?Js(t):Js("<div>"+t+"</div>")),0===r&&n.addClass("igv-track-menu-border-top"),t.click){function i(r){t.click(r),e.hide(),r.preventDefault(),r.stopPropagation()}n.on("click",i),n.on("touchend",(function(t){i(t)})),n.on("mouseup",(function(t){t.preventDefault(),t.stopPropagation()}))}return{object:n,init:t.init||void 0}}))),r}});function _f(t){return t.trackView.viewports[0].$trackLabel.text()}var Cf=c.f,Af=function(t){return function(e){for(var r,n=g(e),i=Ae(n),o=i.length,s=0,c=[];o>s;)r=i[s++],a&&!Cf.call(n,r)||c.push(t?[r,n[r]]:n[r]);return c}},Ef={entries:Af(!0),values:Af(!1)},Rf=Ef.values;function Tf(t,e){var r=Js("<div>",{class:"igv-trackgear-popover-check-container"}),n=Js("<div>");r.append(n);var i=If("check",!0===e?"#444":"transparent");n.append(i);var a=Js("<div>");return a.text(t),r.append(a),r}function Lf(t,e){return Js(If(t,e))}function If(t,e){e=e||"currentColor";var r=Mf[t];r||(console.error("No icon named: ".concat(t)),r=Mf.question);var n='<svg viewBox="0 0 '+r[0]+" "+r[1]+'">';return n+='<path fill="'+e+'" d="'+r[4]+'"></path>',n+="</svg>"}It({target:"Object",stat:!0},{values:function(t){return Rf(t)}});var Mf={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]},Pf={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"white",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},Of={A:[0,200,0],C:[0,0,200],T:[255,0,0],G:[209,113,5],a:[0,200,0],c:[0,0,200],t:[255,0,0],g:[209,113,5],N:[80,80,80]},Nf={A:"rgb(  0, 200,   0)",C:"rgb(  0,   0, 200)",T:"rgb(255,   0,   0)",G:"rgb(209, 113,   5)",a:"rgb(  0, 200,   0)",c:"rgb(  0,   0, 200)",t:"rgb(255,   0,   0)",g:"rgb(209, 113,   5)",N:"rgb(80, 80, 80)"},Ff={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]};function Df(t){this.colors=Ff[t],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new Bf}function Bf(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}Df.prototype.getColor=function(t){return this.colorTable.hasOwnProperty(t)||(this.nextIdx<this.colors.length?this.colorTable[t]=this.colors[this.nextIdx]:this.colorTable[t]=this.colorGenerator.get(),this.nextIdx++),this.colorTable[t]},Bf.prototype.hsvToRgb=function(t,e,r){var n=Math.floor(6*t),i=6*t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),c=255,h=255,u=255;switch(n){case 0:c=r,h=s,u=a;break;case 1:c=o,h=r,u=a;break;case 2:c=a,h=r,u=s;break;case 3:c=a,h=o,u=r;break;case 4:c=s,h=a,u=r;break;case 5:c=r,h=a,u=o}return[Math.floor(256*c),Math.floor(256*h),Math.floor(256*u)]},Bf.prototype.padHex=function(t){return t.length>this.hexwidth?t:new Array(this.hexwidth-t.length+1).join("0")+t},Bf.prototype.get=function(t,e){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof t&&(t=.5),"number"!=typeof e&&(e=.95);var r=this.hsvToRgb(this.hue,t,e);return"#"+this.padHex(r[0].toString(16))+this.padHex(r[1].toString(16))+this.padHex(r[2].toString(16))};var zf=dt.includes,Uf=ne("indexOf",{ACCESSORS:!0,1:0});It({target:"Array",proto:!0,forced:!Uf},{includes:function(t){return zf(this,t,arguments.length>1?arguments[1]:void 0)}}),oi("includes"),It({target:"String",proto:!0,forced:!pr("includes")},{includes:function(t){return!!~String(d(this)).indexOf(lr(t),arguments.length>1?arguments[1]:void 0)}});var Hf=function(t,e){if(0!==t.length){var r=Math.floor(t.length*((100-e)/100));return 0===r?(t.sort((function(t,e){return e-t})),t[r]):function(t,e){var r,n=new qf;for(r=0;r<t.length;r++){var i=t[r];if(n.content.length<e||i>n.content[0]){if(n.content.length===e)n.pop();n.push(i)}}return n.content[0]}(t,r)}},$f=function(t,e,r){return Math.min(Math.max(t,e),r)},jf=function(t){return Math.log(t)/Math.LN2};function qf(){this.content=[]}qf.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),t},remove:function(t){for(var e=this.content.length,r=0;r<e;r++)if(this.content[r]===t){var n=this.content.pop();if(r===e-1)break;this.content[r]=n,this.bubbleUp(r),this.sinkDown(r);break}},size:function(){return this.content.length},bubbleUp:function(t){for(var e=this.content[t],r=e;t>0;){var n=Math.floor((t+1)/2)-1,i=this.content[n];if(r>=i)break;this.content[n]=e,this.content[t]=i,t=n}},sinkDown:function(t){for(var e=this.content.length,r=this.content[t],n=r;;){var i=2*(t+1),a=i-1,o=null;if(a<e){var s=this.content[a],c=s;s<n&&(o=a)}if(i<e)this.content[i]<(null==o?n:c)&&(o=i);if(null==o)break;this.content[t]=this.content[o],this.content[o]=r,t=o}}},a&&("g"!=/./g.flags||tr.UNSUPPORTED_Y)&&R.f(RegExp.prototype,"flags",{configurable:!0,get:Qe});var Vf,Gf="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Wf=R.f,Zf=n.Int8Array,Xf=Zf&&Zf.prototype,Yf=n.Uint8ClampedArray,Kf=Yf&&Yf.prototype,Qf=Zf&&mi(Zf),Jf=Xf&&mi(Xf),tp=Object.prototype,ep=tp.isPrototypeOf,rp=Ht("toStringTag"),np=$("TYPED_ARRAY_TAG"),ip=Gf&&!!_e&&"Opera"!==ra(n.opera),ap=!1,op={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},sp=function(t){return v(t)&&b(op,ra(t))};for(Vf in op)n[Vf]||(ip=!1);if((!ip||"function"!=typeof Qf||Qf===Function.prototype)&&(Qf=function(){throw TypeError("Incorrect invocation")},ip))for(Vf in op)n[Vf]&&_e(n[Vf],Qf);if((!ip||!Jf||Jf===tp)&&(Jf=Qf.prototype,ip))for(Vf in op)n[Vf]&&_e(n[Vf].prototype,Jf);if(ip&&mi(Kf)!==Jf&&_e(Kf,Jf),a&&!b(Jf,rp))for(Vf in ap=!0,Wf(Jf,rp,{get:function(){return v(this)?this[np]:void 0}}),op)n[Vf]&&T(n[Vf],np,Vf);var cp={NATIVE_ARRAY_BUFFER_VIEWS:ip,TYPED_ARRAY_TAG:ap&&np,aTypedArray:function(t){if(sp(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(_e){if(ep.call(Qf,t))return t}else for(var e in op)if(b(op,Vf)){var r=n[e];if(r&&(t===r||ep.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(a){if(r)for(var i in op){var o=n[i];o&&b(o.prototype,t)&&delete o.prototype[t]}Jf[t]&&!r||et(Jf,t,r?e:ip&&Xf[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var i,o;if(a){if(_e){if(r)for(i in op)(o=n[i])&&b(o,t)&&delete o[t];if(Qf[t]&&!r)return;try{return et(Qf,t,r?e:ip&&Zf[t]||e)}catch(t){}}for(i in op)!(o=n[i])||o[t]&&!r||et(o,t,e)}},isView:function(t){var e=ra(t);return"DataView"===e||b(op,e)},isTypedArray:sp,TypedArray:Qf,TypedArrayPrototype:Jf},hp=cp.NATIVE_ARRAY_BUFFER_VIEWS,up=n.ArrayBuffer,lp=n.Int8Array,fp=!hp||!i((function(){lp(1)}))||!i((function(){new lp(-1)}))||!Sc((function(t){new lp,new lp(null),new lp(1.5),new lp(t)}),!0)||i((function(){return 1!==new lp(new up(2),1,void 0).length})),pp=function(t){if(void 0===t)return 0;var e=st(t),r=ht(e);if(e!==r)throw RangeError("Wrong length or index");return r},dp=Math.abs,gp=Math.pow,vp=Math.floor,mp=Math.log,yp=Math.LN2,bp=function(t,e,r){var n,i,a,o=new Array(r),s=8*r-e-1,c=(1<<s)-1,h=c>>1,u=23===e?gp(2,-24)-gp(2,-77):0,l=t<0||0===t&&1/t<0?1:0,f=0;for((t=dp(t))!=t||t===1/0?(i=t!=t?1:0,n=c):(n=vp(mp(t)/yp),t*(a=gp(2,-n))<1&&(n--,a*=2),(t+=n+h>=1?u/a:u*gp(2,1-h))*a>=2&&(n++,a/=2),n+h>=c?(i=0,n=c):n+h>=1?(i=(t*a-1)*gp(2,e),n+=h):(i=t*gp(2,h-1)*gp(2,e),n=0));e>=8;o[f++]=255&i,i/=256,e-=8);for(n=n<<e|i,s+=e;s>0;o[f++]=255&n,n/=256,s-=8);return o[--f]|=128*l,o},wp=function(t,e){var r,n=t.length,i=8*n-e-1,a=(1<<i)-1,o=a>>1,s=i-7,c=n-1,h=t[c--],u=127&h;for(h>>=7;s>0;u=256*u+t[c],c--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=e;s>0;r=256*r+t[c],c--,s-=8);if(0===u)u=1-o;else{if(u===a)return r?NaN:h?-1/0:1/0;r+=gp(2,e),u-=o}return(h?-1:1)*r*gp(2,u-e)},xp=bt.f,kp=R.f,Sp=tt.get,_p=tt.set,Cp=n.ArrayBuffer,Ap=Cp,Ep=n.DataView,Rp=Ep&&Ep.prototype,Tp=Object.prototype,Lp=n.RangeError,Ip=bp,Mp=wp,Pp=function(t){return[255&t]},Op=function(t){return[255&t,t>>8&255]},Np=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Fp=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Dp=function(t){return Ip(t,23,4)},Bp=function(t){return Ip(t,52,8)},zp=function(t,e){kp(t.prototype,e,{get:function(){return Sp(this)[e]}})},Up=function(t,e,r,n){var i=pp(r),a=Sp(t);if(i+e>a.byteLength)throw Lp("Wrong index");var o=Sp(a.buffer).bytes,s=i+a.byteOffset,c=o.slice(s,s+e);return n?c:c.reverse()},Hp=function(t,e,r,n,i,a){var o=pp(r),s=Sp(t);if(o+e>s.byteLength)throw Lp("Wrong index");for(var c=Sp(s.buffer).bytes,h=o+s.byteOffset,u=n(+i),l=0;l<e;l++)c[h+l]=u[a?l:e-l-1]};if(Gf){if(!i((function(){Cp(1)}))||!i((function(){new Cp(-1)}))||i((function(){return new Cp,new Cp(1.5),new Cp(NaN),"ArrayBuffer"!=Cp.name}))){for(var $p,jp=(Ap=function(t){return cc(this,Ap),new Cp(pp(t))}).prototype=Cp.prototype,qp=xp(Cp),Vp=0;qp.length>Vp;)($p=qp[Vp++])in Ap||T(Ap,$p,Cp[$p]);jp.constructor=Ap}_e&&mi(Rp)!==Tp&&_e(Rp,Tp);var Gp=new Ep(new Ap(2)),Wp=Rp.setInt8;Gp.setInt8(0,2147483648),Gp.setInt8(1,2147483649),!Gp.getInt8(0)&&Gp.getInt8(1)||sc(Rp,{setInt8:function(t,e){Wp.call(this,t,e<<24>>24)},setUint8:function(t,e){Wp.call(this,t,e<<24>>24)}},{unsafe:!0})}else Ap=function(t){cc(this,Ap,"ArrayBuffer");var e=pp(t);_p(this,{bytes:Jl.call(new Array(e),0),byteLength:e}),a||(this.byteLength=e)},Ep=function(t,e,r){cc(this,Ep,"DataView"),cc(t,Ap,"DataView");var n=Sp(t).byteLength,i=st(e);if(i<0||i>n)throw Lp("Wrong offset");if(i+(r=void 0===r?n-i:ht(r))>n)throw Lp("Wrong length");_p(this,{buffer:t,byteLength:r,byteOffset:i}),a||(this.buffer=t,this.byteLength=r,this.byteOffset=i)},a&&(zp(Ap,"byteLength"),zp(Ep,"buffer"),zp(Ep,"byteLength"),zp(Ep,"byteOffset")),sc(Ep.prototype,{getInt8:function(t){return Up(this,1,t)[0]<<24>>24},getUint8:function(t){return Up(this,1,t)[0]},getInt16:function(t){var e=Up(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Up(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Fp(Up(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return Fp(Up(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return Mp(Up(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return Mp(Up(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Hp(this,1,t,Pp,e)},setUint8:function(t,e){Hp(this,1,t,Pp,e)},setInt16:function(t,e){Hp(this,2,t,Op,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Hp(this,2,t,Op,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Hp(this,4,t,Np,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Hp(this,4,t,Np,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Hp(this,4,t,Dp,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Hp(this,8,t,Bp,e,arguments.length>2?arguments[2]:void 0)}});gn(Ap,"ArrayBuffer"),gn(Ep,"DataView");var Zp={ArrayBuffer:Ap,DataView:Ep},Xp=function(t,e){var r=function(t){var e=st(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(r%e)throw RangeError("Wrong offset");return r},Yp=cp.aTypedArrayConstructor,Kp=function(t){var e,r,n,i,a,o,s=Ot(t),c=arguments.length,h=c>1?arguments[1]:void 0,u=void 0!==h,l=pc(s);if(null!=l&&!lc(l))for(o=(a=l.call(s)).next,s=[];!(i=o.call(a)).done;)s.push(i.value);for(u&&c>2&&(h=Pt(h,arguments[2],2)),r=ht(s.length),n=new(Yp(this))(r),e=0;r>e;e++)n[e]=u?h(s[e],e):s[e];return n},Qp=e((function(t){var e=bt.f,r=Gt.forEach,i=tt.get,o=tt.set,s=R.f,c=C.f,u=Math.round,l=n.RangeError,f=Zp.ArrayBuffer,p=Zp.DataView,d=cp.NATIVE_ARRAY_BUFFER_VIEWS,g=cp.TYPED_ARRAY_TAG,y=cp.TypedArray,w=cp.TypedArrayPrototype,x=cp.aTypedArrayConstructor,k=cp.isTypedArray,S=function(t,e){for(var r=0,n=e.length,i=new(x(t))(n);n>r;)i[r]=e[r++];return i},_=function(t,e){s(t,e,{get:function(){return i(this)[e]}})},A=function(t){var e;return t instanceof f||"ArrayBuffer"==(e=ra(t))||"SharedArrayBuffer"==e},E=function(t,e){return k(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},L=function(t,e){return E(t,e=m(e,!0))?h(2,t[e]):c(t,e)},I=function(t,e,r){return!(E(t,e=m(e,!0))&&v(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?s(t,e,r):(t[e]=r.value,t)};a?(d||(C.f=L,R.f=I,_(w,"buffer"),_(w,"byteOffset"),_(w,"byteLength"),_(w,"length")),It({target:"Object",stat:!0,forced:!d},{getOwnPropertyDescriptor:L,defineProperty:I}),t.exports=function(t,a,c){var h=t.match(/\d+$/)[0]/8,m=t+(c?"Clamped":"")+"Array",b="get"+t,x="set"+t,_=n[m],C=_,E=C&&C.prototype,R={},L=function(t,e){s(t,e,{get:function(){return function(t,e){var r=i(t);return r.view[b](e*h+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var n=i(t);c&&(r=(r=u(r))<0?0:r>255?255:255&r),n.view[x](e*h+n.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};d?fp&&(C=a((function(t,e,r,n){return cc(t,C,m),Ce(v(e)?A(e)?void 0!==n?new _(e,Xp(r,h),n):void 0!==r?new _(e,Xp(r,h)):new _(e):k(e)?S(C,e):Kp.call(C,e):new _(pp(e)),t,C)})),_e&&_e(C,y),r(e(_),(function(t){t in C||T(C,t,_[t])})),C.prototype=E):(C=a((function(t,e,r,n){cc(t,C,m);var i,a,s,c=0,u=0;if(v(e)){if(!A(e))return k(e)?S(C,e):Kp.call(C,e);i=e,u=Xp(r,h);var d=e.byteLength;if(void 0===n){if(d%h)throw l("Wrong length");if((a=d-u)<0)throw l("Wrong length")}else if((a=ht(n)*h)+u>d)throw l("Wrong length");s=a/h}else s=pp(e),i=new f(a=s*h);for(o(t,{buffer:i,byteOffset:u,byteLength:a,length:s,view:new p(i)});c<s;)L(t,c++)})),_e&&_e(C,y),E=C.prototype=Pe(w)),E.constructor!==C&&T(E,"constructor",C),g&&T(E,g,m),R[m]=C,It({global:!0,forced:C!=_,sham:!d},R),"BYTES_PER_ELEMENT"in C||T(C,"BYTES_PER_ELEMENT",h),"BYTES_PER_ELEMENT"in E||T(E,"BYTES_PER_ELEMENT",h),aa(m)}):t.exports=function(){}}));Qp("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}})),Qp("Uint16",(function(t){return function(e,r,n){return t(this,e,r,n)}})),Qp("Uint32",(function(t){return function(e,r,n){return t(this,e,r,n)}}));var Jp=Math.min,td=[].copyWithin||function(t,e){var r=Ot(this),n=ht(r.length),i=ft(t,n),a=ft(e,n),o=arguments.length>2?arguments[2]:void 0,s=Jp((void 0===o?n:ft(o,n))-a,n-i),c=1;for(a<i&&i<a+s&&(c=-1,a+=s-1,i+=s-1);s-- >0;)a in r?r[i]=r[a]:delete r[i],i+=c,a+=c;return r},ed=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("copyWithin",(function(t,e){return td.call(ed(this),t,e,arguments.length>2?arguments[2]:void 0)}));var rd=Gt.every,nd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("every",(function(t){return rd(nd(this),t,arguments.length>1?arguments[1]:void 0)}));var id=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("fill",(function(t){return Jl.apply(id(this),arguments)}));var ad=Gt.filter,od=cp.aTypedArray,sd=cp.aTypedArrayConstructor;(0,cp.exportTypedArrayMethod)("filter",(function(t){for(var e=ad(od(this),t,arguments.length>1?arguments[1]:void 0),r=Tr(this,this.constructor),n=0,i=e.length,a=new(sd(r))(i);i>n;)a[n]=e[n++];return a}));var cd=Gt.find,hd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("find",(function(t){return cd(hd(this),t,arguments.length>1?arguments[1]:void 0)}));var ud=Gt.findIndex,ld=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("findIndex",(function(t){return ud(ld(this),t,arguments.length>1?arguments[1]:void 0)}));var fd=Gt.forEach,pd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("forEach",(function(t){fd(pd(this),t,arguments.length>1?arguments[1]:void 0)}));var dd=dt.includes,gd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("includes",(function(t){return dd(gd(this),t,arguments.length>1?arguments[1]:void 0)}));var vd=dt.indexOf,md=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("indexOf",(function(t){return vd(md(this),t,arguments.length>1?arguments[1]:void 0)}));var yd=Ht("iterator"),bd=n.Uint8Array,wd=Ii.values,xd=Ii.keys,kd=Ii.entries,Sd=cp.aTypedArray,_d=cp.exportTypedArrayMethod,Cd=bd&&bd.prototype[yd],Ad=!!Cd&&("values"==Cd.name||null==Cd.name),Ed=function(){return wd.call(Sd(this))};_d("entries",(function(){return kd.call(Sd(this))})),_d("keys",(function(){return xd.call(Sd(this))})),_d("values",Ed,!Ad),_d(yd,Ed,!Ad);var Rd=cp.aTypedArray,Td=[].join;(0,cp.exportTypedArrayMethod)("join",(function(t){return Td.apply(Rd(this),arguments)}));var Ld=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("lastIndexOf",(function(t){return ke.apply(Ld(this),arguments)}));var Id=Gt.map,Md=cp.aTypedArray,Pd=cp.aTypedArrayConstructor;(0,cp.exportTypedArrayMethod)("map",(function(t){return Id(Md(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(Pd(Tr(t,t.constructor)))(e)}))}));var Od=ql.left,Nd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("reduce",(function(t){return Od(Nd(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Fd=ql.right,Dd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("reduceRight",(function(t){return Fd(Dd(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Bd=cp.aTypedArray,zd=cp.exportTypedArrayMethod,Ud=Math.floor;zd("reverse",(function(){for(var t,e=Bd(this).length,r=Ud(e/2),n=0;n<r;)t=this[n],this[n++]=this[--e],this[e]=t;return this}));var Hd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("set",(function(t){Hd(this);var e=Xp(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=Ot(t),i=ht(n.length),a=0;if(i+e>r)throw RangeError("Wrong length");for(;a<i;)this[e+a]=n[a++]}),i((function(){new Int8Array(1).set({})})));var $d=cp.aTypedArray,jd=cp.aTypedArrayConstructor,qd=[].slice;(0,cp.exportTypedArrayMethod)("slice",(function(t,e){for(var r=qd.call($d(this),t,e),n=Tr(this,this.constructor),i=0,a=r.length,o=new(jd(n))(a);a>i;)o[i]=r[i++];return o}),i((function(){new Int8Array(1).slice()})));var Vd=Gt.some,Gd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("some",(function(t){return Vd(Gd(this),t,arguments.length>1?arguments[1]:void 0)}));var Wd=cp.aTypedArray,Zd=[].sort;(0,cp.exportTypedArrayMethod)("sort",(function(t){return Zd.call(Wd(this),t)}));var Xd=cp.aTypedArray;(0,cp.exportTypedArrayMethod)("subarray",(function(t,e){var r=Xd(this),n=r.length,i=ft(t,n);return new(Tr(r,r.constructor))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,ht((void 0===e?n:ft(e,n))-i))}));var Yd=n.Int8Array,Kd=cp.aTypedArray,Qd=cp.exportTypedArrayMethod,Jd=[].toLocaleString,tg=[].slice,eg=!!Yd&&i((function(){Jd.call(new Yd(1))}));Qd("toLocaleString",(function(){return Jd.apply(eg?tg.call(Kd(this)):Kd(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new Yd([1,2]).toLocaleString()}))||!i((function(){Yd.prototype.toLocaleString.call([1,2])})));var rg=cp.exportTypedArrayMethod,ng=n.Uint8Array,ig=ng&&ng.prototype||{},ag=[].toString,og=[].join;i((function(){ag.call({})}))&&(ag=function(){return og.call(this)});var sg=ig.toString!=ag;rg("toString",ag,sg);var cg={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(t){t=t||{},this.files=[],this.comment=t.comment,this.password}};cg.Zip.CompressionMethod={STORE:0,DEFLATE:8},cg.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},cg.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},cg.Zip.FileHeaderSignature=[80,75,1,2],cg.Zip.LocalFileHeaderSignature=[80,75,3,4],cg.Zip.CentralDirectorySignature=[80,75,5,6],cg.Zip.prototype.addFile=function(t,e){(e=e||{}).filename;var r,n=t.length,i=0;if(t instanceof Array&&(t=new Uint8Array(t)),"number"!=typeof e.compressionMethod&&(e.compressionMethod=cg.Zip.CompressionMethod.DEFLATE),e.compress)switch(e.compressionMethod){case cg.Zip.CompressionMethod.STORE:break;case cg.Zip.CompressionMethod.DEFLATE:i=cg.CRC32.calc(t),t=this.deflateWithOption(t,e),r=!0;break;default:throw new Error("unknown compression method:"+e.compressionMethod)}this.files.push({buffer:t,option:e,compressed:r,encrypted:!1,size:n,crc32:i})},cg.Zip.prototype.setPassword=function(t){this.password=t},cg.Zip.prototype.compress=function(){var t,e,r,n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S,_,C,A=this.files,E=0,R=0;for(k=0,S=A.length;k<S;++k){if(p=(t=A[k]).option.filename?t.option.filename.length:0,d=t.option.extraField?t.option.extraField.length:0,g=t.option.comment?t.option.comment.length:0,!t.compressed)switch(t.crc32=cg.CRC32.calc(t.buffer),t.option.compressionMethod){case cg.Zip.CompressionMethod.STORE:break;case cg.Zip.CompressionMethod.DEFLATE:t.buffer=this.deflateWithOption(t.buffer,t.option),t.compressed=!0;break;default:throw new Error("unknown compression method:"+t.option.compressionMethod)}if(void 0!==t.option.password||void 0!==this.password){for(x=this.createEncryptionKey(t.option.password||this.password),b=t.buffer,(w=new Uint8Array(b.length+12)).set(b,12),b=w,_=0;_<12;++_)b[_]=this.encode(x,11===k?255&t.crc32:256*Math.random()|0);for(C=b.length;_<C;++_)b[_]=this.encode(x,b[_]);t.buffer=b}E+=30+p+t.buffer.length,R+=46+p+g}for(a=22+(this.comment?this.comment.length:0),e=new Uint8Array(E+R+a),r=0,i=(n=E)+R,k=0,S=A.length;k<S;++k)p=(t=A[k]).option.filename?t.option.filename.length:0,d=0,g=t.option.comment?t.option.comment.length:0,o=r,e[r++]=cg.Zip.LocalFileHeaderSignature[0],e[r++]=cg.Zip.LocalFileHeaderSignature[1],e[r++]=cg.Zip.LocalFileHeaderSignature[2],e[r++]=cg.Zip.LocalFileHeaderSignature[3],e[n++]=cg.Zip.FileHeaderSignature[0],e[n++]=cg.Zip.FileHeaderSignature[1],e[n++]=cg.Zip.FileHeaderSignature[2],e[n++]=cg.Zip.FileHeaderSignature[3],20,e[n++]=20,e[n++]=t.option.os||cg.Zip.OperatingSystem.MSDOS,e[r++]=e[n++]=20,e[r++]=e[n++]=0,s=0,(t.option.password||this.password)&&(s|=cg.Zip.Flags.ENCRYPT),e[r++]=e[n++]=255&s,e[r++]=e[n++]=s>>8&255,c=t.option.compressionMethod,e[r++]=e[n++]=255&c,e[r++]=e[n++]=c>>8&255,h=t.option.date||new Date,e[r++]=e[n++]=(7&h.getMinutes())<<5|h.getSeconds()/2|0,e[r++]=e[n++]=h.getHours()<<3|h.getMinutes()>>3,e[r++]=e[n++]=(h.getMonth()+1&7)<<5|h.getDate(),e[r++]=e[n++]=(h.getFullYear()-1980&127)<<1|h.getMonth()+1>>3,u=t.crc32,e[r++]=e[n++]=255&u,e[r++]=e[n++]=u>>8&255,e[r++]=e[n++]=u>>16&255,e[r++]=e[n++]=u>>24&255,l=t.buffer.length,e[r++]=e[n++]=255&l,e[r++]=e[n++]=l>>8&255,e[r++]=e[n++]=l>>16&255,e[r++]=e[n++]=l>>24&255,f=t.size,e[r++]=e[n++]=255&f,e[r++]=e[n++]=f>>8&255,e[r++]=e[n++]=f>>16&255,e[r++]=e[n++]=f>>24&255,e[r++]=e[n++]=255&p,e[r++]=e[n++]=p>>8&255,e[r++]=e[n++]=255&d,e[r++]=e[n++]=d>>8&255,e[n++]=255&g,e[n++]=g>>8&255,e[n++]=0,e[n++]=0,e[n++]=0,e[n++]=0,e[n++]=0,e[n++]=0,e[n++]=0,e[n++]=0,e[n++]=255&o,e[n++]=o>>8&255,e[n++]=o>>16&255,e[n++]=o>>24&255,(v=t.option.filename)&&(e.set(v,r),e.set(v,n),r+=p,n+=p),(m=t.option.extraField)&&(e.set(m,r),e.set(m,n),r+=d,n+=d),(y=t.option.comment)&&(e.set(y,n),n+=g),e.set(t.buffer,r),r+=t.buffer.length;return e[i++]=cg.Zip.CentralDirectorySignature[0],e[i++]=cg.Zip.CentralDirectorySignature[1],e[i++]=cg.Zip.CentralDirectorySignature[2],e[i++]=cg.Zip.CentralDirectorySignature[3],e[i++]=0,e[i++]=0,e[i++]=0,e[i++]=0,e[i++]=255&S,e[i++]=S>>8&255,e[i++]=255&S,e[i++]=S>>8&255,e[i++]=255&R,e[i++]=R>>8&255,e[i++]=R>>16&255,e[i++]=R>>24&255,e[i++]=255&E,e[i++]=E>>8&255,e[i++]=E>>16&255,e[i++]=E>>24&255,g=this.comment?this.comment.length:0,e[i++]=255&g,e[i++]=g>>8&255,this.comment&&(e.set(this.comment,i),i+=g),e},cg.Zip.prototype.deflateWithOption=function(t,e){return new cg.RawDeflate(t,e.deflateOption).compress()},cg.Zip.prototype.getByte=function(t){var e=65535&t[2]|2;return e*(1^e)>>8&255},cg.Zip.prototype.encode=function(t,e){var r=this.getByte(t);return this.updateKeys(t,e),r^e},cg.Zip.prototype.updateKeys=function(t,e){t[0]=cg.CRC32.single(t[0],e),t[1]=1+(6681*(20173*(t[1]+(255&t[0]))>>>0)>>>0)>>>0,t[2]=cg.CRC32.single(t[2],t[1]>>>24)},cg.Zip.prototype.createEncryptionKey=function(t){var e,r,n=[305419896,591751049,878082192];for(n=new Uint32Array(n),e=0,r=t.length;e<r;++e)this.updateKeys(n,255&t[e]);return n},cg.Huffman.buildHuffmanTable=function(t){var e,r,n,i,a,o,s,c,h,u,l,f=t.length,p=0,d=Number.POSITIVE_INFINITY;for(c=0,h=f;c<h;++c)t[c]>p&&(p=t[c]),t[c]<d&&(d=t[c]);for(e=1<<p,r=new Uint32Array(e),n=1,i=0,a=2;n<=p;){for(c=0;c<f;++c)if(t[c]===n){for(o=0,s=i,u=0;u<n;++u)o=o<<1|1&s,s>>=1;for(l=n<<16|c,u=o;u<e;u+=a)r[u]=l;++i}++n,i<<=1,a<<=1}return[r,p,d]};var hg=cg.Huffman.buildHuffmanTable;cg.RawInflate=function(t,e){switch(this.buffer,this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(t),this.output,this.op,this.bfinal=!1,this.bufferType=cg.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!e&&(e={})||(e.index&&(this.ip=e.index),e.bufferSize&&(this.bufferSize=e.bufferSize),e.bufferType&&(this.bufferType=e.bufferType),e.resize&&(this.resize=e.resize)),this.bufferType){case cg.RawInflate.BufferType.BLOCK:this.op=cg.RawInflate.MaxBackwardLength,this.output=new Uint8Array(cg.RawInflate.MaxBackwardLength+this.bufferSize+cg.RawInflate.MaxCopyLength);break;case cg.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},cg.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},cg.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case cg.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case cg.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},cg.RawInflate.MaxBackwardLength=32768,cg.RawInflate.MaxCopyLength=258,cg.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cg.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),cg.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),cg.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),cg.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cg.RawInflate.FixedLiteralLengthTable=function(){var t,e,r=new Uint8Array(288);for(t=0,e=r.length;t<e;++t)r[t]=t<=143?8:t<=255?9:t<=279?7:8;return hg(r)}(),cg.RawInflate.FixedDistanceTable=function(){var t,e,r=new Uint8Array(30);for(t=0,e=r.length;t<e;++t)r[t]=5;return hg(r)}(),cg.RawInflate.prototype.parseBlock=function(){var t=this.readBits(3);switch(1&t&&(this.bfinal=!0),t>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+t)}},cg.RawInflate.prototype.readBits=function(t){var e,r=this.bitsbuf,n=this.bitsbuflen,i=this.input,a=this.ip;if(a+(t-n+7>>3)>=i.length)throw new Error("input buffer is broken");for(;n<t;)r|=i[a++]<<n,n+=8;return e=r&(1<<t)-1,r>>>=t,n-=t,this.bitsbuf=r,this.bitsbuflen=n,this.ip=a,e},cg.RawInflate.prototype.readCodeByTable=function(t){for(var e,r,n=this.bitsbuf,i=this.bitsbuflen,a=this.input,o=this.ip,s=a.length,c=t[0],h=t[1];i<h&&!(o>=s);)n|=a[o++]<<i,i+=8;if((r=(e=c[n&(1<<h)-1])>>>16)>i)throw new Error("invalid code length: "+r);return this.bitsbuf=n>>r,this.bitsbuflen=i-r,this.ip=o,65535&e},cg.RawInflate.prototype.parseUncompressedBlock=function(){var t,e,r=this.input,n=this.ip,i=this.output,a=this.op,o=r.length,s=i.length;if(this.bitsbuf=0,this.bitsbuflen=0,n+1>=o)throw new Error("invalid uncompressed block header: LEN");if(t=r[n++]|r[n++]<<8,n+1>=o)throw new Error("invalid uncompressed block header: NLEN");if(t===~(r[n++]|r[n++]<<8))throw new Error("invalid uncompressed block header: length verify");if(n+t>r.length)throw new Error("input buffer is broken");switch(this.bufferType){case cg.RawInflate.BufferType.BLOCK:for(;a+t>i.length;)t-=e=s-a,i.set(r.subarray(n,n+e),a),a+=e,n+=e,this.op=a,i=this.expandBufferBlock(),a=this.op;break;case cg.RawInflate.BufferType.ADAPTIVE:for(;a+t>i.length;)i=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}i.set(r.subarray(n,n+t),a),a+=t,n+=t,this.ip=n,this.op=a,this.output=i},cg.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case cg.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(cg.RawInflate.FixedLiteralLengthTable,cg.RawInflate.FixedDistanceTable);break;case cg.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(cg.RawInflate.FixedLiteralLengthTable,cg.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},cg.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var t,e,r,n,i,a,o,s,c,h=this.readBits(5)+257,u=this.readBits(5)+1,l=this.readBits(4)+4,f=new Uint8Array(cg.RawInflate.Order.length);for(s=0;s<l;++s)f[cg.RawInflate.Order[s]]=this.readBits(3);for(t=hg(f),n=new Uint8Array(h+u),s=0,c=h+u;s<c;)switch(i=this.readCodeByTable(t)){case 16:for(o=3+this.readBits(2);o--;)n[s++]=a;break;case 17:for(o=3+this.readBits(3);o--;)n[s++]=0;a=0;break;case 18:for(o=11+this.readBits(7);o--;)n[s++]=0;a=0;break;default:n[s++]=i,a=i}switch(e=hg(n.subarray(0,h)),r=hg(n.subarray(h)),this.bufferType){case cg.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(e,r);break;case cg.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(e,r);break;default:throw new Error("invalid inflate mode")}},cg.RawInflate.prototype.decodeHuffmanBlock=function(t,e){var r=this.output,n=this.op;this.currentLitlenTable=t;for(var i,a,o,s,c=r.length-cg.RawInflate.MaxCopyLength,h=cg.RawInflate.LengthCodeTable,u=cg.RawInflate.LengthExtraTable,l=cg.RawInflate.DistCodeTable,f=cg.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(t));)if(i<256)n>=c&&(this.op=n,r=this.expandBufferBlock(),n=this.op),r[n++]=i;else for(s=h[a=i-257],u[a]>0&&(s+=this.readBits(u[a])),o=l[i=this.readCodeByTable(e)],f[i]>0&&(o+=this.readBits(f[i])),n>=c&&(this.op=n,r=this.expandBufferBlock(),n=this.op);s--;)r[n]=r[n++-o];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n},cg.RawInflate.prototype.decodeHuffmanAdaptive=function(t,e){var r=this.output,n=this.op;this.currentLitlenTable=t;for(var i,a,o,s,c=r.length,h=cg.RawInflate.LengthCodeTable,u=cg.RawInflate.LengthExtraTable,l=cg.RawInflate.DistCodeTable,f=cg.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(t));)if(i<256)n>=c&&(c=(r=this.expandBufferAdaptive()).length),r[n++]=i;else for(s=h[a=i-257],u[a]>0&&(s+=this.readBits(u[a])),o=l[i=this.readCodeByTable(e)],f[i]>0&&(o+=this.readBits(f[i])),n+s>c&&(c=(r=this.expandBufferAdaptive()).length);s--;)r[n]=r[n++-o];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n},cg.RawInflate.prototype.expandBufferBlock=function(t){var e=new Uint8Array(this.op-cg.RawInflate.MaxBackwardLength),r=this.op-cg.RawInflate.MaxBackwardLength,n=this.output;return e.set(n.subarray(cg.RawInflate.MaxBackwardLength,e.length)),this.blocks.push(e),this.totalpos+=e.length,n.set(n.subarray(r,r+cg.RawInflate.MaxBackwardLength)),this.op=cg.RawInflate.MaxBackwardLength,n},cg.RawInflate.prototype.expandBufferAdaptive=function(t){var e,r,n,i=this.input.length/this.ip+1|0,a=this.input,o=this.output;return t&&("number"==typeof t.fixRatio&&(i=t.fixRatio),"number"==typeof t.addRatio&&(i+=t.addRatio)),r=i<2?(n=(a.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<o.length?o.length+n:o.length<<1:o.length*i,(e=new Uint8Array(r)).set(o),this.output=e,this.output},cg.RawInflate.prototype.concatBufferBlock=function(){var t,e,r,n,i,a=0,o=this.totalpos+(this.op-cg.RawInflate.MaxBackwardLength),s=this.output,c=this.blocks,h=new Uint8Array(o);if(0===c.length)return this.output.subarray(cg.RawInflate.MaxBackwardLength,this.op);for(e=0,r=c.length;e<r;++e)for(n=0,i=(t=c[e]).length;n<i;++n)h[a++]=t[n];for(e=cg.RawInflate.MaxBackwardLength,r=this.op;e<r;++e)h[a++]=s[e];return this.blocks=[],this.buffer=h,this.buffer},cg.RawInflate.prototype.concatBufferDynamic=function(){var t,e=this.op;return this.resize?(t=new Uint8Array(e)).set(this.output.subarray(0,e)):t=this.output.subarray(0,e),this.buffer=t,this.buffer};hg=cg.Huffman.buildHuffmanTable;function ug(t){return"string"==typeof t||t instanceof String}function lg(t){var e=String(t).split(/[.,]/);return e[0].split("").reverse().reduce((function(t,e,r){return r%3==0?t+","+e:t+e})).split("").reverse().join("")+(e[1]?"."+e[1]:"")}cg.RawInflateStream=function(t,e,r){this.blocks=[],this.bufferSize=r||65e3,this.totalpos=0,this.ip=void 0===e?0:e,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(t),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=cg.RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_},cg.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},cg.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},cg.RawInflateStream.prototype.decompress=function(t,e){var r=!1;for(void 0!==t&&(this.input=t),void 0!==e&&(this.ip=e);!r;)switch(this.status){case cg.RawInflateStream.Status.INITIALIZED:case cg.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(r=!0);break;case cg.RawInflateStream.Status.BLOCK_HEADER_END:case cg.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case cg.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(r=!0);break;case cg.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(r=!0);break;case cg.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(r=!0)}break;case cg.RawInflateStream.Status.BLOCK_BODY_END:case cg.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case cg.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(r=!0);break;case cg.RawInflateStream.BlockType.FIXED:case cg.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(r=!0)}break;case cg.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?r=!0:this.status=cg.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},cg.RawInflateStream.MaxBackwardLength=32768,cg.RawInflateStream.MaxCopyLength=258,cg.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cg.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),cg.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),cg.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),cg.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cg.RawInflateStream.FixedLiteralLengthTable=function(){var t,e,r=new Uint8Array(288);for(t=0,e=r.length;t<e;++t)r[t]=t<=143?8:t<=255?9:t<=279?7:8;return hg(r)}(),cg.RawInflateStream.FixedDistanceTable=function(){var t,e,r=new Uint8Array(30);for(t=0,e=r.length;t<e;++t)r[t]=5;return hg(r)}(),cg.RawInflateStream.prototype.readBlockHeader=function(){var t;if(this.status=cg.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(t=this.readBits(3))<0)return this.restore_(),-1;switch(1&t&&(this.bfinal=!0),t>>>=1){case 0:this.currentBlockType=cg.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=cg.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=cg.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+t)}this.status=cg.RawInflateStream.Status.BLOCK_HEADER_END},cg.RawInflateStream.prototype.readBits=function(t){for(var e,r=this.bitsbuf,n=this.bitsbuflen,i=this.input,a=this.ip;n<t;){if(i.length<=a)return-1;r|=(e=i[a++])<<n,n+=8}return e=r&(1<<t)-1,r>>>=t,n-=t,this.bitsbuf=r,this.bitsbuflen=n,this.ip=a,e},cg.RawInflateStream.prototype.readCodeByTable=function(t){for(var e,r,n=this.bitsbuf,i=this.bitsbuflen,a=this.input,o=this.ip,s=t[0],c=t[1];i<c;){if(a.length<=o)return-1;n|=a[o++]<<i,i+=8}if((r=(e=s[n&(1<<c)-1])>>>16)>i)throw new Error("invalid code length: "+r);return this.bitsbuf=n>>r,this.bitsbuflen=i-r,this.ip=o,65535&e},cg.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var t,e=this.input,r=this.ip;if(this.status=cg.RawInflateStream.Status.BLOCK_BODY_START,r+4>=e.length)return-1;if((t=e[r++]|e[r++]<<8)===~(e[r++]|e[r++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=r,this.blockLength=t,this.status=cg.RawInflateStream.Status.BLOCK_BODY_END},cg.RawInflateStream.prototype.parseUncompressedBlock=function(){var t=this.input,e=this.ip,r=this.output,n=this.op,i=this.blockLength;for(this.status=cg.RawInflateStream.Status.DECODE_BLOCK_START;i--;){if(n===r.length&&(r=this.expandBuffer({fixRatio:2})),e>=t.length)return this.ip=e,this.op=n,this.blockLength=i+1,-1;r[n++]=t[e++]}return i<0&&(this.status=cg.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=e,this.op=n,0},cg.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=cg.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=cg.RawInflateStream.FixedLiteralLengthTable,this.distTable=cg.RawInflateStream.FixedDistanceTable,this.status=cg.RawInflateStream.Status.BLOCK_BODY_END,0},cg.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},cg.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},cg.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var t,e,r,n,i=new Uint8Array(cg.RawInflateStream.Order.length);if(this.status=cg.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),t=this.readBits(5)+257,e=this.readBits(5)+1,r=this.readBits(4)+4,t<0||e<0||r<0)return this.restore_(),-1;try{(function(){var a,o,s,c,h,u,l=0;for(h=0;h<r;++h){if((a=this.readBits(3))<0)throw new Error("not enough input");i[cg.RawInflateStream.Order[h]]=a}for(n=hg(i),c=new Uint8Array(t+e),h=0,u=t+e;h<u;){if((o=this.readCodeByTable(n))<0)throw new Error("not enough input");switch(o){case 16:if((a=this.readBits(2))<0)throw new Error("not enough input");for(s=3+a;s--;)c[h++]=l;break;case 17:if((a=this.readBits(3))<0)throw new Error("not enough input");for(s=3+a;s--;)c[h++]=0;l=0;break;case 18:if((a=this.readBits(7))<0)throw new Error("not enough input");for(s=11+a;s--;)c[h++]=0;l=0;break;default:c[h++]=o,l=o}}this.litlenTable=hg(c.subarray(0,t)),this.distTable=hg(c.subarray(t))}).call(this)}catch(t){return this.restore_(),-1}return this.status=cg.RawInflateStream.Status.BLOCK_BODY_END,0},cg.RawInflateStream.prototype.decodeHuffman=function(){var t,e,r,n,i,a=this.output,o=this.op,s=this.litlenTable,c=this.distTable,h=a.length;for(this.status=cg.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(t=this.readCodeByTable(s))<0)return this.op=o,this.restore_(),-1;if(256===t)break;if(t<256)o===h&&(h=(a=this.expandBuffer()).length),a[o++]=t;else{if(e=t-257,n=cg.RawInflateStream.LengthCodeTable[e],cg.RawInflateStream.LengthExtraTable[e]>0){if((i=this.readBits(cg.RawInflateStream.LengthExtraTable[e]))<0)return this.op=o,this.restore_(),-1;n+=i}if((t=this.readCodeByTable(c))<0)return this.op=o,this.restore_(),-1;if(r=cg.RawInflateStream.DistCodeTable[t],cg.RawInflateStream.DistExtraTable[t]>0){if((i=this.readBits(cg.RawInflateStream.DistExtraTable[t]))<0)return this.op=o,this.restore_(),-1;r+=i}for(o+n>=h&&(h=(a=this.expandBuffer()).length);n--;)a[o]=a[o++-r];if(this.ip===this.input.length)return this.op=o,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=o,this.status=cg.RawInflateStream.Status.DECODE_BLOCK_END},cg.RawInflateStream.prototype.expandBuffer=function(t){var e,r,n,i=this.input.length/this.ip+1|0,a=this.input,o=this.output;return t&&("number"==typeof t.fixRatio&&(i=t.fixRatio),"number"==typeof t.addRatio&&(i+=t.addRatio)),r=i<2?(n=(a.length-this.ip)/this.litlenTable[2]/2*258|0)<o.length?o.length+n:o.length<<1:o.length*i,(e=new Uint8Array(r)).set(o),this.output=e,this.output},cg.RawInflateStream.prototype.concatBuffer=function(){var t,e,r=this.op;return t=this.resize?new Uint8Array(this.output.subarray(this.sp,r)):this.output.subarray(this.sp,r),this.sp=r,r>cg.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=cg.RawInflateStream.MaxBackwardLength,e=this.output,this.output=new Uint8Array(this.bufferSize+cg.RawInflateStream.MaxBackwardLength),this.output.set(e.subarray(r-cg.RawInflateStream.MaxBackwardLength,r))),t},cg.Inflate=function(t,e){var r,n;switch(this.input=t,this.ip=0,this.rawinflate,this.verify,!e&&(e={})||(e.index&&(this.ip=e.index),e.verify&&(this.verify=e.verify)),r=t[this.ip++],n=t[this.ip++],15&r){case cg.CompressionMethod.DEFLATE:this.method=cg.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((r<<8)+n)%31!=0)throw new Error("invalid fcheck flag:"+((r<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this.rawinflate=new cg.RawInflate(t,{index:this.ip,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})},cg.Inflate.BufferType=cg.RawInflate.BufferType,cg.Inflate.prototype.decompress=function(){var t,e=this.input;if(t=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(e[this.ip++]<<24|e[this.ip++]<<16|e[this.ip++]<<8|e[this.ip++])>>>0!==cg.Adler32(t))throw new Error("invalid adler-32 checksum");return t},cg.InflateStream=function(t){this.input=void 0===t?new Uint8Array:t,this.ip=0,this.rawinflate=new cg.RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output},cg.InflateStream.prototype.decompress=function(t){var e;if(void 0!==t){var r=new Uint8Array(this.input.length+t.length);r.set(this.input,0),r.set(t,this.input.length),this.input=r}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(e=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),e)},cg.InflateStream.prototype.readHeader=function(){var t=this.ip,e=this.input,r=e[t++],n=e[t++];if(void 0===r||void 0===n)return-1;switch(15&r){case cg.CompressionMethod.DEFLATE:this.method=cg.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((r<<8)+n)%31!=0)throw new Error("invalid fcheck flag:"+((r<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this.ip=t},cg.Gunzip=function(t,e){this.input=t,this.ip=0,this.member=[],this.decompressed=!1},cg.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},cg.Gunzip.prototype.decompress=function(){for(var t=this.input.length;this.ip<t;)this.decodeMember();return this.decompressed=!0,this.concatMember()},cg.Gunzip.prototype.decodeMember=function(){var t,e,r,n,i,a,o,s,c,h=new cg.GunzipMember,u=this.input,l=this.ip;if(h.id1=u[l++],h.id2=u[l++],31!==h.id1||139!==h.id2)throw new Error("invalid file signature:"+h.id1+","+h.id2);switch(h.cm=u[l++],h.cm){case 8:break;default:throw new Error("unknown compression method: "+h.cm)}if(h.flg=u[l++],s=u[l++]|u[l++]<<8|u[l++]<<16|u[l++]<<24,h.mtime=new Date(1e3*s),h.xfl=u[l++],h.os=u[l++],(h.flg&cg.Gzip.FlagsMask.FEXTRA)>0&&(h.xlen=u[l++]|u[l++]<<8,l=this.decodeSubField(l,h.xlen)),(h.flg&cg.Gzip.FlagsMask.FNAME)>0){for(o=[],a=0;(i=u[l++])>0;)o[a++]=String.fromCharCode(i);h.name=o.join("")}if((h.flg&cg.Gzip.FlagsMask.FCOMMENT)>0){for(o=[],a=0;(i=u[l++])>0;)o[a++]=String.fromCharCode(i);h.comment=o.join("")}if((h.flg&cg.Gzip.FlagsMask.FHCRC)>0&&(h.crc16=65535&cg.CRC32.calc(u,0,l),h.crc16!==(u[l++]|u[l++]<<8)))throw new Error("invalid header crc16");if(t=u[u.length-4]|u[u.length-3]<<8|u[u.length-2]<<16|u[u.length-1]<<24,u.length-l-4-4<512*t&&(n=t),e=new cg.RawInflate(u,{index:l,bufferSize:n}),h.data=r=e.decompress(),l=e.ip,h.crc32=c=(u[l++]|u[l++]<<8|u[l++]<<16|u[l++]<<24)>>>0,cg.CRC32.calc(r)!==c)throw new Error("invalid CRC-32 checksum: 0x"+cg.CRC32.calc(r).toString(16)+" / 0x"+c.toString(16));if(h.isize=t=(u[l++]|u[l++]<<8|u[l++]<<16|u[l++]<<24)>>>0,(4294967295&r.length)!==t)throw new Error("invalid input size: "+(4294967295&r.length)+" / "+t);this.member.push(h),this.ip=l},cg.Gunzip.prototype.decodeSubField=function(t,e){return t+e},cg.Gunzip.prototype.concatMember=function(){var t,e,r,n=this.member,i=0,a=0;for(t=0,e=n.length;t<e;++t)a+=n[t].data.length;for(r=new Uint8Array(a),t=0;t<e;++t)r.set(n[t].data,i),i+=n[t].data.length;return r},cg.GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data},cg.GunzipMember.prototype.getName=function(){return this.name},cg.GunzipMember.prototype.getData=function(){return this.data},cg.GunzipMember.prototype.getMtime=function(){return this.mtime},cg.Gzip=function(t,e){this.input=t,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,e&&(e.flags&&(this.flags=e.flags),"string"==typeof e.filename&&(this.filename=e.filename),"string"==typeof e.comment&&(this.comment=e.comment),e.deflateOptions&&(this.deflateOptions=e.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},cg.Gzip.DefaultBufferSize=32768,cg.Gzip.prototype.compress=function(){var t,e,r,n,i,a,o,s,c=new Uint8Array(cg.Gzip.DefaultBufferSize),h=0,u=this.input,l=this.ip,f=this.filename,p=this.comment;if(c[h++]=31,c[h++]=139,c[h++]=8,t=0,this.flags.fname&&(t|=cg.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(t|=cg.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(t|=cg.Gzip.FlagsMask.FHCRC),c[h++]=t,e=(Date.now?Date.now():+new Date)/1e3|0,c[h++]=255&e,c[h++]=e>>>8&255,c[h++]=e>>>16&255,c[h++]=e>>>24&255,c[h++]=0,c[h++]=cg.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(o=0,s=f.length;o<s;++o)(a=f.charCodeAt(o))>255&&(c[h++]=a>>>8&255),c[h++]=255&a;c[h++]=0}if(this.flags.comment){for(o=0,s=p.length;o<s;++o)(a=p.charCodeAt(o))>255&&(c[h++]=a>>>8&255),c[h++]=255&a;c[h++]=0}return this.flags.fhcrc&&(r=65535&cg.CRC32.calc(c,0,h),c[h++]=255&r,c[h++]=r>>>8&255),this.deflateOptions.outputBuffer=c,this.deflateOptions.outputIndex=h,c=(i=new cg.RawDeflate(u,this.deflateOptions)).compress(),(h=i.op)+8>c.buffer.byteLength?(this.output=new Uint8Array(h+8),this.output.set(new Uint8Array(c.buffer)),c=this.output):c=new Uint8Array(c.buffer),n=cg.CRC32.calc(u),c[h++]=255&n,c[h++]=n>>>8&255,c[h++]=n>>>16&255,c[h++]=n>>>24&255,s=u.length,c[h++]=255&s,c[h++]=s>>>8&255,c[h++]=s>>>16&255,c[h++]=s>>>24&255,this.ip=l,h<c.length&&(this.output=c=c.subarray(0,h)),c},cg.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},cg.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},cg.Heap=function(t){this.buffer=new Uint16Array(2*t),this.length=0},cg.Heap.prototype.getParent=function(t){return 2*((t-2)/4|0)},cg.Heap.prototype.getChild=function(t){return 2*t+2},cg.Heap.prototype.push=function(t,e){var r,n,i,a=this.buffer;for(r=this.length,a[this.length++]=e,a[this.length++]=t;r>0&&(n=this.getParent(r),a[r]>a[n]);)i=a[r],a[r]=a[n],a[n]=i,i=a[r+1],a[r+1]=a[n+1],a[n+1]=i,r=n;return this.length},cg.Heap.prototype.pop=function(){var t,e,r,n,i,a=this.buffer;for(e=a[0],t=a[1],this.length-=2,a[0]=a[this.length],a[1]=a[this.length+1],i=0;!((n=this.getChild(i))>=this.length)&&(n+2<this.length&&a[n+2]>a[n]&&(n+=2),a[n]>a[i]);)r=a[i],a[i]=a[n],a[n]=r,r=a[i+1],a[i+1]=a[n+1],a[n+1]=r,i=n;return{index:t,value:e,length:this.length}},cg.RawDeflate=function(t,e){this.compressionType=cg.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=t instanceof Array?new Uint8Array(t):t,this.output,this.op=0,e&&(e.lazy&&(this.lazy=e.lazy),"number"==typeof e.compressionType&&(this.compressionType=e.compressionType),e.outputBuffer&&(this.output=e.outputBuffer instanceof Array?new Uint8Array(e.outputBuffer):e.outputBuffer),"number"==typeof e.outputIndex&&(this.op=e.outputIndex)),this.output||(this.output=new Uint8Array(32768))},cg.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},cg.RawDeflate.Lz77MinLength=3,cg.RawDeflate.Lz77MaxLength=258,cg.RawDeflate.WindowSize=32768,cg.RawDeflate.MaxCodeLength=16,cg.RawDeflate.HUFMAX=286,cg.RawDeflate.FixedHuffmanTable=function(){var t,e=[];for(t=0;t<288;t++)switch(!0){case t<=143:e.push([t+48,8]);break;case t<=255:e.push([t-144+400,9]);break;case t<=279:e.push([t-256+0,7]);break;case t<=287:e.push([t-280+192,8]);break;default:throw"invalid literal: "+t}return e}(),cg.RawDeflate.prototype.compress=function(){var t,e,r,n=this.input;switch(this.compressionType){case cg.RawDeflate.CompressionType.NONE:for(e=0,r=n.length;e<r;)e+=(t=n.subarray(e,e+65535)).length,this.makeNocompressBlock(t,e===r);break;case cg.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(n,!0),this.op=this.output.length;break;case cg.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(n,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},cg.RawDeflate.prototype.makeNocompressBlock=function(t,e){var r,n,i,a,o=this.output,s=this.op;for(o=new Uint8Array(this.output.buffer);o.length<=s+t.length+5;)o=new Uint8Array(o.length<<1);return o.set(this.output),r=e?1:0,n=cg.RawDeflate.CompressionType.NONE,o[s++]=r|n<<1,a=65536+~(i=t.length)&65535,o[s++]=255&i,o[s++]=i>>>8&255,o[s++]=255&a,o[s++]=a>>>8&255,o.set(t,s),s+=t.length,o=o.subarray(0,s),this.op=s,this.output=o,o},cg.RawDeflate.prototype.makeFixedHuffmanBlock=function(t,e){var r,n,i,a=new cg.BitStream(new Uint8Array(this.output.buffer),this.op);return r=e?1:0,n=cg.RawDeflate.CompressionType.FIXED,a.writeBits(r,1,!0),a.writeBits(n,2,!0),i=this.lz77(t),this.fixedHuffman(i,a),a.finish()},cg.RawDeflate.prototype.makeDynamicHuffmanBlock=function(t,e){var r,n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b=new cg.BitStream(new Uint8Array(this.output.buffer),this.op),w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(19);for(r=e?1:0,n=cg.RawDeflate.CompressionType.DYNAMIC,b.writeBits(r,1,!0),b.writeBits(n,2,!0),i=this.lz77(t),c=this.getLengths_(this.freqsLitLen,15),h=this.getCodesFromLengths_(c),u=this.getLengths_(this.freqsDist,7),l=this.getCodesFromLengths_(u),a=286;a>257&&0===c[a-1];a--);for(o=30;o>1&&0===u[o-1];o--);for(f=this.getTreeSymbols_(a,c,o,u),p=this.getLengths_(f.freqs,7),m=0;m<19;m++)x[m]=p[w[m]];for(s=19;s>4&&0===x[s-1];s--);for(d=this.getCodesFromLengths_(p),b.writeBits(a-257,5,!0),b.writeBits(o-1,5,!0),b.writeBits(s-4,4,!0),m=0;m<s;m++)b.writeBits(x[m],3,!0);for(m=0,y=f.codes.length;m<y;m++)if(g=f.codes[m],b.writeBits(d[g],p[g],!0),g>=16){switch(m++,g){case 16:v=2;break;case 17:v=3;break;case 18:v=7;break;default:throw"invalid code: "+g}b.writeBits(f.codes[m],v,!0)}return this.dynamicHuffman(i,[h,c],[l,u],b),b.finish()},cg.RawDeflate.prototype.dynamicHuffman=function(t,e,r,n){var i,a,o,s,c,h,u,l;for(c=e[0],h=e[1],u=r[0],l=r[1],i=0,a=t.length;i<a;++i)if(o=t[i],n.writeBits(c[o],h[o],!0),o>256)n.writeBits(t[++i],t[++i],!0),s=t[++i],n.writeBits(u[s],l[s],!0),n.writeBits(t[++i],t[++i],!0);else if(256===o)break;return n},cg.RawDeflate.prototype.fixedHuffman=function(t,e){var r,n,i;for(r=0,n=t.length;r<n;r++)if(i=t[r],cg.BitStream.prototype.writeBits.apply(e,cg.RawDeflate.FixedHuffmanTable[i]),i>256)e.writeBits(t[++r],t[++r],!0),e.writeBits(t[++r],5),e.writeBits(t[++r],t[++r],!0);else if(256===i)break;return e},cg.RawDeflate.Lz77Match=function(t,e){this.length=t,this.backwardDistance=e},cg.RawDeflate.Lz77Match.LengthCodeTable=function(t){return new Uint32Array(t)}(function(){var t,e,r=[];for(t=3;t<=258;t++)e=n(t),r[t]=e[2]<<24|e[1]<<16|e[0];function n(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case t<=12:return[265,t-11,1];case t<=14:return[266,t-13,1];case t<=16:return[267,t-15,1];case t<=18:return[268,t-17,1];case t<=22:return[269,t-19,2];case t<=26:return[270,t-23,2];case t<=30:return[271,t-27,2];case t<=34:return[272,t-31,2];case t<=42:return[273,t-35,3];case t<=50:return[274,t-43,3];case t<=58:return[275,t-51,3];case t<=66:return[276,t-59,3];case t<=82:return[277,t-67,4];case t<=98:return[278,t-83,4];case t<=114:return[279,t-99,4];case t<=130:return[280,t-115,4];case t<=162:return[281,t-131,5];case t<=194:return[282,t-163,5];case t<=226:return[283,t-195,5];case t<=257:return[284,t-227,5];case 258===t:return[285,t-258,0];default:throw"invalid length: "+t}}return r}()),cg.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(t){var e;switch(!0){case 1===t:e=[0,t-1,0];break;case 2===t:e=[1,t-2,0];break;case 3===t:e=[2,t-3,0];break;case 4===t:e=[3,t-4,0];break;case t<=6:e=[4,t-5,1];break;case t<=8:e=[5,t-7,1];break;case t<=12:e=[6,t-9,2];break;case t<=16:e=[7,t-13,2];break;case t<=24:e=[8,t-17,3];break;case t<=32:e=[9,t-25,3];break;case t<=48:e=[10,t-33,4];break;case t<=64:e=[11,t-49,4];break;case t<=96:e=[12,t-65,5];break;case t<=128:e=[13,t-97,5];break;case t<=192:e=[14,t-129,6];break;case t<=256:e=[15,t-193,6];break;case t<=384:e=[16,t-257,7];break;case t<=512:e=[17,t-385,7];break;case t<=768:e=[18,t-513,8];break;case t<=1024:e=[19,t-769,8];break;case t<=1536:e=[20,t-1025,9];break;case t<=2048:e=[21,t-1537,9];break;case t<=3072:e=[22,t-2049,10];break;case t<=4096:e=[23,t-3073,10];break;case t<=6144:e=[24,t-4097,11];break;case t<=8192:e=[25,t-6145,11];break;case t<=12288:e=[26,t-8193,12];break;case t<=16384:e=[27,t-12289,12];break;case t<=24576:e=[28,t-16385,13];break;case t<=32768:e=[29,t-24577,13];break;default:throw"invalid distance"}return e},cg.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var t,e=this.length,r=this.backwardDistance,n=[],i=0;return t=cg.RawDeflate.Lz77Match.LengthCodeTable[e],n[i++]=65535&t,n[i++]=t>>16&255,n[i++]=t>>24,t=this.getDistanceCode_(r),n[i++]=t[0],n[i++]=t[1],n[i++]=t[2],n},cg.RawDeflate.prototype.lz77=function(t){var e,r,n,i,a,o,s,c,h,u={},l=cg.RawDeflate.WindowSize,f=new Uint16Array(2*t.length),p=0,d=0,g=new Uint32Array(286),v=new Uint32Array(30),m=this.lazy;function y(t,e){var r,n,i=t.toLz77Array();for(r=0,n=i.length;r<n;++r)f[p++]=i[r];g[i[0]]++,v[i[3]]++,d=t.length+e-1,c=null}for(g[256]=1,e=0,r=t.length;e<r;++e){for(a=0,n=0,i=cg.RawDeflate.Lz77MinLength;n<i&&e+n!==r;++n)a=a<<8|t[e+n];if(void 0===u[a]&&(u[a]=[]),o=u[a],d-- >0)o.push(e);else{for(;o.length>0&&e-o[0]>l;)o.shift();if(e+cg.RawDeflate.Lz77MinLength>=r){for(c&&y(c,-1),n=0,i=r-e;n<i;++n)h=t[e+n],f[p++]=h,++g[h];break}o.length>0?(s=this.searchLongestMatch_(t,e,o),c?c.length<s.length?(h=t[e-1],f[p++]=h,++g[h],y(s,0)):y(c,-1):s.length<m?c=s:y(s,0)):c?y(c,-1):(h=t[e],f[p++]=h,++g[h]),o.push(e)}}return f[p++]=256,g[256]++,this.freqsLitLen=g,this.freqsDist=v,f.subarray(0,p)},cg.RawDeflate.prototype.searchLongestMatch_=function(t,e,r){var n,i,a,o,s,c,h=0,u=t.length;t:for(o=0,c=r.length;o<c;o++){if(n=r[c-o-1],a=cg.RawDeflate.Lz77MinLength,h>cg.RawDeflate.Lz77MinLength){for(s=h;s>cg.RawDeflate.Lz77MinLength;s--)if(t[n+s-1]!==t[e+s-1])continue t;a=h}for(;a<cg.RawDeflate.Lz77MaxLength&&e+a<u&&t[n+a]===t[e+a];)++a;if(a>h&&(i=n,h=a),a===cg.RawDeflate.Lz77MaxLength)break}return new cg.RawDeflate.Lz77Match(h,e-i)},cg.RawDeflate.prototype.getTreeSymbols_=function(t,e,r,n){var i,a,o,s,c,h,u=new Uint32Array(t+r),l=new Uint32Array(316),f=new Uint8Array(19);for(a=0,i=0;i<t;i++)u[a++]=e[i];for(i=0;i<r;i++)u[a++]=n[i];for(c=0,i=0,s=u.length;i<s;i+=a){for(a=1;i+a<s&&u[i+a]===u[i];++a);if(o=a,0===u[i])if(o<3)for(;o-- >0;)l[c++]=0,f[0]++;else for(;o>0;)(h=o<138?o:138)>o-3&&h<o&&(h=o-3),h<=10?(l[c++]=17,l[c++]=h-3,f[17]++):(l[c++]=18,l[c++]=h-11,f[18]++),o-=h;else if(l[c++]=u[i],f[u[i]]++,--o<3)for(;o-- >0;)l[c++]=u[i],f[u[i]]++;else for(;o>0;)(h=o<6?o:6)>o-3&&h<o&&(h=o-3),l[c++]=16,l[c++]=h-3,f[16]++,o-=h}return{codes:l.subarray(0,c),freqs:f}},cg.RawDeflate.prototype.getLengths_=function(t,e){var r,n,i,a,o,s=t.length,c=new cg.Heap(2*cg.RawDeflate.HUFMAX),h=new Uint8Array(s);for(a=0;a<s;++a)t[a]>0&&c.push(a,t[a]);if(r=new Array(c.length/2),n=new Uint32Array(c.length/2),1===r.length)return h[c.pop().index]=1,h;for(a=0,o=c.length/2;a<o;++a)r[a]=c.pop(),n[a]=r[a].value;for(i=this.reversePackageMerge_(n,n.length,e),a=0,o=r.length;a<o;++a)h[r[a].index]=i[a];return h},cg.RawDeflate.prototype.reversePackageMerge_=function(t,e,r){var n,i,a,o,s,c=new Uint16Array(r),h=new Uint8Array(r),u=new Uint8Array(e),l=new Array(r),f=new Array(r),p=new Array(r),d=(1<<r)-e,g=1<<r-1;function v(t){var r=f[t][p[t]];r===e?(v(t+1),v(t+1)):--u[r],++p[t]}for(c[r-1]=e,i=0;i<r;++i)d<g?h[i]=0:(h[i]=1,d-=g),d<<=1,c[r-2-i]=(c[r-1-i]/2|0)+e;for(c[0]=h[0],l[0]=new Array(c[0]),f[0]=new Array(c[0]),i=1;i<r;++i)c[i]>2*c[i-1]+h[i]&&(c[i]=2*c[i-1]+h[i]),l[i]=new Array(c[i]),f[i]=new Array(c[i]);for(n=0;n<e;++n)u[n]=r;for(a=0;a<c[r-1];++a)l[r-1][a]=t[a],f[r-1][a]=a;for(n=0;n<r;++n)p[n]=0;for(1===h[r-1]&&(--u[0],++p[r-1]),i=r-2;i>=0;--i){for(n=0,o=0,s=p[i+1],a=0;a<c[i];a++)(o=l[i+1][s]+l[i+1][s+1])>t[n]?(l[i][a]=o,f[i][a]=e,s+=2):(l[i][a]=t[n],f[i][a]=n,++n);p[i]=0,1===h[i]&&v(i)}return u},cg.RawDeflate.prototype.getCodesFromLengths_=function(t){var e,r,n,i,a=new Uint16Array(t.length),o=[],s=[],c=0;for(e=0,r=t.length;e<r;e++)o[t[e]]=1+(0|o[t[e]]);for(e=1,r=cg.RawDeflate.MaxCodeLength;e<=r;e++)s[e]=c,c+=0|o[e],c<<=1;for(e=0,r=t.length;e<r;e++)for(c=s[t[e]],s[t[e]]+=1,a[e]=0,n=0,i=t[e];n<i;n++)a[e]=a[e]<<1|1&c,c>>>=1;return a},cg.Unzip=function(t,e){e=e||{},this.input=t instanceof Array?new Uint8Array(t):t,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=e.verify||!1,this.password=e.password},cg.Unzip.CompressionMethod=cg.Zip.CompressionMethod,cg.Unzip.FileHeaderSignature=cg.Zip.FileHeaderSignature,cg.Unzip.LocalFileHeaderSignature=cg.Zip.LocalFileHeaderSignature,cg.Unzip.CentralDirectorySignature=cg.Zip.CentralDirectorySignature,cg.Unzip.FileHeader=function(t,e){this.input=t,this.offset=e,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},cg.Unzip.FileHeader.prototype.parse=function(){var t=this.input,e=this.offset;if(t[e++]!==cg.Unzip.FileHeaderSignature[0]||t[e++]!==cg.Unzip.FileHeaderSignature[1]||t[e++]!==cg.Unzip.FileHeaderSignature[2]||t[e++]!==cg.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=t[e++],this.os=t[e++],this.needVersion=t[e++]|t[e++]<<8,this.flags=t[e++]|t[e++]<<8,this.compression=t[e++]|t[e++]<<8,this.time=t[e++]|t[e++]<<8,this.date=t[e++]|t[e++]<<8,this.crc32=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.compressedSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.plainSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.fileNameLength=t[e++]|t[e++]<<8,this.extraFieldLength=t[e++]|t[e++]<<8,this.fileCommentLength=t[e++]|t[e++]<<8,this.diskNumberStart=t[e++]|t[e++]<<8,this.internalFileAttributes=t[e++]|t[e++]<<8,this.externalFileAttributes=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,this.relativeOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,t.subarray(e,e+=this.fileNameLength)),this.extraField=t.subarray(e,e+=this.extraFieldLength),this.comment=t.subarray(e,e+this.fileCommentLength),this.length=e-this.offset},cg.Unzip.LocalFileHeader=function(t,e){this.input=t,this.offset=e,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},cg.Unzip.LocalFileHeader.Flags=cg.Zip.Flags,cg.Unzip.LocalFileHeader.prototype.parse=function(){var t=this.input,e=this.offset;if(t[e++]!==cg.Unzip.LocalFileHeaderSignature[0]||t[e++]!==cg.Unzip.LocalFileHeaderSignature[1]||t[e++]!==cg.Unzip.LocalFileHeaderSignature[2]||t[e++]!==cg.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=t[e++]|t[e++]<<8,this.flags=t[e++]|t[e++]<<8,this.compression=t[e++]|t[e++]<<8,this.time=t[e++]|t[e++]<<8,this.date=t[e++]|t[e++]<<8,this.crc32=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.compressedSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.plainSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.fileNameLength=t[e++]|t[e++]<<8,this.extraFieldLength=t[e++]|t[e++]<<8,this.filename=String.fromCharCode.apply(null,t.subarray(e,e+=this.fileNameLength)),this.extraField=t.subarray(e,e+=this.extraFieldLength),this.length=e-this.offset},cg.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var t,e=this.input;for(t=e.length-12;t>0;--t)if(e[t]===cg.Unzip.CentralDirectorySignature[0]&&e[t+1]===cg.Unzip.CentralDirectorySignature[1]&&e[t+2]===cg.Unzip.CentralDirectorySignature[2]&&e[t+3]===cg.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=t);throw new Error("End of Central Directory Record not found")},cg.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var t,e=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),t=this.eocdrOffset,e[t++]!==cg.Unzip.CentralDirectorySignature[0]||e[t++]!==cg.Unzip.CentralDirectorySignature[1]||e[t++]!==cg.Unzip.CentralDirectorySignature[2]||e[t++]!==cg.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=e[t++]|e[t++]<<8,this.startDisk=e[t++]|e[t++]<<8,this.totalEntriesThisDisk=e[t++]|e[t++]<<8,this.totalEntries=e[t++]|e[t++]<<8,this.centralDirectorySize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.centralDirectoryOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.commentLength=e[t++]|e[t++]<<8,this.comment=e.subarray(t,t+this.commentLength)},cg.Unzip.prototype.parseFileHeader=function(){var t,e,r,n,i=[],a={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),t=this.centralDirectoryOffset,r=0,n=this.totalEntries;r<n;++r)(e=new cg.Unzip.FileHeader(this.input,t)).parse(),t+=e.length,i[r]=e,a[e.filename]=r;if(this.centralDirectorySize<t-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=i,this.filenameToIndex=a}},cg.Unzip.prototype.getFileData=function(t,e){e=e||{};var r,n,i,a,o,s,c,h,u=this.input,l=this.fileHeaderList;if(l||this.parseFileHeader(),void 0===l[t])throw new Error("wrong index");if(n=l[t].relativeOffset,(r=new cg.Unzip.LocalFileHeader(this.input,n)).parse(),n+=r.length,i=r.compressedSize,0!=(r.flags&cg.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!e.password&&!this.password)throw new Error("please set password");for(s=this.createDecryptionKey(e.password||this.password),c=n,h=n+12;c<h;++c)this.decode(s,u[c]);for(c=n+=12,h=n+(i-=12);c<h;++c)u[c]=this.decode(s,u[c])}switch(r.compression){case cg.Unzip.CompressionMethod.STORE:a=this.input.subarray(n,n+i);break;case cg.Unzip.CompressionMethod.DEFLATE:a=new cg.RawInflate(this.input,{index:n,bufferSize:r.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(o=cg.CRC32.calc(a),r.crc32!==o))throw new Error("wrong crc: file=0x"+r.crc32.toString(16)+", data=0x"+o.toString(16));return a},cg.Unzip.prototype.getFilenames=function(){var t,e,r,n=[];for(this.fileHeaderList||this.parseFileHeader(),t=0,e=(r=this.fileHeaderList).length;t<e;++t)n[t]=r[t].filename;return n},cg.Unzip.prototype.decompress=function(t,e){var r;if(this.filenameToIndex||this.parseFileHeader(),void 0===(r=this.filenameToIndex[t]))throw new Error(t+" not found");return this.getFileData(r,e)},cg.Unzip.prototype.setPassword=function(t){this.password=t},cg.Unzip.prototype.decode=function(t,e){return e^=this.getByte(t),this.updateKeys(t,e),e},cg.Unzip.prototype.updateKeys=cg.Zip.prototype.updateKeys,cg.Unzip.prototype.createDecryptionKey=cg.Zip.prototype.createEncryptionKey,cg.Unzip.prototype.getByte=cg.Zip.prototype.getByte,cg.Util.stringToByteArray=function(t){var e,r,n=t.split("");for(e=0,r=n.length;e<r;e++)n[e]=(255&n[e].charCodeAt(0))>>>0;return n},cg.Adler32=function(t){return"string"==typeof t&&(t=cg.Util.stringToByteArray(t)),cg.Adler32.update(1,t)},cg.Adler32.update=function(t,e){for(var r,n=65535&t,i=t>>>16&65535,a=e.length,o=0;a>0;){a-=r=a>cg.Adler32.OptimizationParameter?cg.Adler32.OptimizationParameter:a;do{i+=n+=e[o++]}while(--r);n%=65521,i%=65521}return(i<<16|n)>>>0},cg.Adler32.OptimizationParameter=1024,cg.BitStream=function(t,e){if(this.index="number"==typeof e?e:0,this.bitindex=0,this.buffer=t instanceof Uint8Array?t:new Uint8Array(cg.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},cg.BitStream.DefaultBlockSize=32768,cg.BitStream.prototype.expandBuffer=function(){var t=this.buffer,e=t.length,r=new Uint8Array(e<<1);return r.set(t),this.buffer=r},cg.BitStream.prototype.writeBits=function(t,e,r){var n,i=this.buffer,a=this.index,o=this.bitindex,s=i[a];if(r&&e>1&&(t=e>8?function(t){return cg.BitStream.ReverseTable[255&t]<<24|cg.BitStream.ReverseTable[t>>>8&255]<<16|cg.BitStream.ReverseTable[t>>>16&255]<<8|cg.BitStream.ReverseTable[t>>>24&255]}(t)>>32-e:cg.BitStream.ReverseTable[t]>>8-e),e+o<8)s=s<<e|t,o+=e;else for(n=0;n<e;++n)s=s<<1|t>>e-n-1&1,8==++o&&(o=0,i[a++]=cg.BitStream.ReverseTable[s],s=0,a===i.length&&(i=this.expandBuffer()));i[a]=s,this.buffer=i,this.bitindex=o,this.index=a},cg.BitStream.prototype.finish=function(){var t=this.buffer,e=this.index;return this.bitindex>0&&(t[e]<<=8-this.bitindex,t[e]=cg.BitStream.ReverseTable[t[e]],e++),t.subarray(0,e)},cg.BitStream.ReverseTable=function(){var t,e=new Uint8Array(256);for(t=0;t<256;++t)e[t]=function(t){var e=t,r=7;for(t>>>=1;t;t>>>=1)e<<=1,e|=1&t,--r;return(e<<r&255)>>>0}(t);return e}(),cg.CRC32.calc=function(t,e,r){return cg.CRC32.update(t,0,e,r)},cg.CRC32.update=function(t,e,r,n){var i=cg.CRC32.Table,a="number"==typeof r?r:r=0,o="number"==typeof n?n:t.length;for(e^=4294967295,a=7&o;a--;++r)e=e>>>8^i[255&(e^t[r])];for(a=o>>3;a--;r+=8)e=(e=(e=(e=(e=(e=(e=(e=e>>>8^i[255&(e^t[r])])>>>8^i[255&(e^t[r+1])])>>>8^i[255&(e^t[r+2])])>>>8^i[255&(e^t[r+3])])>>>8^i[255&(e^t[r+4])])>>>8^i[255&(e^t[r+5])])>>>8^i[255&(e^t[r+6])])>>>8^i[255&(e^t[r+7])];return(4294967295^e)>>>0},cg.CRC32.single=function(t,e){return(cg.CRC32.Table[255&(t^e)]^t>>>8)>>>0},cg.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],cg.CRC32.Table=new Uint32Array(cg.CRC32.Table_),cg.Deflate=function(t,e){this.input=t,this.output=new Uint8Array(cg.Deflate.DefaultBufferSize),this.compressionType=cg.Deflate.CompressionType.DYNAMIC,this.rawDeflate;var r,n={};for(r in!e&&(e={})||"number"==typeof e.compressionType&&(this.compressionType=e.compressionType),e)n[r]=e[r];n.outputBuffer=this.output,this.rawDeflate=new cg.RawDeflate(this.input,n)},cg.Deflate.DefaultBufferSize=32768,cg.Deflate.CompressionType=cg.RawDeflate.CompressionType,cg.Deflate.compress=function(t,e){return new cg.Deflate(t,e).compress()},cg.Deflate.prototype.compress=function(){var t,e,r,n,i,a,o,s=0;switch(o=this.output,t=cg.CompressionMethod.DEFLATE){case cg.CompressionMethod.DEFLATE:e=Math.LOG2E*Math.log(cg.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(r=e<<4|t,o[s++]=r,0,t){case cg.CompressionMethod.DEFLATE:switch(this.compressionType){case cg.Deflate.CompressionType.NONE:i=0;break;case cg.Deflate.CompressionType.FIXED:i=1;break;case cg.Deflate.CompressionType.DYNAMIC:i=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return n=i<<6|0,n|=31-(256*r+n)%31,o[s++]=n,a=cg.Adler32(this.input),this.rawDeflate.op=s,s=(o=this.rawDeflate.compress()).length,(o=new Uint8Array(o.buffer)).length<=s+4&&(this.output=new Uint8Array(o.length+4),this.output.set(o),o=this.output),(o=o.subarray(0,s+4))[s++]=a>>24&255,o[s++]=a>>16&255,o[s++]=a>>8&255,o[s++]=255&a,o};var fg=function(t){return t.split(/\n|\r\n|\r/g)};function pg(t,e){var r,n,i=[],a=t.length,o=0,s=!1;if(a>0)for(i[o]=t.charAt(0),r=1;r<a;r++)'"'===(n=t.charAt(r))?s=!s:s||n!==e?i[o]+=n:i[++o]="";return i}function dg(t){return t.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0)}var gg={rgbListFromHSV:function(){for(var t=[],e=1;e>=.5;e-=.1)for(var r=0;r<1;r+=1/28){var n="rgb("+gg.hsvToRgb(r,1,e).join(",")+")";t.push(n)}return t.pop(),t.push(gg.rgbColor(16,16,16)),t},rgbToHex:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},hexToRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(null!==e)return"rgb("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+")"},hsvToRgb:function(t,e,r){var n,i,a,o=Math.floor(6*t),s=6*t-o,c=r*(1-e),h=r*(1-s*e),u=r*(1-(1-s)*e);switch(o%6){case 0:n=r,i=u,a=c;break;case 1:n=h,i=r,a=c;break;case 2:n=c,i=r,a=u;break;case 3:n=c,i=h,a=r;break;case 4:n=u,i=c,a=r;break;case 5:n=r,i=c,a=h}return[Math.floor(255*n),Math.floor(255*i),Math.floor(255*a)]},hslToRgb:function(t,e,r){var n,i,a;if(0===e)n=i=a=r;else{var o=r<.5?r*(1+e):r+e-r*e,s=2*r-o;n=gg.hue2rgb(s,o,t+1/3),i=gg.hue2rgb(s,o,t),a=gg.hue2rgb(s,o,t-1/3)}return[255*n,255*i,255*a]},hue2rgb:function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},rgbaColor:function(t,e,r,n){return"rgba("+(t=$f(t,0,255))+","+(e=$f(e,0,255))+","+(r=$f(r,0,255))+","+(n=$f(n,0,1))+")"},rgbColor:function(t,e,r){return"rgb("+(t=$f(t,0,255))+","+(e=$f(e,0,255))+","+(r=$f(r,0,255))+")"},greyScale:function(t){var e=$f(t,0,255);return"rgb("+e+","+e+","+e+")"},randomGrey:function(t,e){t=$f(t,0,255),e=$f(e,0,255);var r=Math.round(Math.random(t,e)).toString(10);return"rgb("+r+","+r+","+r+")"},randomRGB:function(t,e){return t=$f(t,0,255),e=$f(e,0,255),"rgb("+Math.round(Math.random(t,e)).toString(10)+","+Math.round(Math.random(t,e)).toString(10)+","+Math.round(Math.random(t,e)).toString(10)+")"},randomRGBConstantAlpha:function(t,e,r){return t=$f(t,0,255),e=$f(e,0,255),"rgba("+Math.round(Math.random(t,e)).toString(10)+","+Math.round(Math.random(t,e)).toString(10)+","+Math.round(Math.random(t,e)).toString(10)+","+r+")"},addAlpha:function(t,e){var r=this.colorNameToHex(t);r&&(t=r);var n=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return t.startsWith("rgba")?t:(n&&(t=gg.hexToRgb(t)),t.startsWith("rgb")?t.replace("rgb","rgba").replace(")",", "+e+")"):t)},getCompositeColor:function(t,e,r){return"rgb("+Math.floor(r*e[0]+(1-r)*t[0])+","+Math.floor(r*e[1]+(1-r)*t[1])+","+Math.floor(r*e[2]+(1-r)*t[2])+")"},createColorString:function(t){return(t=function(t){return(t.startsWith("'")||t.startsWith('"'))&&(t=t.substring(1)),(t.endsWith("'")||t.endsWith('"'))&&(t=t.substring(0,t.length-1)),t}(t)).includes(",")?t.startsWith("rgb")?t:"rgb("+t+")":t},darkenLighten:function(t,e){var r=this.colorNameToHex(t),n=(r?gg.hexToRgb(r):t.startsWith("rgb(")?t:gg.hexToRgb(t)).replace(")","").substring(4).split(","),i=Math.max(0,Math.min(255,Number.parseInt(n[0].trim())+e)),a=Math.max(0,Math.min(255,Number.parseInt(n[1].trim())+e)),o=Math.max(0,Math.min(255,Number.parseInt(n[2].trim())+e));return"rgb("+i.toString()+","+a.toString()+","+o.toString()+")"},colorNameToHex:function(t){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[t]}};function vg(t,e){var r=Js("<div>");t.append(r),r.append(Lf("times")),r.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e()}))}function mg(t,e,r){var n=Object.values(Pf);r&&"function"!=typeof r&&(n.splice(11,1),n.unshift(gg.rgbToHex(r)));for(var i=function(){var r=o[a],n=Js("<div>",{class:"igv-color-swatch"});t.append(n),n.css("background-color",r),"white"===r||(n.hover((function(){n.get(0).style.borderColor=r}),(function(){n.get(0).style.borderColor="white"})),n.on("click.trackview",(function(t){t.stopPropagation(),e(r)})),n.on("touchend.trackview",(function(t){t.stopPropagation(),e(r)})))},a=0,o=n;a<o.length;a++)i()}function yg(t){if(t.type.startsWith("touch")){var e=t.touches[0];return{x:e.pageX,y:e.pageY}}return{x:t.pageX,y:t.pageY}}function bg(t,e){var r=Js(e);r.offset();var n=yg(t);return{x:n.x-r.offset().left,y:n.y-r.offset().top}}function wg(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}var xg=Sf.trackMenuItemListHelper,kg=function(t,e){this.browser=e,this.$parent=Sg.call(this,t)};function Sg(t){var e,r=this;return this.$popover=Js('<div class="igv-popover">'),t.append(this.$popover),e=Js('<div class="igv-popover-header">'),this.$popover.append(e),vg(e,(function(){r.hide()})),this.$popoverContent=Js("<div>"),this.$popover.append(this.$popoverContent),sf(this.$popover.get(0),e.get(0)),t}function _g(t,e,r){var n,i,a=t,o=Js(window).width(),s=(Js(window).height(),t),c=e;return n=s-=r.$parent.offset().left,a+(i={x:s,y:c-=r.$parent.offset().top,width:r.$popover.outerWidth(),height:r.$popover.outerHeight()}).width>o&&(n=s-i.width),{left:n+"px",top:c+"px"}}kg.prototype.hide=function(){this.$popover.hide()},kg.prototype.presentTrackContextMenu=function(t,e){var r=this.$popover;if(Js(".igv-popover").hide(),e.length>0){e=xg(e,r),this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content");var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;this.$popoverContent.append(c.object)}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var h=yg(t);r.css(_g(h.x,h.y,this)),r.show()}},kg.prototype.presentTrackContent=function(t,e,r){Js(".igv-popover").hide(),void 0!==r&&(this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content"),this.$popoverContent.html(r),this.$popover.css(_g(t,e,this)),this.$popover.show())},kg.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach((function(t){this[t]=void 0}))},It({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Cg="".repeat||function(t){var e=String(d(this)),r="",n=st(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r},Ag=1..toFixed,Eg=Math.floor,Rg=function(t,e,r){return 0===e?r:e%2==1?Rg(t,e-1,r*t):Rg(t*t,e/2,r)},Tg=Ag&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){Ag.call({})}));It({target:"Number",proto:!0,forced:Tg},{toFixed:function(t){var e,r,n,i,a=function(t){if("number"!=typeof t&&"Number"!=l(t))throw TypeError("Incorrect invocation");return+t}(this),o=st(t),s=[0,0,0,0,0,0],c="",h="0",u=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*s[r],s[r]=n%1e7,n=Eg(n/1e7)},f=function(t){for(var e=6,r=0;--e>=0;)r+=s[e],s[e]=Eg(r/t),r=r%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==s[t]){var r=String(s[t]);e=""===e?r:e+Cg.call("0",7-r.length)+r}return e};if(o<0||o>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(c="-",a=-a),a>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(a*Rg(2,69,1))-69)<0?a*Rg(2,-e,1):a/Rg(2,e,1),r*=4503599627370496,(e=52-e)>0){for(u(0,r),n=o;n>=7;)u(1e7,0),n-=7;for(u(Rg(10,n,1),0),n=e-1;n>=23;)f(1<<23),n-=23;f(1<<n),u(1,1),f(2),h=p()}else u(0,r),u(1<<-e,0),h=p()+Cg.call("0",o);return h=o>0?c+((i=h.length)<=o?"0."+Cg.call("0",o-i)+h:h.slice(0,i-o)+"."+h.slice(i-o)):c+h}});var Lg=function(t,e){return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype._super=Object.getPrototypeOf(e.prototype),e};function Ig(t){var e=new Set(["boolean","number","string","symbol"]),r=Hr(t);return void 0!==t&&(e.has(r)||t.substring||t.toFixed)}function Mg(t,e){var r={oauthToken:t.oauthToken,headers:t.headers,withCredentials:t.withCredentials,filename:t.filename};return Object.assign(r,e)}function Pg(t,e){var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}var Og=function(t){var e,r;return t.length>0?(e=Number.MAX_VALUE,r=-Number.MAX_VALUE,t.forEach((function(t){Number.isNaN(t.value)||(e=Math.min(e,t.value),r=Math.max(r,t.value))})),r>0&&(e=Math.min(0,e)),r<0&&(r=0)):(e=0,r=100),{min:e,max:r}},Ng=function(t,e,r){var n=e.start,i=e.end;if(void 0===i)(i=(n-=r/2)+r)>t?n=(i=t)-r:n<0&&(n=0,i=r);else if(i-n<r){var a=(i+n)/2;a-r/2<0?i=(n=0)+r:a+r/2>t?n=(i=t)-r:i=(n=a-r/2)+r}e.start=Math.ceil(n),e.end=Math.floor(i)},Fg=function(t){this.viewport=t,this.browser=t.browser,this.$rulerSweeper=Js('<div class="igv-ruler-sweeper-div">'),Js(t.contentDiv).append(this.$rulerSweeper),this.namespace=".sweeper_"+wg(),this.addMouseHandlers()};function Dg(t){return this.viewport.genomicState.referenceFrame.start+t*this.viewport.genomicState.referenceFrame.bpPerPixel}Fg.prototype.disableMouseHandlers=function(){Js(document).off(this.namespace),this.viewport.$viewport.off(this.namespace)},Fg.prototype.addMouseHandlers=function(){var t,e,r,n,i,a,o=this.browser,s=this;this.disableMouseHandlers(),t=e=r=void 0,Js(this.browser.$root).on("mousedown"+this.namespace,(function(a){e=!0,r=bg(a,s.viewport.$viewport).x,!0===t&&(s.$rulerSweeper.show(),i=1,n=r,s.$rulerSweeper.css({left:n+"px"}),s.$rulerSweeper.width(i))})),Js(this.browser.$root).on("mousemove"+this.namespace,(function(o){var c;t&&e&&(c=bg(o,s.viewport.$viewport).x,c=Math.min(c,s.viewport.$viewport.width()),c=Math.max(c,0),a=c-r,i=Math.abs(a),s.$rulerSweeper.width(i),a<0&&(n=r+a,s.$rulerSweeper.css({left:n+"px"})))})),Js(this.browser.$root).on("mouseup"+this.namespace,(function(r){var a;!0===t&&!0===e&&(t=e=void 0,s.$rulerSweeper.hide(),(a={}).start=Dg.call(s,n),a.end=Dg.call(s,n+i),i>1&&(Ng(o.genome.getChromosome(s.viewport.genomicState.referenceFrame.chrName).bpLength,a,o.minimumBases()),s.viewport.genomicState.referenceFrame.bpPerPixel=(Math.round(a.end)-Math.round(a.start))/s.viewport.$viewport.width(),s.viewport.genomicState.referenceFrame.start=Math.round(a.start),o.updateViews(s.viewport.genomicState)))})),this.viewport.$viewport.on("mousedown"+this.namespace,(function(e){t=!0}))},Fg.prototype.dispose=function(){this.disableMouseHandlers()};var Bg=function(t,e,r,n){this.start=t,this.end=e,this.name=r,this.stain=0,"acen"===n?this.type="c":(this.type=n.charAt(1),"p"===this.type&&(this.stain=parseInt(n.substring(4))))},zg=function(t,e,r,n){this.chr=t,this.start=e,this.end=r,this.features=n};zg.prototype.contains=function(t,e,r){return this.chr===t&&this.start<=e&&this.end>=r},zg.prototype.containsRange=function(t){return this.chr===t.chr&&this.start<=t.start&&this.end>=t.end};var Ug=function(t,e,r,n,i){this.name=t,this.order=e,this.bpStart=r,this.bpLength=n,this.rangeLocus=i},Hg=String.fromCharCode,$g=String.fromCodePoint,jg=!!$g&&1!=$g.length;It({target:"String",stat:!0,forced:jg},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,i=0;n>i;){if(e=+arguments[i++],ft(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?Hg(e):Hg(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}});var qg={fileInfoCache:{},isGoogleURL:function(t){return t.includes("googleapis")&&!t.includes("urlshortener")||this.isGoogleCloudURL(t)||this.isGoogleStorageURL(t)||this.isGoogleDrive(t)},isGoogleStorageURL:function(t){return t.startsWith("https://www.googleapis.com/storage")||t.startsWith("https://storage.cloud.google.com")||t.startsWith("https://storage.googleapis.com")},isGoogleCloudURL:function(t){return t.startsWith("gs://")},isGoogleDrive:function(t){return t.indexOf("drive.google.com")>=0||t.indexOf("www.googleapis.com/drive")>0},setApiKey:function(t){this.apiKey=t},translateGoogleCloudURL:function(t){var e,r,n,i,a,o;return e=t.indexOf("/",5),i=t.indexOf("?"),e<0?t:(r=t.substring(5,e),a=i<0?t.substring(e+1):t.substring(e+1,i),n=encodeURIComponent(a),i>0&&(o=t.substring(i)),"https://www.googleapis.com/storage/v1/b/"+r+"/o/"+n+(o?o+"&alt=media":"?alt=media"))},addApiKey:function(t){var e=this.apiKey;if(void 0!==e&&!t.includes("key=")){var r=t.includes("?")?"&":"?";t=t+r+"key="+e}return t},driveDownloadURL:function(t){var e=Vg(t);return e?"https://www.googleapis.com/drive/v3/files/"+e+"?alt=media&supportsTeamDrives=true":t},getDriveFileInfo:function(t){var e="https://www.googleapis.com/drive/v3/files/"+Vg(t)+"?supportsTeamDrives=true";return lv.loadJson(e,Mg({}))},loadGoogleProperties:function(t){var e=this;return lv.loadArrayBuffer(t).then((function(t){var r,n;r=new cg.Gunzip(new Uint8Array(t)).decompress(),n=String.fromCharCode.apply(null,r);var i=JSON.parse(n);return e.setApiKey(i.api_key),e.properties=i,i}))}};function Vg(t){var e,r;if(t.includes("/open?id=")){if(e=t.indexOf("/open?id=")+9,r=t.indexOf("&"),e>0&&r>e)return t.substring(e,r);if(e>0)return t.substring(e)}else if(t.includes("/file/d/"))return e=t.indexOf("/file/d/")+8,r=t.lastIndexOf("/"),t.substring(e,r)}var Gg={oauthTokens:{},setToken:function(t,e){e?this.oauthTokens[e]=t:this.google.access_token=t},getToken:function(t){var e;if(t)for(var r in this.oauthTokens){if(new RegExp("^"+r.split(/\*+/).map(Wg).join(".*")+"$").test(t)){e=this.oauthTokens[r];break}}else e=this.google.access_token;return e},removeToken:function(t){t?delete this.oauthTokens[t]:delete Gg.google.access_token},google:{setToken:function(t){this.access_token=t}}};function Wg(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function Zg(t,e){var r=[],n=0,i=0;for(e=e||t.byteLength-18;n<e;)try{var a=new Uint8Array(t,n,18),o=a[11]<<8|a[10],s=(a[12],a[13],a[15],a[14],1+(a[17]<<8|a[16])),c=12+o+n,h=t.byteLength-c,u=s-o-19;if(h<u)break;var l=new Uint8Array(t,c,u),f=new cg.RawInflate(l),p=f.decompress();n+=f.ip+26,i+=p.byteLength,r.push(p)}catch(t){console.error(t);break}if(1===r.length)return r[0];for(var d=new Uint8Array(i),g=0,v=0;v<r.length;++v){var m=new Uint8Array(r[v]);Kg(m,0,d,g,m.length),g+=m.length}return d}function Xg(t){var e=new Uint8Array(t);return e[17]<<8|e[16]+1}var Yg="function"==typeof new Uint8Array(1).subarray;function Kg(t,e,r,n,i){if(0!==i){if(!t)throw"Undef src";if(!r)throw"Undef dest";0===e&&i===t.length?Qg(t,r,n):Yg?Qg(t.subarray(e,e+i),r,n):1===t.BYTES_PER_ELEMENT&&i>100?Qg(new Uint8Array(t.buffer,t.byteOffset+e,i),r,n):function(t,e,r,n,i){for(var a=0;a<i;++a)r[n+a]=t[e+a]}(t,e,r,n,i)}}function Qg(t,e,r){e.set(t,r)}function Jg(t){var e,r;return t instanceof File?t.name:((e=(r=(e=t.lastIndexOf("/"))<0?t:t.substr(e+1)).indexOf("?"))>0&&(r=r.substr(0,e)),r)}function tv(t){return t instanceof File}function ev(t){var e=t.split(","),r=e[0].split(":")[1],n=e[1];n=r.indexOf("base64")>=0?atob(n):decodeURI(n);for(var i,a=new Uint8Array(n.length),o=0;o<n.length;o++)a[o]=n.charCodeAt(o);r.indexOf("gzip")>0?i=new cg.Gunzip(a).decompress():i=a;return i}function rv(t){for(var e=iv,r=e.parser.loose.exec(t),n={},i=14;i--;)n[e.key[i]]=r[i]||"";return n[e.q.name]={},n[e.key[12]].replace(e.q.parser,(function(t,r,i){r&&(n[e.q.name][r]=i)})),n}"object"===("undefined"==typeof process?"undefined":Hr(process))&&"undefined"==typeof window&&(global.atob=function(t){return Buffer.from(t,"base64").toString("binary")});var nv,iv={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},av={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},ov=function(t){var e=this;this.$container=Js("<div>",{class:"igv-alert-dialog-container"}),t.append(this.$container);var r=Js("<div>");this.$container.append(r);var n=Js("<div>",{id:"igv-alert-dialog-body"});this.$container.append(n),this.$body=Js("<div>",{id:"igv-alert-dialog-body-copy"}),n.append(this.$body);var i=Js("<div>");this.$container.append(i),this.$ok=Js("<div>"),i.append(this.$ok),this.$ok.text("OK"),this.$ok.on("click",(function(){e.$body.html(""),e.$container.hide()})),this.$container.hide()};ov.prototype.configure=function(t){this.$body.html(t.label)},ov.prototype.present=function(t,e){var r=this,n=t.message||t;av.hasOwnProperty(n)&&(n=av[n]),this.$body.html(n),this.$ok.on("click",(function(){"function"==typeof e&&e("OK"),r.$body.html(""),r.$container.hide()})),this.$container.show()};var sv,cv,hv={init:function(t){nv||(nv=new ov(t))},presentAlert:function(t,e){nv.present(t,e)}},uv=new(function(){function t(e){qr(this,t),this.wait=void 0===e?100:e,this.isCalled=!1,this.calls=[]}return Gr(t,[{key:"limiter",value:function(t){var e=this,r=function t(){e.calls.length&&!e.isCalled&&(e.isCalled=!0,e.calls.shift().call(),setTimeout((function(){e.isCalled=!1,t()}),e.wait))};return function(){e.calls.push(t.bind.apply(t,[this].concat(Array.prototype.slice.call(arguments)))),r()}}}]),t}())(100),lv={load:(sv=jr(regeneratorRuntime.mark((function t(e,r){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=function(){return(i=jr(regeneratorRuntime.mark((function t(e,r){var n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=function(){return(s=jr(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){qg.isGoogleURL(e)&&(e.startsWith("gs://")?e=qg.translateGoogleCloudURL(e):qg.isGoogleStorageURL(e)&&(e.includes("altMedia=")||(e+=e.includes("?")?"&altMedia=true":"?altMedia=true")),e=qg.addApiKey(e));var i=r.headers||{};r.token&&gv(i,r.token);var a=r.range,o=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),a&&o&&!pv(e)&&(e+=e.includes("?")?"&":"?",e+="someRandomSeed="+Math.random().toString(36));var s=new XMLHttpRequest,c=r.sendData||r.body,h=r.method||(c?"POST":"GET"),u=r.responseType,l=r.contentType,f=r.mimeType;if(s.open(h,e),a){var p=a.size?a.start+a.size-1:"";s.setRequestHeader("Range","bytes="+a.start+"-"+p)}if(l&&s.setRequestHeader("Content-Type",l),f&&s.overrideMimeType(f),u&&(s.responseType=u),i)for(var d=0,g=Object.keys(i);d<g.length;d++){var v=g[d],m=i[v];s.setRequestHeader(v,m)}!0===r.withCredentials&&(s.withCredentials=!0),s.onload=function(){var n=jr(regeneratorRuntime.mark((function n(i){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(0===s.status||s.status>=200&&s.status<=300)){n.next=4;break}a&&206!==s.status&&0!==a.start?(s.response.length>1e5&&hv.presentAlert("Warning: Range header ignored for URL: ".concat(e,".  This can have performance impacts.")),t(s.response.slice(a.start,a.start+a.size))):t(s.response),n.next=20;break;case 4:if("undefined"==typeof gapi||404!==s.status&&401!==s.status||!qg.isGoogleURL(e)||r.retries){n.next=19;break}return n.prev=5,r.retries=1,n.next=9,bv();case 9:return o=n.sent,r.oauthToken=o,n.abrupt("return",lv.load(e,r));case 14:n.prev=14,n.t0=n.catch(5),y(n.t0);case 17:n.next=20;break;case 19:403===s.status?y("Access forbidden: "+e):416===s.status?y("Unsatisfiable range"):y(s.status);case 20:case"end":return n.stop()}}),n,null,[[5,14]])})));return function(t){return n.apply(this,arguments)}}(),s.onerror=function(t){y("Error accessing resource: "+e+" Status: "+s.status)},s.ontimeout=function(t){y("Timed out")},s.onabort=function(t){n(t)};try{s.send(c)}catch(t){n(t)}function y(t){if(!n)throw new Error(t);n(new Error(t))}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)},o=function(t,e){return s.apply(this,arguments)},a=function(t){return t&&(r.token=t),o(e,r)},e=vv(e),(n=(r=r||{}).oauthToken)||(n=dv(e)),!n){t.next=16;break}if(!(i="function"==typeof n?n():n).then||"function"!=typeof i.then){t.next=13;break}return t.abrupt("return",i.then(a));case 13:return t.abrupt("return",a(i));case 14:t.next=17;break;case 16:return t.abrupt("return",o(e,r));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)},n=function(t,e){return i.apply(this,arguments)},r=r||{},!(e instanceof File)){t.next=7;break}return t.abrupt("return",fv(e,r));case 7:if(!e.startsWith("data:")){t.next=11;break}return t.abrupt("return",ev(e));case 11:if(!yv(e)){t.next=15;break}return t.abrupt("return",new Promise((function(t,i){uv.limiter(function(){var e=jr(regeneratorRuntime.mark((function e(r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o=n(r,a),t(o)}catch(t){i(t)}case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())(e,r)})));case 15:return t.abrupt("return",n(e,r));case 16:case"end":return t.stop()}}),t)}))),function(t,e){return sv.apply(this,arguments)}),loadArrayBuffer:function(t,e){return(e=e||{}).responseType="arraybuffer",t instanceof File?fv(t,e):lv.load(t,e)},loadJson:function(t,e){return"POST"===((e=e||{}).method||(e.sendData?"POST":"GET"))&&(e.contentType="application/json"),lv.load(t,e).then((function(t){return t?JSON.parse(t):t}))},loadString:function(t,e){return e=e||{},t instanceof File?function(t,e){var r=(e=e||{}).range?t.slice(e.range.start,e.range.start+e.range.size):t;return new Promise((function(n,i){var a=new FileReader,o=0;e.bgz||t.name.endsWith(".bgz")?o=2:t.name.endsWith(".gz")&&(o=1),a.onload=function(t){return n(0===o?a.result:mv(a.result,o))},a.onerror=function(e){var r=a.error;i(r+" "+t.name,a)},0===o?a.readAsText(r):a.readAsArrayBuffer(r)}))}(t,e):function(t,e){var r=(e=e||{}).filename||Jg(t),n=3;e.bgz?n=2:r.endsWith(".gz")&&(n=1);return e.responseType="arraybuffer",lv.load(t,e).then((function(t){return mv(t,n)}))}(t,e)},startup:function(){var t=window.document.location.href;rv(t).host;if(0===xv&&!t.includes("localhost")&&!t.includes("127.0.0.1")){xv++;lv.load("https://data.broadinstitute.org/igv/projects/current/counter_igvjs.php?version=0").then((function(t){})).catch((function(t){}))}}};function fv(t,e){return new Promise((function(r,n){var i=new FileReader;if(i.onload=function(t){r(i.result)},i.onerror=function(t){n(null,i)},e.range){var a=t.slice(e.range.start,e.range.start+e.range.size);"arraybuffer"===e.responseType?i.readAsArrayBuffer(a):i.readAsBinaryString(a)}else"arraybuffer"===e.responseType?i.readAsArrayBuffer(t):i.readAsBinaryString(t)}))}function pv(t){return t.indexOf("X-Amz-Signature")>-1}function dv(t){var e=rv(t).host,r=Gg.getToken(e);return!r&&qg.isGoogleURL(t)&&(r=Gg.google.access_token),r}function gv(t,e){return e&&(t["Cache-Control"]="no-cache",t.Authorization="Bearer "+e),t}function vv(t){return t.includes("//www.dropbox.com")?t.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):t.includes("//drive.google.com")?qg.driveDownloadURL(t):t.includes("//www.broadinstitute.org/igvdata")?t.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):t.includes("//igvdata.broadinstitute.org")?t.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):t.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?t.replace("ftp://","https://"):t}function mv(t,e){if(3===e&&t.byteLength>2){var r=new Uint8Array(t,0,2);31===r[0]&&139===r[1]&&(e=1)}var n;1===e?n=new cg.Gunzip(new Uint8Array(t)).decompress():n=2===e?Zg(t):new Uint8Array(t);return"TextDecoder"in function(){if("undefined"!=typeof self)return self;return"undefined"!=typeof global?global:window}()?(new TextDecoder).decode(n):function(t){var e="",r=0;for(;r<t.length;){var n=t[r],i=0,a=0;if(n<=127?(i=0,a=255&n):n<=223?(i=1,a=31&n):n<=239?(i=2,a=15&n):n<=244&&(i=3,a=7&n),t.length-r-i>0)for(var o=0;o<i;)n=t[r+o+1],a=a<<6|63&n,o+=1;else a=65533,i=t.length-r;e+=String.fromCodePoint(a),r+=i+1}return e}(n)}function yv(t){return t.includes("drive.google.com")||t.includes("www.googleapis.com/drive")}function bv(){return wv.apply(this,arguments)}function wv(){return(wv=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Gg.google.access_token){t.next=2;break}return t.abrupt("return",Gg.google.access_token);case 2:if(!cv){t.next=4;break}return t.abrupt("return",cv);case 4:if(gapi&&gapi.auth2){t.next=6;break}throw new Error("The Google oAuth API is required but not loaded");case 6:if(gapi.auth2.getAuthInstance()){t.next=10;break}return hv.presentAlert("Authorization is required, but Google oAuth has not been initalized.  Contact your site administrator for assistance."),t.abrupt("return",void 0);case 10:return"https://www.googleapis.com/auth/devstorage.read_only https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/drive.readonly",(e=new gapi.auth2.SigninOptionsBuilder).setPrompt("select_account"),e.setScope("https://www.googleapis.com/auth/devstorage.read_only https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/drive.readonly"),cv=new Promise((function(t,r){hv.presentAlert("Google Login required",(function(){gapi.auth2.getAuthInstance().signIn(e).then((function(e){var r=e.getAuthResponse();Gg.google.setToken(r.access_token),t(r.access_token),cv=void 0})).catch((function(t){cv=void 0,r(t)}))}))})),t.abrupt("return",cv);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var xv=0;var kv,Sv=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),_v=function(t){"string"==typeof t.fastaURL&&t.fastaURL.startsWith("data:")?(this.file=function(t){var e,r=t.split(","),n=r[0].split(":")[1],i=r[1];i=n.indexOf("base64")>=0?atob(i):decodeURI(i);e=new Uint8Array(i.length);for(var a=0;a<i.length;a++)e[a]=i.charCodeAt(a);for(var o=new cg.Gunzip(e).decompress(),s="",c=o.length,h=0;h<c;h++)s+=String.fromCharCode(o[h]);return s}(t.fastaURL),this.indexed=!1,this.isDataURI=!0):(this.file=t.fastaURL,this.indexed=!1!==t.indexed,this.indexed&&(this.indexFile=t.indexURL||t.indexFile||this.file+".fai")),this.withCredentials=t.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={},this.config=function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&!Sv.has(e)&&(r[e]=t[e]);return r}(t)};function Cv(t,e,r){var n=this,i=n.interval;if(i&&i.contains(t,e,r))return Promise.resolve(h(i,e,r));var a=e,o=r;if(r-e<5e4){var s=r-e,c=Math.round(e+s/2);a=Math.max(0,c-25e3),o=c+25e3}return n.readSequence(t,a,o).then((function(i){return n.interval=new zg(t,a,o,i),h(n.interval,e,r)}));function h(t,e,r){var n=e-t.start,i=r-e;return t.features?t.features.substr(n,i):null}}function Av(t,e,r){this.offsets[t]&&(e-=this.offsets[t],r-=this.offsets[t]);var n="";if(e<0)for(var i=e;i<Math.min(r,0);i++)n+="*";if(r<=0)return Promise.resolve(n);var a=this.sequences[t];Math.min(r,a.length);return Promise.resolve(n+a.substring(e,r))}_v.prototype.init=function(){return this.indexed?this.getIndex():this.loadAll()},_v.prototype.getSequence=function(t,e,r){return this.indexed?Cv.call(this,t,e,r):Av.call(this,t,e,r)},_v.prototype.getIndex=function(){if(this.index)return Promise.resolve(this.index);var t=this;return lv.load(t.indexFile,Mg(t.config)).then((function(e){var r=fg(e),n=r.length,i=0,a=0;for(t.index={};i<n;){var o=r[i++].split("\t");if(5===o.length){var s=o[0],c=parseInt(o[1]),h={size:c,position:parseInt(o[2]),basesPerLine:parseInt(o[3]),bytesPerLine:parseInt(o[4])};t.chromosomeNames.push(s),t.index[s]=h,t.chromosomes[s]=new Ug(s,a++,0,c)}}return t.index}))},_v.prototype.loadAll=function(){var t=this;return this.isDataURI?Promise.resolve(e(this.file)):lv.load(t.file,Mg(t.config)).then(e);function e(e){for(var r,n,i=fg(e),a=i.length,o=0,s="",c=void 0,h=0,u=0;o<a;)if((r=i[o++].trim()).startsWith("#")||0===r.length);else if(r.startsWith(">")){s&&(t.chromosomeNames.push(n),t.sequences[n]=s,t.chromosomes[n]=new Ug(n,u++,h,h+s.length,c));var l=r.substr(1).split(/\s+/)[0].split(":");if(n=l[0],s="",h=0,c=void 0,l.length>1&&l[1].indexOf("-")>0){var f=l[1].split("-");2===f.length&&/^[0-9]+$/.test(f[0])&&/^[0-9]+$/.test(f[1]);var p=Number.parseInt(f[0]);Number.parseInt(f[1])>p&&(h=p-1,t.offsets[n]=h,c=l[1])}}else s+=r;s&&(t.chromosomeNames.push(n),t.sequences[n]=s,t.chromosomes[n]=new Ug(n,u++,h,h+s.length,c))}},_v.prototype.readSequence=function(t,e,r){var n,i,a,o,s,c=this;return c.getIndex().then((function(){var h=c.index[t];if(h){i=Math.max(0,e),a=Math.min(h.size,r);var u=h.bytesPerLine;o=h.basesPerLine;var l=h.position;s=u-o;var f=Math.floor(i/o),p=Math.floor(a/o),d=l+f*u+(n=i-f*o),g=l+p*u+(a-p*o)-1-d+1;return g<=0?(console.error("No sequence for "+t+":"+e+"-"+r),""):lv.load(c.file,Mg(c.config,{range:{start:d,size:g}}))}return c.interval=new zg(t,e,r,null),null})).then((function(t){if(t){var e,r="",c=0,h=t.length;for(n>0&&(e=Math.min(a-i,o-n),r+=t.substr(c,e),c+=e+s);c<h;)e=Math.min(o,h-c),r+=t.substr(c,e),c+=e+s;return r}return null}))};var Ev,Rv,Tv={loadGenome:(Rv=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.cytobandURL,n=e.aliasURL,i=new _v(e),t.next=5,i.init();case 5:if(!r){t.next=9;break}return t.next=8,Mv(r,i.config);case 8:a=t.sent;case 9:if(!n){t.next=13;break}return t.next=12,Pv(n,i.config);case 12:o=t.sent;case 13:return t.abrupt("return",new Lv(e,i,a,o));case 14:case"end":return t.stop()}}),t)}))),function(t){return Rv.apply(this,arguments)}),getKnownGenomes:(Ev=jr(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(t){var e={};return t.forEach((function(t){e[t.id]=t})),kv=e,e},e=Tv.genomeList,!kv){t.next=6;break}return t.abrupt("return",kv);case 6:if(e){t.next=10;break}return t.abrupt("return",{});case 10:if("string"!=typeof e){t.next=17;break}return t.next=13,lv.loadJson(e,{});case 13:return r=t.sent,t.abrupt("return",n(r));case 17:return t.abrupt("return",n(e));case 18:case"end":return t.stop()}}),t)}))),function(){return Ev.apply(this,arguments)}),isWholeGenomeView:function(t){return"all"===t.chrName.toLowerCase()}},Lv=function(t,e,r,n){this.config=t,this.id=t.id,this.sequence=e,this.chromosomeNames=e.chromosomeNames,this.chromosomes=e.chromosomes,this.ideograms=r,this.wholeGenomeView=void 0===t.wholeGenomeView||t.wholeGenomeView,this.wholeGenomeView&&Object.keys(e.chromosomes).length>1?function(t,e){var r;if(e.chromosomeOrder)t.wgChromosomeNames=e.chromosomeOrder.split(",").map((function(t){return t.trim()})),r=t.wgChromosomeNames.map((function(e){return t.chromosomes[e]})).filter((function(t){return void 0!==t}));else{var n=Object.keys(t.chromosomes).map((function(e){return t.chromosomes[e].bpLength})).reduce((function(t,e){return Math.max(t,e)}))/50,i=(r=Object.values(t.chromosomes).filter((function(t){return t.bpLength>n}))).filter((function(t){return d(t.name.replace("chr",""))})),a=r.filter((function(t){return!d(t.name.replace("chr",""))}));i.sort((function(t,e){return Number.parseInt(t.name.replace("chr",""))-Number.parseInt(e.name.replace("chr",""))}));var o=i.map((function(t){return t.name})),s=!0,c=!1,h=void 0;try{for(var u,l=a[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value;o.push(f.name)}}catch(t){c=!0,h=t}finally{try{s||null==l.return||l.return()}finally{if(c)throw h}}t.wgChromosomeNames=o}var p=r.reduce((function(t,e){return t+e.bpLength}),0);function d(t){return/^\d+$/.test(t)}t.chromosomes.all={name:"all",bpLength:p}}(this,t):this.wgChromosomeNames=e.chromosomeNames;var i={},a=this;i.all="all",this.chromosomeNames.forEach((function(t){var e=t.startsWith("chr")?t.substring(3):"chr"+t;i[e.toLowerCase()]=t,"chrM"===t&&(i.mt="chrM"),"MT"===t&&(i.chrm="MT"),i[t.toLowerCase()]=t})),n&&n.forEach((function(t){var e,r;for(r=0;r<t.length;r++)if(a.chromosomes[t[r]]){e=t[r];break}e&&t.forEach((function(t){t!==e&&(i[t.toLowerCase()]=e,i[t]=e)}))})),this.chrAliasTable=i};function Iv(){var t={},e=0,r=!0,n=!1,i=void 0;try{for(var a,o=this.wgChromosomeNames[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t[s]=Math.floor(e),e+=this.getChromosome(s).bpLength}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}function Mv(t,e){if(t.startsWith("data:")){var r=function(t){var e;if(t.startsWith("data:application/gzip;base64"))e=ev(t);else{var r,n=t.split(","),i=n[0].split(":")[1],a=n[1];a=i.indexOf("base64")>=0?atob(a):decodeURI(a),r=new Uint8Array(a.length);for(var o=0;o<a.length;o++)r[o]=a.charCodeAt(o);var s=new cg.Gunzip(r);e=s.decompress()}for(var c="",h=e.length,u=0;u<h;u++)c+=String.fromCharCode(e[u]);return c}(t);return Promise.resolve(n(r))}return lv.loadString(t,Mg(e)).then((function(t){return n(t)}));function n(t){for(var e,r=[],n=0,i=fg(t),a=i.length,o={},s=0;s<a;s++){var c=i[s].split("\t"),h=c[0];if(e||(e=h),h!==e&&(o[e]=r,r=[],e=h,n=0),5===c.length){var u=parseInt(c[1]),l=parseInt(c[2]),f=c[3],p=c[4];r[n++]=new Bg(u,l,f,p)}}return o}}function Pv(t,e){return lv.loadString(t,Mg(e)).then((function(t){var e=fg(t),r=[];return e.forEach((function(t){!t.startsWith("#")&&t.length>0&&r.push(t.split("\t"))})),r}))}Lv.prototype.showWholeGenomeView=function(){return!1!==this.config.wholeGenomeView},Lv.prototype.toJSON=function(){return Object.assign({},this.config,{tracks:void 0})},Lv.prototype.getInitialLocus=function(){},Lv.prototype.getHomeChromosomeName=function(){if(this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all"))return"all";var t=this.chromosomes[this.chromosomeNames[0]];return t.rangeLocus?t.name+":"+t.rangeLocus:this.chromosomeNames[0]},Lv.prototype.getChromosomeName=function(t){var e=this.chrAliasTable[t.toLowerCase()];return e||t},Lv.prototype.getChromosome=function(t){return t=this.getChromosomeName(t),this.chromosomes[t]},Lv.prototype.getCytobands=function(t){return this.ideograms?this.ideograms[t]:null},Lv.prototype.getLongestChromosome=function(){var t,e=this.chromosomes;for(var r in e){if(e.hasOwnProperty(r)){var n=e[r];(void 0===t||n.bpLength>t.bpLength)&&(t=n)}return t}},Lv.prototype.getChromosomes=function(){return this.chromosomes},Lv.prototype.getGenomeCoordinate=function(t,e){var r=this.getCumulativeOffset(t);if(void 0!==r)return r+e},Lv.prototype.getChromosomeCoordinate=function(t){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=Iv.call(this));var e=void 0,r=0,n=!0,i=!1,a=void 0;try{for(var o,s=this.wgChromosomeNames[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,h=this.cumulativeOffsets[c];if(h>t)return{chr:e,position:t-r};e=c,r=h}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return{chr:this.chromosomeNames[this.chromosomeNames.length-1],position:0}},Lv.prototype.getCumulativeOffset=function(t){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=Iv.call(this));var e=this.getChromosomeName(t);return this.cumulativeOffsets[e]},Lv.prototype.getGenomeLength=function(){var t=this;if(!this.bpLength){var e=0;t.wgChromosomeNames.forEach((function(r){var n=t.chromosomes[r];e+=n.bpLength})),this.bpLength=e}return this.bpLength};function Ov(t,e,r,n){var i=this;this.guid=wg(),this.trackView=t,this.genomicState=r,this.browser=t.browser,this.$viewport=Js('<div class="igv-viewport-div">'),e.append(this.$viewport),this.$viewport.data("viewportGUID",this.guid);var a=Js("<div>",{class:"igv-viewport-content-div"});this.$viewport.append(a),a.height(this.$viewport.height()),this.contentDiv=a.get(0);var o=Js("<canvas>");if(Js(this.contentDiv).append(o),this.canvas=o.get(0),this.ctx=this.canvas.getContext("2d"),this.setWidth(n),"sequence"===t.track.type&&this.$viewport.addClass("igv-viewport-sequence"),"ruler"===t.track.type)this.rulerSweeper=new Fg(this),t.track.appendMultiPanelCloseButton(this.$viewport,this.genomicState),this.$rulerLabel=Js('<div class = "igv-multi-locus-panel-label-div">'),this.$rulerLabel.click((function(t){i.browser.selectMultiLocusPanelWithGenomicState(i.genomicState)})),Js(this.contentDiv).append(this.$rulerLabel),!0===Tv.isWholeGenomeView(this.genomicState.referenceFrame)?Bv.call(this):zv.call(this);else if($v.call(this),this.$spinner=Js('<div class="igv-viewport-spinner">'),this.$spinner.append(Lf("spinner")),this.$viewport.append(this.$spinner),this.stopSpinner(),"sequence"!==t.track.type){this.popover=new kg(this.browser.$content);var s=t.track.name.toLowerCase().split(" ").join("_");s=s+"_"+this.browser.genomicStateList.indexOf(this.genomicState),this.popover.$popover.attr("id",s),this.$zoomInNotice=Nv.call(this,Js(this.contentDiv))}t.track.name&&(this.$trackLabel=Js('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(t.track.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide(),this.$trackLabel.click((function(e){var r;e.stopPropagation(),r="function"==typeof t.track.description?t.track.description():t.track.description?t.track.description:t.track.name;var n=yg(e);i.popover.presentTrackContent(n.x,n.y,r)})),this.$trackLabel.mousedown((function(t){t.stopPropagation()})),this.$trackLabel.mouseup((function(t){t.stopPropagation()})),this.$trackLabel.mousemove((function(t){t.stopPropagation()})))}function Nv(t){var e=Js('<div class="zoom-in-notice-container">');t.append(e);var r=Js("<div>");return e.append(r),r.text("Zoom in to see features"),e.hide(),e}function Fv(t,e,r){if(e&&(t.features=e,this.trackView.track.draw(t)),r){var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;t.features=c.features,c.track.draw(t)}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}}function Dv(){return this.browser&&this.browser.genomicStateList&&this.genomicState.referenceFrame}function Bv(){var t=".ruler_track_viewport_"+this.browser.genomicStateList.indexOf(this.genomicState),e=this;this.$viewport.on("click"+t,(function(t){var r,n=bg(t,e.$viewport.get(0)).x,i=Math.round(e.genomicState.referenceFrame.start+e.genomicState.referenceFrame.toBP(n));if(1===e.browser.genomicStateList.length)r=e.browser.genome.getChromosomeCoordinate(i).chr;else{var a=e.browser.genomicStateList.map((function(t){return t.locusSearchString}));a[e.browser.genomicStateList.indexOf(e.genomicState)]=e.browser.genome.getChromosomeCoordinate(i).chr,r=a.join(" ")}e.browser.search(r)}))}function zv(){var t=".ruler_track_viewport_"+this.browser.genomicStateList.indexOf(this.genomicState);this.$viewport.off(t)}function Uv(t){var e,r,n,i,a,o,s=(e=this.$viewport.get(0),r=this.$trackLabel.get(0),n=e.getBoundingClientRect(),i=n.x,a=n.y,n.width,n.height,{x:(o=r.getBoundingClientRect()).x-i,y:o.y-a,width:o.width,height:o.height}),c=s.x,h=s.y,u=s.width,l=s.height,f=t.measureText(this.$trackLabel.text()).width;t.fillStyle="white",t.fillRect(c,h,u,l),t.font="12px Arial",t.fillStyle="rgb(68, 68, 68)";var p=.25*(u-f),d=.7*(l-12);t.fillText(this.$trackLabel.text(),c+p,h+l-d),t.strokeStyle="rgb(68, 68, 68)",t.strokeRect(c,h,u,l)}Ov.prototype.isVisible=function(){return this.$viewport.width()},Ov.prototype.setTrackLabel=function(t){this.trackView.track.name=this.trackView.track.config.name=t,this.$trackLabel.empty(),this.$trackLabel.html(t);var e=this.$trackLabel.text();this.$trackLabel.attr("title",e)},Ov.prototype.setWidth=function(t){this.$viewport.outerWidth(t),this.canvas.style.width=this.$viewport.width()+"px",this.canvas.setAttribute("width",this.$viewport.width())},Ov.prototype.startSpinner=function(){var t=this.$spinner;t&&(t.addClass("igv-fa5-spin"),t.show())},Ov.prototype.stopSpinner=function(){var t=this.$spinner;t&&(t.hide(),t.removeClass("igv-fa5-spin"))},Ov.prototype.showMessage=function(t){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.contentDiv.append(this.messageDiv)),this.messageDiv.textContent=t,this.messageDiv.style.display="inline-block"},Ov.prototype.hideMessage=function(t){this.messageDiv&&(this.messageDiv.style.display="none")},Ov.prototype.checkZoomIn=function(){if(!Dv.call(this))return!1;if(this.$zoomInNotice){if(function(){var t=this.genomicState.referenceFrame;if("all"!==t.chrName.toLowerCase()||this.trackView.track.supportsWholeGenome()){var e="function"==typeof this.trackView.track.getVisibilityWindow?this.trackView.track.getVisibilityWindow():this.trackView.track.visibilityWindow;return void 0!==e&&e>0&&t.bpPerPixel*this.$viewport.width()>e}return!0}.call(this)){if(this.canvas&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tile=void 0),this.$zoomInNotice.show(),this.trackView.track.autoHeight){var t=this.trackView.minHeight||0;this.setContentHeight(t)}return!1}return this.$zoomInNotice.hide(),!0}return!0},Ov.prototype.shift=function(){var t=this.genomicState.referenceFrame;if(this.canvas&&this.tile&&this.tile.chr===t.chrName&&this.tile.bpPerPixel===t.bpPerPixel){var e=Math.round((this.tile.startBP-t.start)/t.bpPerPixel);this.canvas.style.left=e+"px"}},Ov.prototype.setTop=function(t){var e=-t,r=e+this.$viewport.height();Js(this.contentDiv).css("top",t+"px"),(!this.canvasVerticalRange||this.canvasVerticalRange.bottom<r||this.canvasVerticalRange.top>e)&&this.repaint()},Ov.prototype.loadFeatures=jr(regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.genomicState,r=e.referenceFrame,n=r.chrName,i=this.browser.genome.getChromosome(n).bpLength,a=3*Js(this.contentDiv).width(),o=a*r.bpPerPixel,s=Math.floor(Math.max(0,r.start-o/3)),c=Math.ceil(Math.min(i,s+o)),!this.loading||this.loading.start!==s||this.loading.end!==c){t.next=10;break}return t.abrupt("return",void 0);case 10:return this.loading={start:s,end:c},this.startSpinner(),t.prev=12,t.next=15,jv.call(this,r.chrName,s,c,r.bpPerPixel);case 15:if(h=t.sent,u=[],!(l=Vv(this.browser.roi,this.trackView.track.roi))){t.next=47;break}f=!0,p=!1,d=void 0,t.prev=22,g=l[Symbol.iterator]();case 24:if(f=(v=g.next()).done){t.next=33;break}return m=v.value,t.next=28,m.getFeatures(r.chrName,s,c,r.bpPerPixel);case 28:y=t.sent,u.push({track:m,features:y});case 30:f=!0,t.next=24;break;case 33:t.next=39;break;case 35:t.prev=35,t.t0=t.catch(22),p=!0,d=t.t0;case 39:t.prev=39,t.prev=40,f||null==g.return||g.return();case 42:if(t.prev=42,!p){t.next=45;break}throw d;case 45:return t.finish(42);case 46:return t.finish(39);case 47:return this.tile=new Hv(r.chrName,s,c,r.bpPerPixel,h,u),this.loading=!1,this.hideMessage(),this.stopSpinner(),t.abrupt("return",this.tile);case 54:t.prev=54,t.t1=t.catch(12),this.showMessage("Error loading track data"),console.error(t.t1);case 58:return t.prev=58,this.loading=!1,this.stopSpinner(),t.finish(58);case 62:case"end":return t.stop()}}),t,this,[[12,54,58,62],[22,35,39,47],[40,,42,46]])}))),Ov.prototype.repaint=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this,e||(e=this.tile),e){t.next=4;break}return t.abrupt("return");case 4:if(n=Tv.isWholeGenomeView(this.genomicState.referenceFrame),i=e.features,a=e.roiFeatures,o=this.genomicState,s=o.referenceFrame,c=n?s.initialEnd/this.$viewport.width():e.bpPerPixel,h=n?0:e.startBP,u=n?s.initialEnd:e.endBP,l=n?this.$viewport.width():Math.ceil((u-h)/c),f=this.$viewport.height(),p=Math.min(r.getContentHeight(),3*f),0!==l&&0!==p){t.next=18;break}return r.canvas&&Js(r.canvas).remove(),t.abrupt("return");case 18:d=Math.max(0,-Js(this.contentDiv).position().top-f),g="FILL"===this.trackView.track.displayMode?window.devicePixelRatio:!1===this.trackView.track.supportHiDPI?1:window.devicePixelRatio,v={features:i,pixelWidth:l,pixelHeight:p,pixelTop:d,bpStart:h,bpEnd:u,bpPerPixel:c,referenceFrame:s,genomicState:o,selection:r.selection,viewport:r,viewportWidth:r.$viewport.width(),viewportContainerX:s.toPixels(s.start-h),viewportContainerWidth:this.browser.viewportContainerWidth()},(m=Js("<canvas>").get(0)).style.width=l+"px",m.style.height=p+"px",m.width=g*l,m.height=g*p,(y=m.getContext("2d")).scale(g,g),b=Math.round((h-s.start)/s.bpPerPixel),m.style.position="absolute",m.style.left=b+"px",m.style.top=d+"px",v.context=y,y.translate(0,-d),Fv.call(this,v,i,a),this.canvasVerticalRange={top:d,bottom:d+p},r.canvas&&Js(r.canvas).remove(),Js(r.contentDiv).append(m),r.canvas=m,r.ctx=y;case 40:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),Ov.prototype.toSVG=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,c,h,u,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){t.next=2;break}return t.abrupt("return");case 2:return r=this.genomicState,n=r.referenceFrame,i=e.bpPerPixel,a=e.features,o=e.roiFeatures,s=this.$viewport.width(),c=this.$viewport.height(),h=n.start,u=n.start+s*n.bpPerPixel,l=new of({width:s,height:c,viewbox:{x:0,y:-Js(this.contentDiv).position().top,width:s,height:c}}),f={viewport:this,context:l,top:-Js(this.contentDiv).position().top,pixelTop:0,pixelWidth:s,pixelHeight:c,bpStart:h,bpEnd:u,bpPerPixel:i,referenceFrame:n,genomicState:this.genomicState,selection:this.selection,viewportWidth:s,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()},Fv.call(this,f,a,o),t.abrupt("return",l.getSerializedSvg(!0));case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),Ov.prototype.setContentHeight=function(t){t=Math.min(t,32e3),Js(this.contentDiv).height(t),this.tile&&(this.tile.invalidate=!0)},Ov.prototype.getContentHeight=function(){return Js(this.contentDiv).height()},Ov.prototype.getContentTop=function(){return this.contentDiv.offsetTop},Ov.prototype.isLoading=function(){return this.loading},Ov.prototype.saveImage=function(){if(this.ctx){var t=this.canvasVerticalRange?this.canvasVerticalRange.top:0,e=window.devicePixelRatio,r=this.$viewport.width()*e,n=this.$viewport.height()*e,i=-Js(this.canvas).position().left*e,a=(-Js(this.contentDiv).position().top-t)*e,o=this.ctx.getImageData(i,a,r,n),s=document.createElement("canvas"),c=s.getContext("2d");s.width=o.width,s.height=o.height,c.putImageData(o,0,0),Pg((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",s.toDataURL("image/png"))}},Ov.prototype.renderSVGContext=function(){var t=jr(regeneratorRuntime.mark((function t(e,r){var n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){t.next=2;break}return t.abrupt("return");case 2:n=(n=this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),i=this.browser.genomicStateList.indexOf(this.genomicState),a=n.toLowerCase()+"_genomic_state_index_"+i,0===i&&"function"==typeof this.trackView.track.paintAxis&&(o=this.trackView.controlCanvas.getBoundingClientRect(),e.addTrackGroupWithTranslationAndClipRect(a+"_axis",r.deltaX-o.width,r.deltaY,o.width,o.height,0),e.save(),this.trackView.track.paintAxis(e,o.width,o.height),e.restore()),s=Js(this.contentDiv).position().top,c=r.deltaX+i*e.multiLocusGap,h=r.deltaY+s,u=this.$viewport.get(0).getBoundingClientRect(),l=u.width,f=u.height,e.addTrackGroupWithTranslationAndClipRect(a,c,h,l,f,-s),p=this.genomicState.referenceFrame,d=p.start,g=p.bpPerPixel,e.save(),v={context:e,viewport:this,referenceFrame:p,genomicState:this.genomicState,pixelWidth:l,pixelHeight:f,viewportWidth:l,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth(),bpStart:d,bpEnd:d+l*g,bpPerPixel:g,selection:this.selection},m=this.tile?this.tile.features:[],y=this.tile?this.tile.roiFeatures:void 0,Fv.call(this,v,m,y),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&Uv.call(this,e),e.restore();case 21:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),Ov.prototype.saveSVG=function(){var t=this.$viewport.width(),e=this.$viewport.height(),r=new of({width:t,height:e,viewbox:{x:0,y:-Js(this.contentDiv).position().top,width:t,height:e}}),n=this.genomicState.referenceFrame,i=n.start,a=n.bpPerPixel,o={viewport:this,context:r,top:-Js(this.contentDiv).position().top,pixelTop:0,pixelWidth:t,pixelHeight:e,bpStart:i,bpEnd:i+t*a,bpPerPixel:a,referenceFrame:this.genomicState.referenceFrame,genomicState:this.genomicState,selection:this.selection,viewportWidth:t,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()};Fv.call(this,o,this.tile.features),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&Uv.call(this,r);var s=o.context.getSerializedSvg(!0),c=URL.createObjectURL(new Blob([s],{type:"application/octet-stream"}));Pg((this.$trackLabel?this.$trackLabel.text():this.trackView.track.id)+".svg",c)},Ov.prototype.dispose=function(){var t=this;this.popover&&(this.popover.$popover.off(),this.popover.$popover.empty(),this.popover.$popover.remove()),Js(this.canvas).off(),Js(this.canvas).empty(),Js(this.contentDiv).off(),Js(this.contentDiv).empty(),this.$viewport.off(),this.$viewport.empty(),Object.keys(this).forEach((function(e,r,n){t[e]=void 0}))},Ov.prototype.getCachedFeatures=function(){return this.tile?this.tile.features:[]};var Hv=function(t,e,r,n,i,a){this.chr=t,this.startBP=e,this.endBP=r,this.bpPerPixel=n,this.features=i,this.roiFeatures=a};function $v(){var t,e=this,r=this.browser,n=0;function i(t){if(e.browser.dragObject||e.browser.isScrolling)return e.browser.cancelTrackPan(),t.preventDefault(),t.stopPropagation(),void(e.enableClick=!1);e.browser.cancelTrackPan(),e.browser.endTrackDrag()}function a(t,e){var r=e.genomicState.referenceFrame,n=bg(t,e.contentDiv),i=bg(t,e.canvas),a=r.start+r.toBP(n.x);if(void 0!==a&&null!==e.tile)return{viewport:e,referenceFrame:r,genomicLocation:a,x:n.x,y:n.y,canvasX:i.x,canvasY:i.y}}this.$viewport.on("contextmenu",(function(t){if(e.browser.dragObject)return!1;var r=a(t,e);if(void 0===r)return!1;t.preventDefault();var n=[];"function"==typeof e.trackView.track.contextMenuItemList&&(n=e.trackView.track.contextMenuItemList(r)),n.length>0&&n.push({label:Js("<HR>")}),n.push({label:"Save Image (PNG)",click:function(){e.saveImage()}}),n.push({label:"Save Image (SVG)",click:function(){e.saveSVG()}}),e.popover&&e.popover.presentTrackContextMenu(t,n)})),this.$viewport.on("mousedown",(function(t){e.enableClick=!0,r.mouseDownOnViewport(t,e),yg(t)})),this.$viewport.on("touchstart",(function(t){e.enableClick=!0,r.mouseDownOnViewport(t,e),yg(t)})),this.$viewport.on("mouseup",i),this.$viewport.on("touchend",i),this.$viewport.on("click",(function(i){e.enableClick&&function(i){if(3===i.which||i.ctrlKey)return;if(Js(".igv-popover").hide(),r.dragObject||r.isScrolling)return;i.preventDefault(),i.stopPropagation();var o=bg(i,e.$viewport.get(0)).x,s=bg(i,e.canvas).x,c=e.genomicState.referenceFrame,h=Math.floor(c.start+c.toBP(s)),u=Date.now();if(u-n<r.constants.doubleClickDelay){t&&(window.clearTimeout(t),t=void 0);var l,f=Math.round(c.start+c.toBP(o));if("all"===c.chrName.toLowerCase()){var p=r.genome.getChromosomeCoordinate(f).chr;if(1===r.genomicStateList.length)l=p;else{var d=r.genomicStateList.map((function(t){return t.locusSearchString}));d[r.genomicStateList.indexOf(e.genomicState)]=p,l=d.join(" ")}r.search(l)}else r.zoomWithScaleFactor(.5,f,e)}else i.shiftKey&&"function"==typeof e.trackView.track.shiftClick?e.trackView.track.shiftClick(h,i):"function"==typeof e.trackView.track.popupData&&(t=setTimeout((function(){var n=function(t,e){var n=a(t,e);if(void 0===n)return;var i,o=e.trackView.track,s=o.popupData(n),c=r.fireEvent("trackclick",[o,s]);void 0===c||!0===c?s&&s.length>0&&(h='<table class="igv-popover-table">',s.forEach((function(t){t.name?h+='<tr><td class="igv-popover-td"><div class="igv-popover-name-value"><span class="igv-popover-name">'+t.name+'</span><span class="igv-popover-value">'+t.value+"</span></div></td></tr>":h+="<tr><td>"+t.toString()+"</td></tr>"})),i=h+="</table>"):"string"==typeof c&&(i=c);var h;return i}(i,e);if(n){var o=yg(i);e.popover.presentTrackContent(o.x,o.y,n)}clearTimeout(t),t=void 0}),r.constants.doubleClickDelay));n=u}(i)}))}function jv(t,e,r,n){return qv.apply(this,arguments)}function qv(){return(qv=jr(regeneratorRuntime.mark((function t(e,r,n,i){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.trackView.track,!this.tile||!this.tile.containsRange(e,r,n,i)){t.next=5;break}return t.abrupt("return",this.tile.features);case 5:if("function"!=typeof a.getFeatures){t.next=14;break}return t.next=8,a.getFeatures(e,r,n,i,this);case 8:return o=t.sent,this.cachedFeatures=o,this.checkContentHeight(),t.abrupt("return",o);case 14:return t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vv(t,e){return t&&e?t.concat(e):t||e}Hv.prototype.containsRange=function(t,e,r,n){return this.bpPerPixel===n&&e>=this.startBP&&r<=this.endBP&&t===this.chr},Hv.prototype.overlapsRange=function(t,e,r){return this.chr===t&&r>=this.startBP&&e<=this.endBP},Ov.prototype.checkContentHeight=function(){var t=this.trackView.track;if("FILL"===t.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof t.computePixelHeight){var e=this.cachedFeatures;if(e){var r=t.computePixelHeight(e);r!==Js(this.contentDiv).height()&&this.setContentHeight(r)}}};var Gv={color:1};Gv.parent=Gv,Gv.left=Gv,Gv.right=Gv;var Wv=function(){this.root=Gv};function Zv(t,e,r){return e.interval.overlaps(t)&&r.push(e.interval),e.left!==Gv&&e.left.max>=t.low&&Zv.call(this,t,e.left,r),e.right!==Gv&&e.right.min<=t.high&&Zv.call(this,t,e.right,r),r}function Xv(t){var e=t.right;t.right=e.left,e.left!==Gv&&(e.left.parent=t),e.parent=t.parent,t.parent===Gv?this.root=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e,Kv.call(this,t)}function Yv(t){var e=t.left;t.left=e.right,e.right!==Gv&&(e.right.parent=t),e.parent=t.parent,t.parent===Gv?this.root=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e,Kv.call(this,t)}function Kv(t){for(;t!==Gv;){var e=t.left.max>t.right.max?t.left.max:t.right.max,r=t.interval.high;t.max=e>r?e:r;var n=t.left.min<t.right.min?t.left.min:t.right.min,i=t.interval.low;t.min=n<i?n:i,t=t.parent}}function Qv(t,e,r){this.low=t,this.high=e,this.value=r}function Jv(t){this.parent=Gv,this.left=Gv,this.right=Gv,this.interval=t,this.color=2}Wv.prototype.insert=function(t,e,r){var n=new Jv(new Qv(t,e,r));for(this.treeInsert(n),n.color=2;n!==this.root&&2===n.parent.color;)if(n.parent===n.parent.parent.left){var i=n.parent.parent.right;2===i.color?(n.parent.color=1,i.color=1,n.parent.parent.color=2,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,Xv.call(this,n)),n.parent.color=1,n.parent.parent.color=2,Yv.call(this,n.parent.parent))}else{var a=n.parent.parent.left;2===a.color?(n.parent.color=1,a.color=1,n.parent.parent.color=2,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,Yv.call(this,n)),n.parent.color=1,n.parent.parent.color=2,Xv.call(this,n.parent.parent))}this.root.color=1},Wv.prototype.findOverlapping=function(t,e){var r=new Qv(t,e,0);if(this.root===Gv)return[];var n=Zv.call(this,r,this.root,[]);return n.length>1&&n.sort((function(t,e){return t.low-e.low})),n},Wv.prototype.logIntervals=function(){!function t(e,r){e.left!==Gv&&t(e.left);e.right!==Gv&&t(e.right)}(this.root)},Wv.prototype.mapIntervals=function(t){!function e(r){t(r.interval),r.left!==Gv&&e(r.left);r.right!==Gv&&e(r.right)}(this.root)},Wv.prototype.treeInsert=function(t){for(var e=this.root,r=Gv;e!==Gv;)r=e,e=t.interval.low<=e.interval.low?e.left:e.right;t.parent=r,r===Gv?(this.root=t,t.left=t.right=Gv):t.interval.low<=r.interval.low?r.left=t:r.right=t,Kv.call(this,t)},Qv.prototype.equals=function(t){return!!t&&(this===t||this.low===t.low&&this.high===t.high)},Qv.prototype.compareTo=function(t){return this.low<t.low?-1:this.low>t.low?1:this.high<t.high?-1:this.high>t.high?1:0},Qv.prototype.overlaps=function(t){try{return this.low<=t.high&&t.low<=this.high}catch(t){hv.presentAlert(t,void 0)}};var tm=function(t,e,r){if(t&&0!==t.length){var n=function(t){var e=new Wv,r=t.length,n=Math.max(10,Math.round(r/100));t.sort((function(t,e){return t.start===e.start?0:t.start>e.start?1:-1}));for(var i=function(i){var a=Math.min(r,i+n),o=t.slice(i,a),s=o[0].start,c=s;o.forEach((function(t){c=Math.max(c,t.end)})),e.insert(s,c,o)},a=0;a<r;a+=n)i(a);return e}(t).findOverlapping(e,r);return 0===n.length?[]:(t=[],n.forEach((function(n){for(var i=n.value,a=i.length,o=0;o<a;o++){var s=i[o];if(s.start>r)break;s.end>e&&t.push(s)}})),t.sort((function(t,e){return t.start-e.start})),t)}return[]};var em=Math.log,rm=Math.LOG10E;It({target:"Math",stat:!0},{log10:function(t){return em(t)*rm}});var nm={setProperties:function(t,e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t[r]=n}},strokeLine:function(t,e,r,n,i,a){e=Math.floor(e)+.5,r=Math.floor(r)+.5,n=Math.floor(n)+.5,i=Math.floor(i)+.5,a&&(t.save(),nm.setProperties(t,a)),t.beginPath(),t.moveTo(e,r),t.lineTo(n,i),t.stroke(),a&&t.restore()},fillRect:function(t,e,r,n,i,a){e=Math.round(e),r=Math.round(r),a&&(t.save(),nm.setProperties(t,a)),t.fillRect(e,r,n,i),a&&t.restore()},fillPolygon:function(t,e,r,n){n&&(t.save(),nm.setProperties(t,n)),im(t,e,r),t.fill(),n&&t.restore()},strokePolygon:function(t,e,r,n){n&&(t.save(),nm.setProperties(t,n)),im(t,e,r),t.stroke(),n&&t.restore()},fillText:function(t,e,r,n,i,a){if((i||a)&&t.save(),i&&nm.setProperties(t,i),a){for(var o in t.translate(r,n),a){var s=a[o];"translate"===o&&t.translate(s.x,s.y),"rotate"===o&&t.rotate(s.angle*Math.PI/180)}t.fillText(e,0,0)}else t.fillText(e,r,n);(i||a)&&t.restore()},strokeText:function(t,e,r,n,i,a){if((i||a)&&t.save(),i&&nm.setProperties(t,i),a){for(var o in t.translate(r,n),a){var s=a[o];"translate"===o&&t.translate(s.x,s.y),"rotate"===o&&t.rotate(s.angle*Math.PI/180)}t.strokeText(e,0,0)}else t.strokeText(e,r,n);(i||a)&&t.restore()},strokeCircle:function(t,e,r,n,i){i&&(t.save(),nm.setProperties(t,i)),t.beginPath(),t.arc(e,r,n,0,2*Math.PI),t.stroke(),i&&t.restore()},fillCircle:function(t,e,r,n,i){i&&(t.save(),nm.setProperties(t,i)),t.beginPath(),t.arc(e,r,n,0,2*Math.PI),t.fill(),i&&t.restore()},drawArrowhead:function(t,e,r,n,i){t.save(),n||(n=5),i&&(t.lineWidth=i),t.beginPath(),t.moveTo(e,r-n/2),t.lineTo(e,r+n/2),t.lineTo(e+n,r),t.lineTo(e,r-n/2),t.closePath(),t.fill(),t.restore()},dashedLine:function(t,e,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};void 0===a&&(a=2),t.setLineDash([a,a]),nm.strokeLine(t,e,r,n,i,o),t.setLineDash([])},roundRect:function(t,e,r,n,i,a,o,s){void 0===s&&(s=!0),void 0===a&&(a=5),t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.quadraticCurveTo(e+n,r,e+n,r+a),t.lineTo(e+n,r+i-a),t.quadraticCurveTo(e+n,r+i,e+n-a,r+i),t.lineTo(e+a,r+i),t.quadraticCurveTo(e,r+i,e,r+i-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),s&&t.stroke(),o&&t.fill()},polygon:function(t,e,r,n,i){void 0===i&&(i=!0),t.beginPath();var a=e.length;t.moveTo(e[0],r[0]);for(var o=1;o<a;o++)t.lineTo(e[o],r[o]);t.closePath(),i&&t.stroke(),n&&t.fill()}};function im(t,e,r){var n,i=e.length;for(n=0;n<i;n++)e[n]=Math.round(e[n]),r[n]=Math.round(r[n]);for(t.beginPath(),t.moveTo(e[0],r[0]),n=1;n<i;n++)t.lineTo(e[n],r[n]);t.closePath()}var am=function(t){this.browser=t,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=-Number.MAX_VALUE,this.removable=!1,this.type="ruler"};function om(t){t.context.save(),nm.fillRect(t.context,0,0,t.pixelWidth,t.pixelHeight,{fillStyle:"white"});var e=t.pixelHeight,r=!0,n=!1,i=void 0;try{for(var a,o=this.browser.genome.wgChromosomeNames[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,c=this.browser.genome.getCumulativeOffset(s),h=this.browser.genome.getChromosome(s).bpLength,u=Math.round(c/t.bpPerPixel),l=Math.round(h/t.bpPerPixel);sm.call(this,t.context,u,0,l,e,s)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}t.context.restore()}function sm(t,e,r,n,i,a){t.textAlign="center",t.textBaseline="middle",t.font="12px sans-serif",nm.strokeLine(t,e+n,r,e+n,r+i,{strokeStyle:gg.greyScale(191)});var o=a.startsWith("chr")?a.substring(3):a;n>t.measureText(o).width&&nm.fillText(t,o,e+n/2,r+i/2,{fillStyle:gg.greyScale(68)})}am.prototype.updateLocusLabel=function(){this.trackView.viewports.forEach((function(t){var e;e=t.genomicState.referenceFrame.showLocus(t.$viewport.width()),t.$rulerLabel.text(e)}))},am.prototype.appendMultiPanelCloseButton=function(t,e){var r,n=this.browser;t.addClass("igv-viewport-ruler"),r=Js('<div class="igv-multi-locus-panel-close-container">'),t.append(r),r.append(Lf("times-circle")),r.click((function(t){n.removeMultiLocusPanelWithGenomicState(e,!0)}))},am.prototype.getFeatures=function(t,e,r){return Promise.resolve([])},am.prototype.computePixelHeight=function(t){return this.height},am.prototype.draw=function(t){if(Tv.isWholeGenomeView(t.referenceFrame))t.viewport.rulerSweeper.disableMouseHandlers(),om.call(this,t);else{t.viewport.rulerSweeper.addMouseHandlers();var e=1+Math.floor(t.referenceFrame.toBP(t.pixelWidth));new cm(e,t).drawTicks(t,6,2,this.height),nm.strokeLine(t.context,0,this.height-2,t.pixelWidth,this.height-2)}},am.prototype.supportsWholeGenome=function(){return!0},am.prototype.dispose=function(){};var cm=function(t,e){function r(t,e,r,n){this.majorTick=!0===n?2*t:t,this.majorUnit=e,this.halfTick=t/2,this.unitMultiplier=r}(function(t,e){var n,i,a,o,s=e.context.isSVG||!1;t<10&&r.call(this,1,"bp",1,s);(n=Math.floor(Math.log10(t)))>9?(i="gb",a=1e9):n>6?(i="mb",a=1e6):n>3?(i="kb",a=1e3):(i="bp",a=1);o=lg(Math.floor(t/a))+" "+i,this.labelWidthBP=Math.round(e.referenceFrame.toBP(e.context.measureText(o).width)),t/Math.pow(10,n-1)<25?r.call(this,Math.pow(10,n-1),i,a,s):r.call(this,Math.pow(10,n)/2,i,a,s)}).call(this,t,e)};cm.prototype.drawTicks=function(t,e,r,n){var i,a,o,s,c,h,u;for(i=Math.floor(t.bpStart/this.majorTick)-1,c=0,h=0,o=0;o<t.pixelWidth;)a=Math.floor(i*this.majorTick),o=Math.round(t.referenceFrame.toPixels(a-1-t.bpStart+.5)),s=lg(Math.floor(a/this.unitMultiplier))+" "+this.majorUnit,c=t.context.measureText(s).width,h=Math.round(o-c/2),nm.fillText(t.context,s,h,n-e/.75),nm.strokeLine(t.context,o,n-e,o,n-r),++i;for(i=Math.floor(t.bpStart/this.halfTick)-1,o=0;o<t.pixelWidth;)a=Math.floor(i*this.halfTick),o=Math.round(t.referenceFrame.toPixels(a-1-t.bpStart+.5)),(u=a/this.unitMultiplier)===Math.floor(u)&&this.majorTick/this.labelWidthBP>8&&(s=lg(Math.floor(u))+" "+this.majorUnit,h=o-(c=t.context.measureText(s).width)/2,nm.fillText(t.context,s,h,n-e/.75)),nm.strokeLine(t.context,o,n-e,o,n-r),++i},cm.prototype.description=function(t){};var hm=Sf.trackMenuItemListHelper,um=function(t){this.$popover=Js("<div>",{class:"igv-trackgear-popover"}),t.append(this.$popover);var e=Js("<div>",{class:"igv-trackgear-popover-header"});this.$popover.append(e);var r=this;vg(e,(function(){r.$popover.hide()})),this.$popoverContent=Js("<div>"),this.$popover.append(this.$popoverContent),sf(this.$popover.get(0),e.get(0)),e.on("click.track_gear_popover",(function(t){t.stopPropagation(),t.preventDefault()}))};um.prototype.presentMenuList=function(t,e,r){if(r.length>0){this.$popoverContent.empty(),r=hm(r,this.$popover);var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;c.init&&c.init();var h=c.object;0===r.indexOf(c)&&h.removeClass("igv-track-menu-border-top"),h.hasClass("igv-track-menu-border-top")||h.hasClass("igv-trackgear-popover-check-container")||h.is("div")&&h.addClass("igv-trackgear-popover-shim"),this.$popoverContent.append(h)}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}this.$popover.css({left:t+"px",top:e+"px"}),this.$popover.show()}},um.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach((function(t){this[t]=void 0}))};var lm=function(t){var e,r=t.$parent,n=t.width,i=t.height,a=t.closeHandler;this.namespace=".generic_container_"+wg();var o=Js("<div>",{class:"igv-generic-container"});r.append(o),this.$container=o,n&&this.$container.width(n),i&&this.$container.height(i);var s=r.get(0).getBoundingClientRect();this.origin={x:s.x,y:s.y},this.$container.offset({left:this.origin.x,top:this.origin.y}),e=Js("<div>"),this.$container.append(e);var c=Js("<i>");e.append(c),c.append(Lf("times")),c.on("mousedown"+this.namespace,(function(t){t.stopPropagation()})),c.on("mouseup"+this.namespace,(function(t){t.stopPropagation()})),c.on("click"+this.namespace,(function(t){t.preventDefault(),t.stopPropagation(),a(t)})),c.on("touchend"+this.namespace,(function(t){t.preventDefault(),t.stopPropagation(),a(t)})),sf(this.$container.get(0),e.get(0))},fm=function(t,e,r){var n,i,a=this;this.browser=t,this.track=r,r.trackView=this,i=Js('<div class="igv-track-div">'),this.trackDiv=i.get(0),e.append(i),this.namespace=".trackview_"+wg(),this.track instanceof am&&(this.trackDiv.dataset.rulerTrack="rulerTrack"),r.height&&(this.trackDiv.style.height=r.height+"px"),this.appendLeftHandGutter(Js(this.trackDiv)),this.$viewportContainer=Js('<div class="igv-viewport-container">'),Js(this.trackDiv).append(this.$viewportContainer),this.viewports=[],n=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,t.genomicStateList.forEach((function(t){var e;e=new Ov(a,a.$viewportContainer,t,n),a.viewports.push(e)})),this.decorateViewports(),this.configureViewportContainer(this.$viewportContainer,this.viewports),!0===this.track.ignoreTrackMenu||this.appendRightHandGutter(Js(this.trackDiv)),this.track instanceof am||gm.call(this,Js(this.trackDiv),this.$viewportContainer),"sequence"===this.track.type||this.track instanceof am||this.createColorPicker()};function pm(t){var e=Js("<div>",{class:"igv-trackgear-container"});t.append(e),e.append(Lf("cog")),this.trackGearPopover=new um(t),this.trackGearPopover.$popover.hide();var r=this;e.click((function(t){t.preventDefault(),t.stopPropagation(),r.trackGearPopover.presentMenuList(-r.trackGearPopover.$popover.width(),0,Sf.trackMenuItemList(r))}))}function dm(t,e){var r=window.devicePixelRatio;if(this.leftHandGutter){this.controlCanvas&&Js(this.controlCanvas).remove();var n=Js('<canvas class ="igv-track-control-canvas">');this.controlCanvas=n[0],Js(this.leftHandGutter).append(n),this.controlCanvas.height=r*e,this.controlCanvas.width=r*t,this.controlCanvas.style.height=e+"px",this.controlCanvas.style.width=t+"px",this.controlCtx=this.controlCanvas.getContext("2d"),this.controlCtx.scale(r,r)}}function gm(t,e){var r=this,n=this.browser;this.$trackDragScrim=Js('<div class="igv-track-drag-scrim">'),e.append(this.$trackDragScrim),this.$trackDragScrim.hide(),r.$trackManipulationHandle=Js('<div class="igv-track-manipulation-handle">'),t.append(r.$trackManipulationHandle),r.$trackManipulationHandle.on("mousedown",(function(t){t.preventDefault(),t.stopPropagation(),r.$trackDragScrim.show(),n.startTrackDrag(r)})),r.$trackManipulationHandle.on("mouseup",(function(t){t.preventDefault(),t.stopPropagation(),n.endTrackDrag(),r.$trackDragScrim.hide()})),t.on("mouseenter",(function(t){n.dragTrack&&(t.preventDefault(),t.stopPropagation(),n.updateTrackDrag(r))})),r.$trackManipulationHandle.on("mouseleave",(function(t){n.dragTrack||(t.preventDefault(),t.stopPropagation(),r.$trackDragScrim.hide())}))}function vm(t){return this.viewports.filter((function(e){if(!e.isVisible())return!1;if(e.checkZoomIn()){var r=e.genomicState.referenceFrame,n=r.chrName,i=r.start,a=i+r.toBP(Js(e.contentDiv).width()),o=r.bpPerPixel;return t||!e.tile||e.tile.invalidate||!e.tile.containsRange(n,i,a,o)}return!1}))}function mm(){var t,e,r=this.maxContentHeight();if(this.track.autoHeight?this.setTrackHeight(r,!1):this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Js(this.controlCanvas).width(),Js(this.controlCanvas).height()),this.scrollbar){var n=this.viewports[0].getContentTop(),i=Math.min(0,this.$viewportContainer.height()-(t=this.viewports,e=t.map((function(t){return t.getContentHeight()})),Math.min.apply(Math,en(e))));n<i&&this.viewports.forEach((function(t){Js(t.contentDiv).css("top",i+"px")})),this.scrollbar.update()}}function ym(t){var e=t.map((function(t){return t.getContentHeight()}));return Math.max.apply(Math,en(e))}fm.prototype.renderSVGContext=function(t,e){var r=!0,n=!1,i=void 0;try{for(var a,o=this.viewports[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,c=s.browser.genomicStateList.indexOf(s.genomicState),h=s.$viewport.get(0).getBoundingClientRect(),u={deltaX:e.deltaX+c*s.$viewport.width(),deltaY:e.deltaY+h.y};s.renderSVGContext(t,u)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},fm.prototype.configureViewportContainer=function(t,e){return"hidden"===t.css("overflow-y")&&(this.scrollbar=new bm(t,e,this.browser.$root),t.append(this.scrollbar.$outerScroll)),t},fm.prototype.removeViewportWithLocusIndex=function(t){this.viewports[t].$viewport.remove(),this.viewports.splice(t,1),this.decorateViewports()},fm.prototype.decorateViewports=function(){var t=this;this.viewports.forEach((function(e,r){var n;n=e.$viewport,t.viewports.length>1?(n.find(".igv-multi-locus-panel-close-container").show(),n.find(".igv-multi-locus-panel-label-div").show()):(n.find(".igv-multi-locus-panel-close-container").hide(),n.find(".igv-multi-locus-panel-label-div").hide()),r<t.viewports.length&&1+r!==t.viewports.length?n.addClass("igv-viewport-div-border-right"):n.removeClass("igv-viewport-div-border-right")}))},fm.prototype.appendLeftHandGutter=function(t){var e,r,n=this;e=Js('<div class="igv-left-hand-gutter">'),this.leftHandGutter=e[0],t.append(e),"function"==typeof this.track.paintAxis&&(this.track.dataRange&&(e.click((function(t){n.browser.dataRangeDialog.configure({trackView:n}),n.browser.dataRangeDialog.present(Js(n.trackDiv))})),e.addClass("igv-clickable")),r=Js('<canvas class ="igv-track-control-canvas">'),e.append(r),this.controlCanvas=r.get(0),dm.call(this,e.outerWidth(),e.outerHeight()))},fm.prototype.appendRightHandGutter=function(t){var e=Js('<div class="igv-right-hand-gutter">');t.append(e),pm.call(this,e)},fm.prototype.dataRange=function(){return this.track.dataRange?this.track.dataRange:void 0},fm.prototype.setDataRange=function(t,e,r){void 0!==t&&(this.track.dataRange.min=t,this.track.config.min=t),void 0!==e&&(this.track.dataRange.max=e,this.track.config.max=e),this.track.autoscale=r,this.track.config.autoScale=r,this.repaintViews()},fm.prototype.setColor=function(t){this.track.color=t,this.track.config.color=t,this.repaintViews(!0)},fm.prototype.createColorPicker=function(){var t=this,e=this,r={$parent:Js(this.trackDiv),width:384,height:void 0,closeHandler:function(){e.colorPicker.$container.hide()}};this.colorPicker=new lm(r),mg(this.colorPicker.$container,(function(e){return t.setColor(e)}),this.track.color),e.colorPicker.$container.hide()},fm.prototype.presentColorPicker=function(){var t=this.trackDiv.getBoundingClientRect();this.colorPicker.origin={x:t.x,y:0},this.colorPicker.$container.offset({left:this.colorPicker.origin.x,top:this.colorPicker.origin.y}),this.colorPicker.$container.show()},fm.prototype.setTrackHeight=function(t,e,r){r||(this.track.minHeight&&(t=Math.max(this.track.minHeight,t)),this.track.maxHeight&&(t=Math.min(this.track.maxHeight,t))),this.track.height=t,this.track.config.height=t,Js(this.trackDiv).height(t),"function"!=typeof this.track.computePixelHeight&&(this.viewports.forEach((function(e){e.setContentHeight(t),e.tile&&(e.tile.invalidate=!0)})),this.repaintViews()),dm.call(this,Js(this.leftHandGutter).outerWidth(),t),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Js(this.controlCanvas).width(),Js(this.controlCanvas).height()),this.scrollbar&&this.scrollbar.update()},fm.prototype.isLoading=function(){for(var t=0;t<this.viewports.length;t++)if(this.viewports[t].isLoading())return!0},fm.prototype.resize=function(){var t;if(0!==(t=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length)){this.viewports.forEach((function(e){e.setWidth(t)}));var e=Js(this.leftHandGutter);dm.call(this,e.outerWidth(),e.outerHeight()),this.updateViews(!0)}},fm.prototype.repaintViews=function(){this.viewports.forEach((function(t){t.repaint()})),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,Js(this.controlCanvas).width(),Js(this.controlCanvas).height())},fm.prototype.updateViews=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S,_,C,A,E,R,T,L;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.browser&&this.browser.genomicStateList){t.next=2;break}return t.abrupt("return");case 2:(r=this.viewports.filter((function(t){return t.isVisible()}))).forEach((function(t){t.shift()})),n=vm.call(this,e),i=!0,a=!1,o=void 0,t.prev=8,s=n[Symbol.iterator]();case 10:if(i=(c=s.next()).done){t.next=18;break}return h=c.value,t.next=14,h.loadFeatures();case 14:h.tile&&h.tile.features&&0===h.tile.features.length&&"all"===h.genomicState.referenceFrame.chrName&&h.checkZoomIn();case 15:i=!0,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),a=!0,o=t.t0;case 24:t.prev=24,t.prev=25,i||null==s.return||s.return();case 27:if(t.prev=27,!a){t.next=30;break}throw o;case 30:return t.finish(27);case 31:return t.finish(24);case 32:if((u=this.browser.dragObject)||!this.track.autoscale){t.next=55;break}for(l=[],f=!0,p=!1,d=void 0,t.prev=38,g=r[Symbol.iterator]();!(f=(v=g.next()).done);f=!0)m=v.value,y=m.genomicState.referenceFrame,b=y.start,w=b+y.toBP(Js(m.contentDiv).width()),m.tile&&m.tile.features&&(l=l.concat(tm(m.tile.features,b,w)));t.next=46;break;case 42:t.prev=42,t.t1=t.catch(38),p=!0,d=t.t1;case 46:t.prev=46,t.prev=47,f||null==g.return||g.return();case 49:if(t.prev=49,!p){t.next=52;break}throw d;case 52:return t.finish(49);case 53:return t.finish(46);case 54:"function"==typeof this.track.doAutoscale?this.track.dataRange=this.track.doAutoscale(l):this.track.dataRange=Og(l);case 55:if(u||!this.track.autoscale&&!this.track.autoscaleGroup){t.next=77;break}for(x=!0,k=!1,S=void 0,t.prev=59,_=r[Symbol.iterator]();!(x=(C=_.next()).done);x=!0)C.value.repaint();t.next=67;break;case 63:t.prev=63,t.t2=t.catch(59),k=!0,S=t.t2;case 67:t.prev=67,t.prev=68,x||null==_.return||_.return();case 70:if(t.prev=70,!k){t.next=73;break}throw S;case 73:return t.finish(70);case 74:return t.finish(67);case 75:t.next=96;break;case 77:for(A=!0,E=!1,R=void 0,t.prev=80,T=n[Symbol.iterator]();!(A=(L=T.next()).done);A=!0)L.value.repaint();t.next=88;break;case 84:t.prev=84,t.t3=t.catch(80),E=!0,R=t.t3;case 88:t.prev=88,t.prev=89,A||null==T.return||T.return();case 91:if(t.prev=91,!E){t.next=94;break}throw R;case 94:return t.finish(91);case 95:return t.finish(88);case 96:mm.call(this);case 97:case"end":return t.stop()}}),t,this,[[8,20,24,32],[25,,27,31],[38,42,46,54],[47,,49,53],[59,63,67,75],[68,,70,74],[80,84,88,96],[89,,91,95]])})));return function(e){return t.apply(this,arguments)}}(),fm.prototype.getInViewFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,c,h,u,l,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.browser&&this.browser.genomicStateList){t.next=2;break}return t.abrupt("return",[]);case 2:return r=vm.call(this,e),n=r.map((function(t){return t.loadFeatures()})),t.next=6,Promise.all(n);case 6:for(i=[],a=!0,o=!1,s=void 0,t.prev=10,c=this.viewports[Symbol.iterator]();!(a=(h=c.next()).done);a=!0)(u=h.value).tile&&u.tile.features&&(l=u.genomicState.referenceFrame,f=l.start,p=f+l.toBP(Js(u.contentDiv).width()),i=i.concat(tm(u.tile.features,f,p)));t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),o=!0,s=t.t0;case 18:t.prev=18,t.prev=19,a||null==c.return||c.return();case 21:if(t.prev=21,!o){t.next=24;break}throw s;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return t.abrupt("return",i);case 27:case"end":return t.stop()}}),t,this,[[10,14,18,26],[19,,21,25]])})));return function(e){return t.apply(this,arguments)}}(),fm.prototype.checkContentHeight=function(){this.viewports.forEach((function(t){t.checkContentHeight()})),mm.call(this)},fm.prototype.maxContentHeight=function(){return ym(this.viewports)},fm.prototype.dispose=function(){var t=this;this.$trackManipulationHandle&&this.$trackManipulationHandle.off(),this.$innerScroll&&this.$innerScroll.off(),this.scrollbar&&this.scrollbar.dispose(),Js(document).off(this.namespace),"function"==typeof this.track.dispose&&this.track.dispose();var e=this.track;"function"==typeof e.dispose&&e.dispose(),Object.keys(e).forEach((function(t){e[t]=void 0})),this.viewports.forEach((function(t){t.dispose()})),Object.keys(this).forEach((function(e){t[e]=void 0}))},fm.prototype.scrollBy=function(t){this.scrollbar.moveScrollerBy(t)};var bm=function(t,e,r){var n,i=this,a=".trackscrollbar"+wg();this.namespace=a;var o=Js('<div class="igv-scrollbar-outer-div">');function s(t){t.preventDefault(),t.stopPropagation();var e=yg(t);i.moveScrollerBy(e.y-n),n=e.y}function c(t){Js(document).off(i.namespace)}this.$outerScroll=o,this.$innerScroll=Js("<div>"),this.$outerScroll.append(this.$innerScroll),this.$viewportContainer=t,this.viewports=e,this.$innerScroll.on("mousedown",(function(t){t.preventDefault();var e=yg(t);n=e.y,Js(document).on("mousemove"+a,s),Js(document).on("mouseup"+a,c),Js(document).on("mouseleave"+a,c),t.stopPropagation()})),this.$innerScroll.on("click",(function(t){t.stopPropagation()})),this.$outerScroll.on("click",(function(t){i.moveScrollerBy(t.offsetY-i.$innerScroll.height()/2),t.stopPropagation()}))};bm.prototype.moveScrollerBy=function(t){var e=this.$innerScroll.position().top+t;this.moveScrollerTo(e)},bm.prototype.moveScrollerTo=function(t){var e=this.$outerScroll.height(),r=this.$innerScroll.height(),n=Math.min(Math.max(0,t),e-r),i=ym(this.viewports),a=-Math.round(n*(i/this.$viewportContainer.height()));this.$innerScroll.css("top",n+"px"),this.viewports.forEach((function(t){t.setTop(a)}))},bm.prototype.dispose=function(){Js(window).off(this.namespace)},bm.prototype.update=function(){var t,e,r;t=this.$viewportContainer.height(),e=ym(this.viewports),r=Math.round(t/e*t),e>t?(this.$outerScroll.show(),this.$innerScroll.height(r)):this.$outerScroll.hide()};var wm=ze.trim,xm=n.parseFloat,km=1/xm(Oe+"-0")!=-1/0?function(t){var e=wm(String(t)),r=xm(e);return 0===r&&"-"==e.charAt(0)?-0:r}:xm;It({target:"Number",stat:!0,forced:Number.parseFloat!=km},{parseFloat:km});var Sm=Ef.entries;function _m(t){return"string"==typeof t||t instanceof String?new Cm(t):new Am(t)}It({target:"Object",stat:!0},{entries:function(t){return Sm(t)}});var Cm=function(t){this.data=t,this.ptr=0};Cm.prototype.nextLine=function(){var t=this.ptr,e=this.data.indexOf("\n",t);return e>0?(this.ptr=e+1,e===t?void 0:this.data.substring(t,e).trim()):(this.ptr=this.data.length,t>=this.data.length?void 0:this.data.substring(t).trim())},Cm.prototype.nextLineNoTrim=function(){var t=this.ptr,e=this.data.indexOf("\n",t),r=this.data;if(e>0)return this.ptr=e+1,e>t&&"\r"===r.charAt(e-1)?r.substring(t,e-1):r.substring(t,e);var n=r.length;return this.ptr=n,t>=n?void 0:r.substring(t)};var Am=function(t){this.data=t,this.length=this.data.length,this.ptr=0};Am.prototype.nextLine=function(){var t,e;if(e="",!(this.ptr>=this.length)){for(var r=this.ptr;r<this.length;r++)if("\r"!==(t=String.fromCharCode(this.data[r]))){if("\n"===t)break;e+=t}return this.ptr=r+1,e}},Am.prototype.nextLineNoTrim=Am.prototype.nextLine;var Em={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}},Rm=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram"]);function Tm(t){if(function(t){t.featureType&&(t.type=t.type||t.featureType,t.featureType=void 0);"junctions"===t.type?t.type="spliceJunctions":"bed"===t.type?(t.type="annotation",t.format=t.format||"bed"):"annotations"===t.type?t.type="annotation":"alignments"===t.type?t.type="alignment":"bam"===t.type?(t.type="alignment",t.format="bam"):"vcf"===t.type?(t.type="variant",t.format="vcf"):"t2d"===t.type?t.type="gwas":"FusionJuncSpan"!==t.type||t.format?"aed"===t.type&&(t.type="annotation",t.format=t.format||"aed"):t.format="fusionjuncspan"}(t),void 0===t.sourceType&&t.url&&(t.sourceType="file"),"file"===t.sourceType)if(void 0===t.format){var e=tv(t.url)?t.url.name:t.url;t.format=Lm(e)}else t.format=t.format.toLowerCase();if(void 0===t.type){if(t.type)return;if(t.format)switch(t.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":t.type="wig";break;case"vcf":t.type="variant";break;case"seg":t.type="seg";break;case"bam":case"cram":t.type="alignment";break;case"bedpe":case"bedpe-loop":t.type="interaction";break;case"bp":t.type="arc";break;default:t.type="annotation"}}}function Lm(t){var e,r;if((t=t.toLowerCase()).endsWith("refgene.txt.gz")||t.endsWith("refgene.txt.bgz")||t.endsWith("refgene.txt")||t.endsWith("refgene.sorted.txt.gz")||t.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((e=t.indexOf("?"))>0&&(t=t.substr(0,e)),t.endsWith(".gz")&&(t=t.substr(0,t.length-3)),(t.endsWith(".txt")||t.endsWith(".tab")||t.endsWith(".bgz"))&&(t=t.substr(0,t.length-4)),r=(e=t.lastIndexOf("."))<0?t:t.substr(e+1)){case"bw":return"bigwig";case"bb":return"bigbed";default:return Rm.has(r)?r:void 0}}var Im=Number.MAX_VALUE,Mm=["Name","gene_name","gene","gene_id","alias","locus"],Pm=new RegExp("([^:]*)\\(([^)]*)\\)"),Om=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)"),Nm=function(t,e,r){var n;if(void 0!==t&&(this.format=t.toLowerCase()),this.nameField=r?r.nameField:void 0,this.skipRows=0,e)this.decode=e;else switch(this.format){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=Zm,this.delimiter=/\s+/;break;case"bedgraph":this.decode=Xm,this.delimiter=/\s+/;break;case"wig":this.decode=Ym,this.delimiter=/\s+/;break;case"gff3":case"gff":case"gtf":this.decode=ty,this.delimiter="\t";break;case"fusionjuncspan":this.decode=Km,this.delimiter=/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=Qm,this.delimiter="\t";break;case"refflat":this.decode=Gm,this.delimiter=/\s+/;break;case"genepred":this.decode=qm,this.delimiter=/\s+/;break;case"genepredext":this.decode=Vm,this.delimiter=/\s+/;break;case"ensgene":this.decode=qm,this.shift=1,this.delimiter=/\s+/;break;case"refgene":this.decode=Vm,this.delimiter=/\s+/,this.shift=1;break;case"aed":this.decode=ny,this.delimiter="\t";break;case"bed":this.decode=$m,this.delimiter=r.delimiter||/\s+/;break;case"bedpe":this.skipRows=1,this.decode=iy,this.delimiter=/\s+/;break;case"bedpe-domain":this.decode=ay,this.headerLine=!0,this.delimiter=/\s+/;break;case"bedpe-loop":this.decode=iy,this.delimiter=/\s+/,this.skipRows=1,this.header={colorColumn:7};break;case"snp":this.decode=oy,this.delimiter="\t";break;case"rmsk":this.decode=jm,this.delimiter="\t";break;default:void 0!==(n=function(t){return Em&&Em[t]?function(t){for(var e=t.fields,r=["chr","start","end"],n=0;n<e.length;n++){var i=!0,a=!1,o=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value;h===e[n]&&(t[h]=n)}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}return t}(Em[t]):void 0}(this.format))?(this.decode=sy,this.format=n,this.delimiter=n.delimiter||"\t"):(this.decode=$m,this.delimiter=/\s+/)}};function Fm(t){var e=t.split(/\s+/);return{format:"fixedStep",chrom:e[1].split("=")[1],start:parseInt(e[2].split("=")[1],10)-1,step:parseInt(e[3].split("=")[1],10),span:e.length>4?parseInt(e[4].split("=")[1],10):1,index:0}}function Dm(t){var e=t.split(/\s+/);return{format:"variableStep",chrom:e[1].split("=")[1],span:e.length>2?parseInt(e[2].split("=")[1],10):1}}function Bm(t){var e=Om.exec(t);if(e)return{namespace:e[1],name:e[2],type:e[3]};if(e=Pm.exec(t))return{namespace:"?",name:e[1],type:e[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function zm(t){var e,r,n;for(e={columns:[],metadata:{}},r=0;r<t.length;r++)n=Bm(t[r]),e.columns.push(n);return e}function Um(t){var e,r={},n=t.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g),i=[],a=!0,o=!1,s=void 0;try{for(var c,h=n[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var u=c.value;u&&0!==u.trim().length&&(u.endsWith("=")>0?e=u:e?(i.push(e+u),e=void 0):i.push(u))}}catch(t){o=!0,s=t}finally{try{a||null==h.return||h.return()}finally{if(o)throw s}}for(var l=0,f=i;l<f.length;l++){var p=f[l];if(!p)return;var d=p.split("=",2);if(2===d.length){var g=d[0].trim(),v=d[1].trim();r[g]=v}}return r}function Hm(t){var e={},r=t.split(/\s+/);2===r.length&&r[1].split(";").forEach((function(t){var r=t.split("=");"color"===r[0]?e.colorColumn=Number.parseInt(r[1])-1:"thickness"===r[0]&&(e.thicknessColumn=Number.parseInt(r[1])-1)}));return e}function $m(t,e){var r,n,i,a,o,s,c,h;if(!(t.length<3)){if(s={chr:t[0],start:r=parseInt(t[1]),end:t.length>2?parseInt(t[2]):r+1,score:1e3},t.length>3&&(-1==t[3].indexOf(";")?s.name=t[3]:(s.attributes=Jm(t[3],"="),s.name=s.attributes.Name)),t.length>4&&(s.score=parseFloat(t[4])),t.length>5&&(s.strand=t[5]),t.length>6&&(s.cdStart=parseInt(t[6])),t.length>7&&(s.cdEnd=parseInt(t[7])),t.length>8&&"."!==t[8]&&"0"!==t[8]&&(s.color=gg.createColorString(t[8])),t.length>11){n=parseInt(t[9]),i=t[10].split(","),a=t[11].split(","),o=[];for(var u=0;u<n;u++)h=(c=r+parseInt(a[u]))+parseInt(i[u]),o.push({start:c,end:h});Wm(o,s.cdStart,s.cdEnd),s.exons=o}if(this.header){var l=this.header.thicknessColumn,f=this.header.colorColumn;f&&f<t.length&&(s.color=gg.createColorString(t[f])),l&&l<t.length&&(s.thickness=t[l])}return s}}function jm(t,e){if(!(t.length<15))return{swScore:Number.parseInt(t[1]),milliDiv:Number.parseInt(t[2]),milliDel:Number.parseInt(t[3]),milliIns:Number.parseInt(t[4]),chr:t[5],start:Number.parseInt(t[6]),end:Number.parseInt(t[7]),strand:t[9],repName:t[10],repClass:t[11],repFamily:t[12],repStart:Number.parseInt(t[13]),repEnd:Number.parseInt(t[14]),repLeft:Number.parseInt(t[15])}}function qm(t,e){var r=void 0===this.shift?0:1;if(!(t.length<9+r)){for(var n=parseInt(t[5+r]),i=parseInt(t[6+r]),a={name:t[0+r],chr:t[1+r],strand:t[2+r],start:parseInt(t[3+r]),end:parseInt(t[4+r]),cdStart:n,cdEnd:i,id:t[0+r]},o=parseInt(t[7+r]),s=t[8+r].split(","),c=t[9+r].split(","),h=[],u=0;u<o;u++){var l=parseInt(s[u]),f=parseInt(c[u]);h.push({start:l,end:f})}return Wm(h,n,i),a.exons=h,a}}function Vm(t,e){var r=void 0===this.shift?0:1;if(!(t.length<11+r)){for(var n=parseInt(t[5+r]),i=parseInt(t[6+r]),a={name:t[11+r],chr:t[1+r],strand:t[2+r],start:parseInt(t[3+r]),end:parseInt(t[4+r]),cdStart:n,cdEnd:i,id:t[0+r]},o=parseInt(t[7+r]),s=t[8+r].split(","),c=t[9+r].split(","),h=[],u=0;u<o;u++){var l=parseInt(s[u]),f=parseInt(c[u]);h.push({start:l,end:f})}return Wm(h,n,i),a.exons=h,a}}function Gm(t,e){var r=void 0===this.shift?0:1;if(!(t.length<10+r)){for(var n=parseInt(t[6+r]),i=parseInt(t[7+r]),a={name:t[0+r],id:t[1+r],chr:t[2+r],strand:t[3+r],start:parseInt(t[4+r]),end:parseInt(t[5+r]),cdStart:n,cdEnd:i},o=parseInt(t[8+r]),s=t[9+r].split(","),c=t[10+r].split(","),h=[],u=0;u<o;u++){var l=parseInt(s[u]),f=parseInt(c[u]);h.push({start:l,end:f})}return Wm(h,n,i),a.exons=h,a}}function Wm(t,e,r){var n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,h=c.end,u=c.start;h<e||u>r?c.utr=!0:(e>=u&&e<=h&&(c.cdStart=e),r>=u&&r<=h&&(c.cdEnd=r))}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}function Zm(t,e){var r,n,i,a,o,s,c;return t.length<9?null:(r=t[0],n=parseInt(t[1]),i=parseInt(t[2]),o=t[3],s=parseFloat(t[4]),a=t[5].trim(),c=parseFloat(t[6]),0===s&&(s=c),{chr:r,start:n,end:i,name:o,score:s,strand:a,signal:c,pValue:parseFloat(t[7]),qValue:parseFloat(t[8])})}function Xm(t,e){if(t.length<3)return null;var r={chr:t[0],start:parseInt(t[1]),end:parseInt(t[2]),value:parseFloat(t[3])};if(this.header){var n=this.header.colorColumn;n&&n<t.length&&(r.color=gg.createColorString(t[n]))}return r}function Ym(t,e){var r,n,i;return"fixedStep"===e.format?(n=(r=e.index*e.step+e.start)+e.span,i=parseFloat(t[0]),++e.index,isNaN(i)?null:{chr:e.chrom,start:r,end:n,value:i}):"variableStep"===e.format?t.length<2?null:(n=(r=parseInt(t[0],10)-1)+e.span,i=parseFloat(t[1]),isNaN(i)?null:{chr:e.chrom,start:r,end:n,value:i}):Xm(t)}function Km(t,e){var r=t[0],n=t[1],i=parseInt(t[2]),a=parseInt(t[3]),o=parseInt(t[4]),s=parseInt(t[5]),c=t[6],h={chr:r,name:n,junction_left:i,junction_right:a,num_junction_reads:o,num_spanning_frags:s,spanning_frag_coords:[],start:-1,end:-1},u=i,l=a;if(s>0)for(var f=c.split(","),p=0;p<f.length;p++){var d=f[p].split("-"),g=d[0],v=d[1];g<u&&(u=g),v>l&&(l=v),h.spanning_frag_coords.push({left:g,right:v})}return h.start=u,h.end=l,h}function Qm(t,e){if(t.length<7)return null;var r={chr:t[0],start:parseInt(t[1])-1,end:parseInt(t[2]),"Strongest SNP-risk allele":t[3],"Disease/Phenotype":t[4],"P-value":t[5],"Odds ratio or beta":t[6]};return t.length>6&&(r.PUBMEDID='<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/'.concat(t[7],'">').concat(t[7],"</a>")),r}function Jm(t,e){var r={},n=!0,i=!1,a=void 0;try{for(var o,s=t.split(";")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value.trim().split(e,2);if(2===c.length){var h=c[0].trim(),u=c[1].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),r[h]=u}}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}function ty(t,e){var r,n,i,a,o,s,c,h,u,l,f=this.format;if(t.length<9)return null;r=t[0],o=t[2],n=parseInt(t[3])-1,i=parseInt(t[4]),s="."===t[5]?0:parseFloat(t[5]),a=t[6],"."===t[7]||parseInt(t[7]);for(var p="gff3"===f?"=":/\s+/,d=Jm(c=t[8],p),g=0,v=Object.entries(d);g<v.length;g++){var m=tn(v[g],2),y=m[0],b=m[1],w=y.toLowerCase();if("color"===w||"colour"===w)h=gg.createColorString(b);else if("gff3"===f)try{d[y]=unescape(b)}catch(t){d[y]=b,console.error("Malformed gff3 attibute value: ".concat(b))}}if(this.nameField)u=d[this.nameField];else for(l=0;l<Mm.length;l++)if(d.hasOwnProperty(Mm[l])){this.nameField=Mm[l],u=d[this.nameField];break}return new ey({id:d.ID||d.transcript_id,parent:d.Parent,name:u,type:o,chr:r,start:n,end:i,score:s,strand:a,color:h,attributeString:c,delim:p})}function ey(t){Object.assign(this,t)}function ry(t,e){var r,n,i=t.columns;this.aed=t,this.allColumns=e,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(var a=0;a<e.length;a++)(r=e[a])&&("aed:Integer"===(n=i[a]).type&&(r=parseInt(r)),"bio"===n.namespace?"sequence"===n.name?this.chr=r:"start"===n.name?this.start=r:"end"===n.name?this.end=r:"cdsMin"===n.name?this.cdStart=r:"cdsMax"===n.name?this.cdEnd=r:"strand"===n.name&&(this.strand=r):"aed"===n.namespace?"name"===n.name&&(this.name=r):"style"===n.namespace&&"color"===n.name&&(this.color=gg.createColorString(r)))}function ny(t,e){var r,n,i,a,o,s,c=0,h=this.aed.columns;if(t.length===h.length){for(s=0;s<t.length;s++)a=h[s],""!==(i=t[s])&&c++,"name"===a.name&&"aed"===a.namespace?r=i:"value"===a.name&&"aed"===a.namespace&&(n=i);if(2===c&&r&&n)return o=Bm(r),this.aed.metadata[o.namespace]||(this.aed.metadata[o.namespace]={}),void(this.aed.metadata[o.namespace][o.name]||(this.aed.metadata[o.namespace][o.name]={type:o.type,value:n}));var u=new ry(this.aed,t);if(u.chr&&(u.start||0===u.start)&&u.end)return u}}function iy(t,e){if(!(t.length<6)){var r={chr1:t[0],start1:Number.parseInt(t[1]),end1:Number.parseInt(t[2]),chr2:t[3],start2:Number.parseInt(t[4]),end2:Number.parseInt(t[5])};t.length>6&&(r.name=t[6]),t.length>7&&(r.score=t[7]),r.chr=r.chr1===r.chr2?r.chr1:"MIXED",r.start=Math.min(r.start1,r.start2),r.end=Math.max(r.end1,r.end2);var n=(r.start1+r.end1)/2,i=(r.start2+r.end2)/2;if(r.m1=n<i?n:i,r.m2=n<i?i:n,this.header){var a=this.header.thicknessColumn,o=this.header.colorColumn;o&&o<t.length&&(r.color=gg.createColorString(t[o])),a&&a<t.length&&(r.thickness=t[a])}return r}}function ay(t,e){return{chr:t[0],start:Number.parseInt(t[1]),end:Number.parseInt(t[2]),color:gg.createColorString(t[6]),score:Number.parseFloat(t[7])}}function oy(t,e){for(var r=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],n={chr:t[1],start:Number.parseInt(t[2]),end:Number.parseInt(t[3]),name:t[4],score:Number.parseInt(t[5])},i=Math.min(t.length,r.length),a=6;a<i;a++)n[r[a]]=t[a];return n}function sy(t,e){var r=this.format,n=r.coords||0,i=t[r.chr],a=parseInt(t[r.start])-n,o={chr:i,start:a,end:void 0!==r.end?parseInt(t[r.end]):a+1};return r.fields&&r.fields.forEach((function(e,n){n!==r.chr&&n!==r.start&&n!==r.end&&(o[e]=t[n])})),o}Nm.prototype.parseHeader=function(t){var e,r,n;for(n=_m(t);(e=n.nextLine())&&(e.startsWith("track")||e.startsWith("#")||e.startsWith("browser"));)if(e.startsWith("track")||e.startsWith("#track")){var i=Um(e);r?Object.assign(r,i):r=i}else if(e.startsWith("#columns")){var a=Hm(e);r?Object.assign(r,a):r=a}else e.startsWith("##gff-version 3")&&(this.format="gff3",r||(r={}),r.format="gff3");return this.header=r,r},Nm.prototype.parseFeatures=function(t){if(!t)return null;var e,r,n,i,a,o,s,c,h=[],u=0,l=this.decode,f=this.format,p=this.delimiter||"\t";function d(){for(var t,e,r=[],n="",i=!1;a||""===a;){for(t=0;t<a.length;t++)(e=a.charAt(t))===p?i?n+=e:(r.push(n),n=""):'"'===e?t+1<a.length&&'"'===a.charAt(t+1)?(i&&(n+='"'),t++):i=!i:n+=e;if(!i)break;n+="\n",a=c()}return r.push(n),r}for(e=_m(t),c="aed"===f?e.nextLineNoTrim.bind(e):e.nextLine.bind(e),o=0;a=c();)++o<=this.skipRows||a.startsWith("track")||a.startsWith("#")||a.startsWith("browser")||("wig"===f&&a.startsWith("fixedStep")?r=Fm(a):"wig"===f&&a.startsWith("variableStep")?r=Dm(a):(i="aed"!==f||-1===a.indexOf('"')?a.split(p):d()).length<1||("aed"!==f||this.aed?(n=l.call(this,i,r))&&(h.length<Im?h.push(n):(s=Math.floor(Math.random()*u))<Im&&(h[s]=n),u++):this.aed=zm(i)));return h},ey.prototype.popupData=function(t){var e=this.attributeString.split(";"),r=[];r.push({name:"type",value:this.type}),r.push({name:"start",value:this.start+1}),r.push({name:"end",value:this.end});var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value.trim().split(this.delim,2);if(2===c.length&&void 0!==c[1]){var h=c[0].trim(),u=c[1].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),r.push({name:h,value:u})}}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r},ry.prototype.popupData=function(){for(var t=[],e=this.aed,r=0;r<this.allColumns.length;r++){var n=this.allColumns[r],i=e.columns[r].name;"sequence"!==i&&"color"!==i&&n&&t.push({name:i,value:n})}return t};var cy=function(){};cy.prototype.parseHeader=function(t){var e,r,n,i=fg(t),a=i.length;for(r=0;r<a;r++)if(!(e=i[r]).startsWith("#")){n=e.split("\t"),this.header={headings:n,lineCount:r+1};break}return this.header},cy.prototype.parseFeatures=function(t){var e,r,n,i=t?fg(t):[],a=i.length,o=[];for(this.header||(this.header=this.parseHeader(t)),n=this.header.headings.length-1,r=this.header.lineCount;r<a;r++)i[r],(e=i[r].split("\t")).length>n&&o.push({sampleKey:e[0],sample:e[0],chr:e[1],start:parseInt(e[2]),end:parseInt(e[3]),value:parseFloat(e[n])});return o};var hy=function(t,e){t.displayMode&&(t.displayMode=t.displayMode.toUpperCase()),this.config=t,this.browser=e,this.url=t.url,this.type=t.type,this.description=t.description,this.supportHiDPI=void 0===t.supportHiDPI||t.supportHiDPI,t.name=t.name||t.label,t.name?this.name=t.name:tv(t.url)?this.name=t.url.name:this.name=t.url,this.order=t.order,"civic-ws"===t.sourceType?this.color="rgb(155,20,20)":this.color=t.color||t.defaultColor||"rgb(0,0,150)",this.autoscaleGroup=t.autoscaleGroup,this.removable=void 0===t.removable||t.removable,this.height=t.height||100,this.autoHeight=t.autoHeight,this.minHeight=t.minHeight||Math.min(25,this.height),this.maxHeight=t.maxHeight||Math.max(1e3,this.height),this.visibilityWindow=t.visibilityWindow};function uy(t){var e=new dy;return e.chr=t[0],e.pos=parseInt(t[1]),e.names=t[2],e.referenceBases=t[3],e.alternateBases=t[4],e.quality=t[5],e.filter=t[6],e.info=function(t){if(!t)return;var e={};return t.split(";").forEach((function(t){var r=t.split("=");e[r[0]]=r[1]})),e}(t[7]),ly(e),e}function ly(t){var e=t.referenceBases,r=t.alternateBases;if(t.info&&(t.info.VT?t.type=t.info.VT:t.info.SVTYPE?t.type="SV":t.info.PERIOD?t.type="STR":t.type=gy(r)),"NONVARIANT"===t.type&&(t.heterozygosity=0,t.start=t.pos-1,t.end=t.start+e.length),t.info.END)t.start=t.pos-1,t.end=Number.parseInt(t.info.END);else if("NONVARIANT"!==t.type){var n=r.split(",").filter((function(t){return t.length>0}));t.alleles=[],t.start=t.pos,t.end=t.pos;var i=!0,a=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value;if(t.alleles.push(h),"SV"!==t.type&&py(h)){var u=h.length,l=e.length,f=0;for(e.charCodeAt(0)===h.charCodeAt(0)&&(f++,u--,l--);u>0&&l>0&&h.charCodeAt(f+u-1)===e.charCodeAt(f+l-1);)u--,l--;for(;u>0&&l>0&&h.charCodeAt(f+u-1)===e.charCodeAt(f+l-1);)f++,u--,l--;var p=t.pos+f-1,d=p+Math.max(1,l);t.start=Math.min(t.start,p),t.end=Math.max(t.end,d)}}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}}hy.prototype.getState=function(){var t=Object.assign({},this.config),e=this;return Object.keys(t).forEach((function(r){var n=e[r];n&&(Ig(n)||"boolean"==typeof n)&&(t[r]=n)})),t},hy.prototype.supportsWholeGenome=function(){return!1},hy.prototype.clickedFeatures=function(t){var e=t.viewport.getCachedFeatures();if(!e||0===e.length)return[];var r=t.genomicLocation,n=t.referenceFrame.bpPerPixel>.2?3*t.referenceFrame.bpPerPixel:0,i=Math.floor(r)-n,a=Math.floor(r)+n;return tm(e,i,a)},hy.prototype.setTrackProperties=function(t){for(var e=0,r=Object.keys(t);e<r.length;e++){var n=r[e];switch(n){case"name":case"useScore":this[n]=t[n];break;case"visibility":switch(t[n]){case"2":case"3":case"pack":case"full":this.displayMode="EXPANDED";break;case"4":case"squish":this.displayMode="SQUISHED";break;case"1":case"dense":this.displayMode="COLLAPSED"}break;case"color":case"altColor":this[n]="rgb("+t[n]+")";break;case"featureVisiblityWindow":this.visibilityWindow=Number.parseInt(t[n])}}},hy.prototype.getVisibilityWindow=function(){return this.visibilityWindow},hy.extractPopupData=function(t,e){var r,n,i=new Set(["row","color"]),a=[];for(var o in t)if(t.hasOwnProperty(o)&&!i.has(o)&&Ig(t[o])){var s=t[o];"start"===o&&(s+=1),a.push({name:o,value:s}),"alleles"===o?r=t[o]:"alleleFreqs"===o&&(n=t[o])}if(r&&n){r.endsWith(",")&&(r=r.substr(0,r.length-1)),n.endsWith(",")&&(n=n.substr(0,n.length-1));var c=r.split(","),h=n.split(",");if(h.length>1){for(var u=[],l=0;l<h.length;l++)u.push({a:c[l],af:Number.parseFloat(h[l])});u.sort((function(t,e){return t.af-e.af}));var f=u[u.length-1].a;if(1===f.length)for(var p=u.length-2;p>=0;p--){var d=u[p].a;if(1===d.length){var g=hy.getCravatLink(t.chr,t.start+1,f,d,e);g&&(a.push("<hr/>"),a.push(g))}}}}return a},hy.prototype.getGenomeId=function(){return this.browser.genome?this.browser.genome.id:void 0},hy.getCravatLink=function(t,e,r,n,i){return"hg38"===i||"GRCh38"===i?"<a target='_blank' href='https://www.cravat.us/CRAVAT/variant.html?variant="+(t.startsWith("chr")?t:"chr"+t)+"_"+e+"_+_"+r+"_"+n+"'>Cravat "+r+"->"+n+"</a>":void 0};var fy=new Set(["A","C","T","G"].map((function(t){return t.charCodeAt(0)})));function py(t){for(var e=0;e<t.length;e++)if(!fy.has(t.charCodeAt(e)))return!1;return!0}var dy=function(){};function gy(t){if(void 0===t)return"UNKNOWN";if(0===t.trim().length||"<NON_REF>"===t||"<*>"===t||"."===t)return"NONVARIANT";var e=t.split(",").map((function(t){return"<NON_REF>"===t?"NONVARIANT":"OTHER"})),r=e[0],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){if(o.value!==r)return"MIXED"}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}function vy(t,e){return void 0===e&&(e=","),Array.isArray(t)?t.join(e):t}dy.prototype.popupData=function(t,e){var r,n,i=this,a=this.end===this.pos?this.pos:"".concat(this.pos,"-").concat(this.end);if(r=[{name:"Chr",value:this.chr},{name:"Pos",value:a},{name:"Names",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}],1===this.referenceBases.length&&!gy(this.alternateBases)){var o=this.referenceBases;if(1===o.length)for(var s=this.alternateBases.split(","),c=0;c<s.length;c++){var h=this.alternateBases[c];if(1===h.length){var u=hy.getCravatLink(this.chr,this.pos,o,h,e);u&&(r.push("<hr/>"),r.push(u))}}}return this.hasOwnProperty("heterozygosity")&&r.push({name:"Heterozygosity",value:this.heterozygosity}),this.info&&(r.push("<hr>"),Object.keys(this.info).forEach((function(t){r.push({name:t,value:vy(i.info[t])})}))),this.calls&&1===this.calls.length&&(r.push("<hr>"),n=this.alleles[this.calls[0].genotype[0]]+this.alleles[this.calls[0].genotype[1]],r.push({name:"Genotype",value:n})),r},dy.prototype.isRefBlock=function(){return"NONVARIANT"===this.type};var my=function(){};function yy(t){for(var e={genotypeIndex:-1,fields:t},r=0;r<t.length;r++)"GT"===t[r]&&(e.genotypeIndex=r);return e}my.prototype.parseHeader=function(t){var e={},r=_m(t),n=r.nextLine();if(!n.startsWith("##fileformat"))throw new Error("Invalid VCF file: missing fileformat line");for(e.version=n.substr(13);(n=r.nextLine())&&n.startsWith("#");){var i=void 0,a={};if(n.startsWith("##")){if(n.startsWith("##INFO")||n.startsWith("##FILTER")||n.startsWith("##FORMAT")){var o=n.indexOf("<"),s=n.lastIndexOf(">");if(!(o>2&&s>0))continue;var c=n.substring(2,o-1);e[c]||(e[c]={});var h=pg(n.substring(o+1,s-1),","),u=!0,l=!1,f=void 0;try{for(var p,d=h[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var g=p.value.split("=");g.length>1&&("ID"===g[0]?i=g[1]:a[g[0]]=g[1])}}catch(t){l=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(l)throw f}}i&&(e[c][i]=a)}}else if(n.startsWith("#CHROM")){var v=n.split("\t");if(v.length>8){e.callSets=[];for(var m=9;m<v.length;m++)e.callSets.push({id:m,name:v[m]})}}}return this.header=e,e},my.prototype.parseFeatures=function(t){for(var e,r=[],n=this.header.callSets,i=_m(t);e=i.nextLine();)if(!e.startsWith("#")){var a=e.split("\t");if(a.length>=8){var o,s,c=uy(a);if(c.header=this.header,r.push(c),a.length>9)!function(){var t=yy(a[8].split(":"));c.calls={};for(var e=9;e<a.length;e++){var r=a[e];o=n[e-9],s={callSetName:o.name,info:{}},c.calls[o.id]=s,r.split(":").forEach((function(e,r){switch(r){case t.genotypeIndex:s.genotype=[],e.split(/[\|\/]/).forEach((function(t){s.genotype.push("."===t?t:parseInt(t))}));break;default:s.info[t.fields[r]]=e}}))}}()}}return r};var by=function(){function t(){qr(this,t)}return Gr(t,[{key:"parseFeatures",value:function(t){if(!t)return null;for(var e,r=this.parseHeader(t),n=_m(t),i=[];e=n.nextLine();){var a=e.split("\t"),o=a[0],s=parseInt(a[1]),c=parseInt(a[2]),h=a.slice(3).map(parseFloat);h.length==r.length&&i.push({chr:o,start:s,end:c,values:h})}return console.warn("Parsed",i.length,"features from",r.length,"samples"),i}},{key:"parseHeader",value:function(t){if(!this.sampleNames){var e=_m(t);this.sampleNames=e.nextLine().split("\t").slice(3),console.warn("Parsed",this.sampleNames.length,"samples from gCNV track file header:",this.sampleNames)}return this.sampleNames}}]),t}(),wy=function(t,e){this.littleEndian=void 0===e||e,this.position=0,this.view=t,this.length=t.byteLength};function xy(t,e){this.block=t,this.offset=e}wy.prototype.available=function(){return this.length-this.position},wy.prototype.remLength=function(){return this.length-this.position},wy.prototype.hasNext=function(){return this.position<this.length-1},wy.prototype.getByte=function(){var t=this.view.getUint8(this.position,this.littleEndian);return this.position++,t},wy.prototype.getShort=function(){var t=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,t},wy.prototype.getUShort=function(){var t=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,t},wy.prototype.getInt=function(){var t=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,t},wy.prototype.getUInt=function(){var t=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,t},wy.prototype.getLong=function(){var t=[];t[0]=this.view.getUint8(this.position),t[1]=this.view.getUint8(this.position+1),t[2]=this.view.getUint8(this.position+2),t[3]=this.view.getUint8(this.position+3),t[4]=this.view.getUint8(this.position+4),t[5]=this.view.getUint8(this.position+5),t[6]=this.view.getUint8(this.position+6),t[7]=this.view.getUint8(this.position+7);var e=0;if(this.littleEndian)for(var r=t.length-1;r>=0;r--)e=256*e+t[r];else for(var n=0;n<t.length;n++)e=256*e+t[n];return this.position+=8,e},wy.prototype.getString=function(t){for(var e,r="";0!==(e=this.view.getUint8(this.position++))&&(r+=String.fromCharCode(e),!t||r.length!==t););return r},wy.prototype.getFixedLengthString=function(t){var e,r,n="";for(e=0;e<t;e++)(r=this.view.getUint8(this.position++))>0&&(n+=String.fromCharCode(r));return n},wy.prototype.getFixedLengthTrimmedString=function(t){var e,r,n="";for(e=0;e<t;e++)(r=this.view.getUint8(this.position++))>32&&(n+=String.fromCharCode(r));return n},wy.prototype.getFloat=function(){var t=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,t},wy.prototype.getDouble=function(){var t=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,t},wy.prototype.skip=function(t){return this.position+=t,this.position},wy.prototype.getVPointer=function(){var t=this.position,e=this.view.getUint8(t+1)<<8|this.view.getUint8(t),r=4294967296*(255&this.view.getUint8(t+6))+16777216*(255&this.view.getUint8(t+5))+65536*(255&this.view.getUint8(t+4))+256*(255&this.view.getUint8(t+3))+(255&this.view.getUint8(t+2));return this.position+=8,new xy(r,e)},xy.prototype.isLessThan=function(t){return this.block<t.block||this.block===t.block&&this.offset<t.offset},xy.prototype.isGreaterThan=function(t){return this.block>t.block||this.block===t.block&&this.offset>t.offset},xy.prototype.print=function(){return this.block+":"+this.offset};function ky(t,e,r,n){return Sy.apply(this,arguments)}function Sy(){return(Sy=jr(regeneratorRuntime.mark((function t(e,r,n,i){var a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S,_,C,A,E,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lv.loadArrayBuffer(e,Mg(r));case 2:if(a=t.sent,o=[],s=Number.MAX_VALUE,c=0,a){t.next=7;break}return t.abrupt("return");case 7:if(n&&(h=new cg.Gunzip(new Uint8Array(a)),a=h.decompress().buffer),u=new wy(new DataView(a)),l=u.getInt(),f={},!(21578050===l||n&&21578324===l)){t.next=17;break}if(p=u.getInt(),n)for(u.getInt(),u.getInt(),u.getInt(),u.getInt(),u.getInt(),u.getInt(),u.getInt(),d=0;d<p;d++)g=u.getString(),i&&(g=i.getChromosomeName(g)),f[g]=d;for(v=0;v<p;v++){for(m={},y=[],b=u.getInt(),w=0;w<b;w++)if(37450===(x=u.getInt()))u.getInt(),u.getVPointer(),u.getVPointer(),u.getLong(),u.getLong();else for(m[x]=[],k=u.getInt(),S=0;S<k;S++)_=u.getVPointer(),C=u.getVPointer(),_&&C&&(_.block<s&&(s=_.block),C.block>c&&(c=C.block),m[x].push([_,C]));for(A=u.getInt(),E=0;E<A;E++)R=u.getVPointer(),y.push(R);b>0&&(o[v]={binIndex:m,linearIndex:y})}t.next=18;break;case 17:throw new Error(e+" is not a "+(n?"tabix":"bai")+" file");case 18:return t.abrupt("return",new _y(o,s,c,f,n));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _y=function(t,e,r,n,i){this.firstAlignmentBlock=e,this.lastAlignmentBlock=r,this.indices=t,this.sequenceIndexMap=n,this.tabix=i};function Cy(t,e,r){return Ay.apply(this,arguments)}function Ay(){return(Ay=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(t){var e=t.getString();n&&(e=n.getChromosomeName(e));for(var r=t.getInt(),i=t.getInt(),a=t.getInt(),o=(t.getInt(),t.getInt(),t.getLong()),s=new Array,c=0;c<i;c++){var h=t.getLong();s.push({min:o,max:h}),o=h}return{chr:e,blocks:s,longestFeature:a,binWidth:r}},h=function(t){t.getInt(),t.getInt();var e=t.getInt();t.getString(),t.getLong(),t.getLong(),t.getString(),t.getInt();if(e>=3)for(var r=t.getInt();r-- >0;)t.getString(),t.getString()},t.next=4,lv.loadArrayBuffer(e,Mg(r));case 4:if(!(i=t.sent)){t.next=14;break}for(a={},o=new wy(new DataView(i)),h(o),s=o.getInt();s-- >0;)c=u(o),a[c.chr]=c;return t.abrupt("return",new Ey(a));case 14:return t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}_y.prototype.blocksForRange=function(t,e,r){var n=this.indices[t];if(n){var i=function(t,e){var r,n=[];e>=1<<29&&(e=1<<29);for(--e,n.push(0),r=1+(t>>26);r<=1+(e>>26);++r)n.push(r);for(r=9+(t>>23);r<=9+(e>>23);++r)n.push(r);for(r=73+(t>>20);r<=73+(e>>20);++r)n.push(r);for(r=585+(t>>17);r<=585+(e>>17);++r)n.push(r);for(r=4681+(t>>14);r<=4681+(e>>14);++r)n.push(r);return n}(e,r),a=[];i.forEach((function(t){if(n.binIndex[t])for(var e=n.binIndex[t],r=e.length,i=0;i<r;++i){var o=e[i][0],s=e[i][1];a.push({minv:o,maxv:s,bin:t})}}));for(var o=n.linearIndex.length,s=null,c=Math.min(e>>14,o-1),h=Math.min(r>>14,o-1),u=c;u<=h;++u){var l=n.linearIndex[u];l&&(s&&!l.isLessThan(s)||(s=l))}return function(t,e){var r=[],n=null;return 0===t.length?t:(t.sort((function(t,e){var r=t.minv.block-e.minv.block;return 0!==r?r:t.minv.offset-e.minv.offset})),t.forEach((function(t){var i,a;e&&!t.maxv.isGreaterThan(e)||(null===n?(r.push(t),n=t):(i=n,(a=t).minv.block-i.maxv.block<65e3&&a.maxv.block-i.minv.block<5e6?t.maxv.isGreaterThan(n.maxv)&&(n.maxv=t.maxv):(r.push(t),n=t)))})),r)}(a,s)}return[]};var Ey=function(){function t(e){qr(this,t),this.chrIndex=e}return Gr(t,[{key:"blocksForRange",value:function(t,e,r){var n=this.chrIndex[t];if(n){var i=n.blocks,a=n.longestFeature,o=n.binWidth,s=Math.max(e-a,0),c=Math.floor(s/o);if(c>=i.length)return[];var h=Math.min(Math.floor((r-1)/o),i.length-1),u=i[c].min,l=i[h].max;return 0===l-u?[]:[{minv:{block:u,offset:0},maxv:{block:l,offset:0}}]}}}]),t}(),Ry=function(t,e){var r;this.config=t||{},this.genome=e,this.indexURL=t.indexURL,this.indexed=t.indexed,tv(this.config.url)?this.filename=this.config.url.name:ug(this.config.url)&&this.config.url.startsWith("data:")?(this.indexed=!1,this.dataURI=t.url):(r=rv(this.config.url),this.filename=t.filename||r.file),this.format=this.config.format,this.parser=this.getParser(this.format,this.config.decode,this.config)};Ry.prototype.readFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getIndex();case 2:if(!t.sent){t.next=7;break}return t.abrupt("return",this.loadFeaturesWithIndex(e,r,n));case 7:if(!this.dataURI){t.next=11;break}return t.abrupt("return",this.loadFeaturesFromDataURI());case 11:return t.abrupt("return",this.loadFeaturesNoIndex());case 12:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),Ry.prototype.readHeader=jr(regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s,c,h,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.header){t.next=39;break}if(!this.dataURI){t.next=9;break}return t.next=4,this.loadFeaturesFromDataURI(this.dataURI);case 4:r=t.sent,(e=this.header||{}).features=r,t.next=39;break;case 9:if(!this.config.indexURL&&!this.config.indexed){t.next=31;break}return t.next=12,this.getIndex();case 12:if(n=t.sent){t.next=16;break}throw i=this.config.indexURL||this.config.url,new Error("Unable to load index: "+i);case 16:if(a="vcf"===this.config.format?65e3:1e3,!n.tabix){t.next=24;break}return o=Mg(this.config,{range:{start:n.firstAlignmentBlock,size:26}}),t.next=21,lv.loadArrayBuffer(this.config.url,o);case 21:s=t.sent,c=Xg(s),a=n.firstAlignmentBlock+c;case 24:return h=Mg(this.config,{bgz:n.tabix,range:{start:0,size:a}}),t.next=27,lv.loadString(this.config.url,h);case 27:u=t.sent,e=this.parser.parseHeader(u),t.next=36;break;case 31:return t.next=33,this.loadFeaturesNoIndex();case 33:l=t.sent,(e=this.header||{}).features=l;case 36:return e&&this.parser&&(this.parser.header=e),this.header=e,t.abrupt("return",e);case 39:return t.abrupt("return",this.header);case 40:case"end":return t.stop()}}),t,this)}))),Ry.prototype.getParser=function(t,e,r){switch(t){case"vcf":return new my(r);case"seg":return new cy;case"gcnv":return new by;default:return new Nm(t,e,this.config)}},Ry.prototype.loadFeaturesNoIndex=jr(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Mg(this.config),t.next=3,lv.loadString(this.config.url,e);case 3:return r=t.sent,this.header=this.parser.parseHeader(r),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),t.abrupt("return",this.parser.parseFeatures(r));case 7:case"end":return t.stop()}}),t,this)}))),Ry.prototype.loadFeaturesWithIndex=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h,u,l,f,p,d,g,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.config,a=this.parser,o=this.index.tabix,s=o?this.index.sequenceIndexMap[e]:e,c=[],h=this.genome,(u=this.index.blocksForRange(s,r,n))&&0!==u.length){t.next=11;break}return t.abrupt("return",[]);case 11:l=!0,f=!1,p=void 0,t.prev=14,d=regeneratorRuntime.mark((function t(){var s,u,l,f,p,d,g,m,y,b,w,x,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k=function(t){for(var i=l?t.slice(l):t,o=a.parseFeatures(i),s=!1,u=0;u<o.length;u++){var f=o[u];if(h.getChromosomeName(f.chr)!==e){if(0===c.length)continue;break}if(f.start>n){c.push(f);break}f.end>=r&&f.start<=n&&(s||(s=!0,u>0&&c.push(o[u-1])),c.push(f))}},s=v.value,u=s.minv.block,l=s.minv.offset,f=s.maxv.offset,p=void 0,!o){t.next=17;break}if(d=0,!(f>0)){t.next=14;break}return g=Mg(i,{range:{start:s.maxv.block,size:26}}),t.next=12,lv.loadArrayBuffer(i.url,g);case 12:m=t.sent,d=Xg(m);case 14:p=s.maxv.block+d,t.next=18;break;case 17:p=s.maxv.block;case 18:if(y=Mg(i,{range:{start:u,size:p-u+1}}),!o){t.next=27;break}return t.next=22,lv.loadArrayBuffer(i.url,y);case 22:b=t.sent,w=Zg(b),k(w),t.next=31;break;case 27:return t.next=29,lv.loadString(i.url,y);case 29:x=t.sent,k(x);case 31:case"end":return t.stop()}}),t)})),g=u[Symbol.iterator]();case 17:if(l=(v=g.next()).done){t.next=22;break}return t.delegateYield(d(),"t0",19);case 19:l=!0,t.next=17;break;case 22:t.next=28;break;case 24:t.prev=24,t.t1=t.catch(14),f=!0,p=t.t1;case 28:t.prev=28,t.prev=29,l||null==g.return||g.return();case 31:if(t.prev=31,!f){t.next=34;break}throw p;case 34:return t.finish(31);case 35:return t.finish(28);case 36:return c.sort((function(t,e){return t.start-e.start})),t.abrupt("return",c);case 38:case"end":return t.stop()}}),t,this,[[14,24,28,36],[29,,31,35]])})));return function(e,r,n){return t.apply(this,arguments)}}(),Ry.prototype.getIndex=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this.index&&!1!==this.indexed){t.next=2;break}return t.abrupt("return",this.index);case 2:return t.next=4,this.loadIndex();case 4:return(e=t.sent)?(this.index=e,this.indexed=!0):this.indexed=!1,t.abrupt("return",this.index);case 7:case"end":return t.stop()}}),t,this)}))),Ry.prototype.loadIndex=jr(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.config.indexURL,t.prev=1,!this.filename.endsWith(".gz")&&!this.filename.endsWith(".bgz")){t.next=9;break}return e||(e=this.config.url+".tbi"),t.next=6,ky(e,this.config,!0,this.genome);case 6:r=t.sent,t.next=13;break;case 9:return e||(e=this.config.url+".idx"),t.next=12,Cy(e,this.config,this.genome);case 12:r=t.sent;case 13:return t.abrupt("return",r);case 16:if(t.prev=16,t.t0=t.catch(1),!this.config.indexURL&&!this.config.indexed){t.next=22;break}throw t.t0;case 22:this.indexed=!1,console.error(t.t0);case 24:case"end":return t.stop()}}),t,this,[[1,16]])}))),Ry.prototype.loadFeaturesFromDataURI=jr(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=ev(this.dataURI),this.header=this.parser.parseHeader(e),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),r=this.parser.parseFeatures(e),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})));var Ty=function(t,e,r){this.treeMap=this.buildTreeMap(t,e),this.range=r,this.count=t.length};function Ly(t){for(var e=new Wv,r=t.length,n=Math.max(10,Math.round(r/10)),i=0;i<r;i+=n){for(var a=Math.min(r,i+n),o=new Iy(i,a),s=t[i].start,c=s,h=i;h<a;h++)c=Math.max(c,t[h].end);e.insert(s,c,o)}return e}Ty.prototype.containsRange=function(t){return void 0===this.range||this.range.contains(t.chr,t.start,t.end)},Ty.prototype.queryFeatures=function(t,e,r){var n=this.treeMap[t];if(!n)return[];var i=n.findOverlapping(e,r);if(0===i.length)return[];var a=[],o=this.allFeatures[t];if(o){var s=!0,c=!1,h=void 0;try{for(var u,l=i[Symbol.iterator]();!(s=(u=l.next()).done);s=!0)for(var f=u.value.value,p=f.start;p<f.end;p++){var d=o[p];if(d.start>r)break;d.end>=e&&a.push(d)}}catch(t){c=!0,h=t}finally{try{s||null==l.return||l.return()}finally{if(c)throw h}}a.sort((function(t,e){return t.start-e.start}))}return a},Ty.prototype.getAllFeatures=function(){return this.allFeatures},Ty.prototype.buildTreeMap=function(t,e){var r={},n=[];if(this.allFeatures={},t){var i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value,u=h.chr;e&&(u=e.getChromosomeName(u));var l=this.allFeatures[u];l||(n.push(u),l=[],this.allFeatures[u]=l),l.push(h)}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var f=!0,p=!1,d=void 0;try{for(var g,v=n[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var m=g.value,y=this.allFeatures[m];y.sort((function(t,e){return t.start===e.start?0:t.start>e.start?1:-1})),r[m]=Ly(y)}}catch(t){p=!0,d=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw d}}}return r};var Iy=function t(e,r){qr(this,t),this.start=e,this.end=r},My=function(t){this.config=t};My.prototype.readFeatures=function(t,e,r){var n=this,i=n.config.url,a=n.config.body;return"all"!==t.toLowerCase()&&(i=i.replace("$CHR",t).replace("$START",e).replace("$END",r),void 0!==a&&(n.config.body=n.config.body.replace("$CHR",t).replace("$START",e).replace("$END",r))),lv.load(i,n.config).then((function(t){if(!t)return[];if("function"==typeof n.config.parser)return n.config.parser(t);if(!ug(t))return t;try{return JSON.parse(t)}catch(e){return t}})).then((function(t){if(n.config.mappings){var e=Object.keys(n.config.mappings);t.forEach((function(t){e.forEach((function(e){t[e]=t[n.config.mappings[e]]}))}))}return t}))};var Py=function(t,e){this.config=t,this.genome=e,this.expandQueryInterval=!1};Py.prototype.readFeatures=function(t,e,r){var n=Math.max(0,Math.floor(e)),i=Math.ceil(r);if(this.genome){var a=this.genome.getChromosome(t);a&&i>a.bpLength&&(i=a.bpLength)}var o=this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+t+"&start="+n+"&end="+i;return lv.loadJson(o,this.config).then((function(t){return t?(t.forEach((function(t){t.hasOwnProperty("exonStarts")&&t.hasOwnProperty("exonEnds")&&t.hasOwnProperty("exonCount")&&t.hasOwnProperty("cdsStart")&&t.hasOwnProperty("cdsEnd")&&function(t){var e,r,n,i,a,o;e=t.exonCount,r=t.exonStarts.split(","),n=t.exonEnds.split(","),i=[];for(var s=0;s<e;s++){a=parseInt(r[s]),o=parseInt(n[s]);var c={start:a,end:o};(t.cdsStart>o||t.cdsEnd<t.cdsStart)&&(c.utr=!0),t.cdsStart>=a&&t.cdsStart<=o&&(c.cdStart=t.cdsStart),t.cdsEnd>=a&&t.cdsEnd<=o&&(c.cdEnd=t.cdsEnd),i.push(c)}t.exons=i}(t)})),t):null}))};var Oy=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna"]),Ny=new Set(["CDS","cds"]),Fy=new Set(["start_codon","stop_codon"]),Dy=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),By=new Set(["exon","coding-exon"]),zy=function(t){this.format=t.format,t.filterTypes&&(this.filterTypes=new Set(t.filterTypes))};function Uy(t){var e=Object.create(null),r=[],n=new Set,i=this.filterTypes;t=t.filter((function(t){return void 0===i||!i.has(t.type)}));var a=!0,o=!1,s=void 0;try{for(var c,h=t[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var u=c.value;if(Oy.has(u.type)){var l=u.id;if(void 0!==l){var f=new $y(u);e[l]=f,r.push(f),n.add(u)}}}}catch(t){o=!0,s=t}finally{try{a||null==h.return||h.return()}finally{if(o)throw s}}var p=!0,d=!1,g=void 0;try{for(var v,m=t[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var y=v.value;if(By.has(y.type)){var b=y.id;if(b){var w=e[b];void 0===w&&(w=new $y(y),e[b]=w,r.push(w)),w.addExon(y),n.add(y)}}}}catch(t){d=!0,g=t}finally{try{p||null==m.return||m.return()}finally{if(d)throw g}}var x=!0,k=!1,S=void 0;try{for(var _,C=t[Symbol.iterator]();!(x=(_=C.next()).done);x=!0){var A=_.value;if(Ny.has(A.type)||Dy.has(A.type)||Fy.has(A.type)){var E=A.id;if(E){var R=e[E];void 0===R&&(R=new $y(A),e[E]=R,r.push(R)),Dy.has(A.type)?R.addUTR(A):Ny.has(A.type)?R.addCDS(A):Fy.has(A.type),n.add(A)}}}}catch(t){k=!0,S=t}finally{try{x||null==C.return||C.return()}finally{if(k)throw S}}for(var T=0,L=r;T<L.length;T++){var I=L[T];"function"==typeof I.finish&&I.finish()}var M=t.filter((function(t){return!n.has(t)})),P=!0,O=!1,N=void 0;try{for(var F,D=M[Symbol.iterator]();!(P=(F=D.next()).done);P=!0){var B=F.value;r.push(B)}}catch(t){O=!0,N=t}finally{try{P||null==D.return||D.return()}finally{if(O)throw N}}return r.sort((function(t,e){return t.start-e.start})),r}function Hy(t){var e=Object.create(null),r=[],n=new Set,i=this.filterTypes;t=t.filter((function(t){return void 0===i||!i.has(t.type)}));var a=!0,o=!1,s=void 0;try{for(var c,h=t[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var u=c.value;if(Oy.has(u.type)){var l=u.id;if(void 0!==l){var f=new $y(u);e[l]=f,r.push(f),n.add(u)}}}}catch(t){o=!0,s=t}finally{try{a||null==h.return||h.return()}finally{if(o)throw s}}var p=!0,d=!1,g=void 0;try{for(var v,m=t[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var y=v.value;if(By.has(y.type)){var b=G(y);if(b){var w=!0,x=!1,k=void 0;try{for(var S,_=b[Symbol.iterator]();!(w=(S=_.next()).done);w=!0){var C=e[S.value];void 0!==C&&(C.addExon(y),n.add(y))}}catch(t){x=!0,k=t}finally{try{w||null==_.return||_.return()}finally{if(x)throw k}}}}}}catch(t){d=!0,g=t}finally{try{p||null==m.return||m.return()}finally{if(d)throw g}}var A=!0,E=!1,R=void 0;try{for(var T,L=t[Symbol.iterator]();!(A=(T=L.next()).done);A=!0){var I=T.value;if(Ny.has(I.type)||Dy.has(I.type)||Fy.has(I.type)){var M=G(I);if(M){var P=!0,O=!1,N=void 0;try{for(var F,D=M[Symbol.iterator]();!(P=(F=D.next()).done);P=!0){var B=e[F.value];void 0!==B&&(Dy.has(I.type)?B.addUTR(I):Ny.has(I.type)?B.addCDS(I):Fy.has(I.type),n.add(I))}}catch(t){O=!0,N=t}finally{try{P||null==D.return||D.return()}finally{if(O)throw N}}}}}}catch(t){E=!0,R=t}finally{try{A||null==L.return||L.return()}finally{if(E)throw R}}r.forEach((function(t){"function"==typeof t.finish&&t.finish()}));var z=t.filter((function(t){return!n.has(t)})),U=!0,H=!1,$=void 0;try{for(var j,q=z[Symbol.iterator]();!(U=(j=q.next()).done);U=!0){var V=j.value;r.push(V)}}catch(t){H=!0,$=t}finally{try{U||null==q.return||q.return()}finally{if(H)throw $}}return r.sort((function(t,e){return t.start-e.start})),r;function G(t){return t.parent&&""!==t.parent.trim()?t.parent.trim().split(","):null}}zy.prototype.combineFeatures=function(t){return"gff3"===this.format?Hy.call(this,t):Uy.call(this,t)};var $y=function(t){Object.assign(this,t),this.exons=[]};$y.prototype.addExon=function(t){this.exons.push(t),this.start=Math.min(this.start,t.start),this.end=Math.max(this.end,t.end)},$y.prototype.addCDS=function(t){for(var e,r=this.exons,n=0;n<r.length;n++)if(r[n].start<=t.start&&r[n].end>=t.end){e=r[n];break}e?(e.cdStart=e.cdStart?Math.min(t.start,e.cdStart):t.start,e.cdEnd=e.cdEnd?Math.max(t.end,e.cdEnd):t.end,e.children||(e.children=[]),e.children.push(t)):(t.cdStart=t.start,t.cdEnd=t.end,r.push(t)),this.start=Math.min(this.start,t.start),this.end=Math.max(this.end,t.end),this.cdStart=this.cdStart?Math.min(t.start,this.cdStart):t.start,this.cdEnd=this.cdEnd?Math.max(t.end,this.cdEnd):t.end},$y.prototype.addUTR=function(t){for(var e,r=this.exons,n=0;n<r.length;n++)if(r[n].start<=t.start&&r[n].end>=t.end){e=r[n];break}e?(t.start===e.start&&t.end===e.end?e.utr=!0:(t.end<e.end&&(e.cdStart=t.end),t.start>e.start&&(e.cdEnd=t.start)),e.children||(e.children=[]),e.children.push(t)):(t.utr=!0,r.push(t)),this.start=Math.min(this.start,t.start),this.end=Math.max(this.end,t.end)},$y.prototype.finish=function(){var t=this.cdStart,e=this.cdEnd;this.exons.sort((function(t,e){return t.start-e.start})),t&&this.exons.forEach((function(r){(r.end<t||r.start>e)&&(r.utr=!0)}))},$y.prototype.popupData=function(t){var e=this.attributeString.split(";"),r=[];r.push({name:"type",value:this.type}),r.push({name:"start",value:this.start+1}),r.push({name:"end",value:this.end});var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value.trim().split(this.delim,2);if(2===c.length&&void 0!==c[1]){var h=c[0].trim(),u=c[1].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),r.push({name:h,value:u})}}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var l=!0,f=!1,p=void 0;try{for(var d,g=this.exons[Symbol.iterator]();!(l=(d=g.next()).done);l=!0){var v=d.value;if(t>=v.start&&t<v.end){r.push("<hr>");var m=v.popupData(t),y=!0,b=!1,w=void 0;try{for(var x,k=m[Symbol.iterator]();!(y=(x=k.next()).done);y=!0){var S=x.value;r.push(S)}}catch(t){b=!0,w=t}finally{try{y||null==k.return||k.return()}finally{if(b)throw w}}if(v.children){var _=!0,C=!1,A=void 0;try{for(var E,R=v.children[Symbol.iterator]();!(_=(E=R.next()).done);_=!0){var T=E.value;r.push("<hr>");var L=T.popupData(t),I=!0,M=!1,P=void 0;try{for(var O,N=L[Symbol.iterator]();!(I=(O=N.next()).done);I=!0){var F=O.value;r.push(F)}}catch(t){M=!0,P=t}finally{try{I||null==N.return||N.return()}finally{if(M)throw P}}}}catch(t){C=!0,A=t}finally{try{_||null==R.return||R.return()}finally{if(C)throw A}}}}}}catch(t){f=!0,p=t}finally{try{l||null==g.return||g.return()}finally{if(f)throw p}}return r};var jy=function(t){this.config=t,this.url=t.url,this.tissueId=t.tissueSiteDetailId,this.indexed=!0,this.datasetId=t.datasetId||"gtex_v8"};jy.prototype.readFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this,a=e.startsWith("chr")?e:"chr"+e,o=Math.floor(r),s=Math.ceil(n),c=this.datasetId,h=this.url+"?chromosome="+a+"&start="+o+"&end="+s+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+c,t.next=3,lv.loadJson(h,{withCredentials:i.config.withCredentials});case 3:if(!(u=t.sent)||!u.singleTissueEqtl){t.next=9;break}return u.singleTissueEqtl.forEach((function(t){t.chr=t.chromosome,t.position=t.pos,t.start=t.pos-1,t.end=t.start+1,t.snp=t.snpId,t.geneName=t.geneSymbol,t.geneId=t.gencodeId})),t.abrupt("return",u.singleTissueEqtl);case 9:return t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}();var qy=function(t){this.config=t,this.url=t.url,this.cellConditionId=t.cellConditionId,this.valueThreshold=t.valueThreshold?t.valueThreshold:.05};function Vy(t){var e=t.url+"/"+t.entity+"/"+t.entityId;return t.headers={"Cache-Control":"no-cache"},lv.loadJson(e,t)}function Gy(t){return new Promise((function(e,r){var n=t.results?t.results:[],i=t.url,a=t.body,o=t.decode,s=qg.apiKey,c="?",h=t.fields;return s&&(i=i+c+"key="+s,c="&"),h&&(i=i+c+"fields="+h),function t(s){s?a.pageToken=s:void 0!==a.pageToken&&delete a.pageToken;var c=JSON.stringify(a);lv.loadJson(i,{sendData:c,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then((function(r){var i,a;r?((a=o?o(r):r)&&a.forEach((function(t){n.push(t)})),(i=r.nextPageToken)?t(i):e(n)):e(n)})).catch((function(t){r(t)}))}()}))}qy.prototype.readFeatures=function(t,e,r){var n=this,i=this.url+"?chromosome="+t+"&start="+e+"&end="+r+"&cell_condition_id="+this.cellConditionId;return new Promise((function(t,e){lv.loadJson(i,{withCredentials:n.config.withCredentials}).then((function(e){e?(e.eqtls.forEach((function(t){t.chr=t.chromosome,t.start=t.position,t.end=t.position+1})),t(e.eqtls)):t(null)})).catch((function(t){e(t)}))}))};var Wy=function(t,e){this.config=t,this.genome=e,this.url=t.url,this.variantSetId=t.variantSetId,this.callSetIds=t.callSetIds,this.includeCalls=void 0===t.includeCalls||t.includeCalls};Wy.prototype.readHeader=function(){var t=this;return t.header?Promise.resolve(t.header):(t.header={},!1===t.includeCalls?Promise.resolve(t.header):Gy({url:t.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(t.variantSetId)?t.variantSetId:[t.variantSetId],pageSize:"10000"},decode:function(e){if(t.callSetIds){var r=[],n=new Set;return t.callSetIds.forEach((function(t){n.add(t)})),e.callSets.forEach((function(t){n.has(t.id)&&r.push(t)})),r}return e.callSets}}).then((function(e){return t.header.callSets=e,t.header})))},Wy.prototype.readFeatures=function(t,e,r){var n=this,i=this.genome;return n.readHeader().then((function(t){return new Promise((function(t,e){n.chrAliasTable?t(n.chrAliasTable):n.readMetadata().then((function(e){n.metadata=e.metadata,n.chrAliasTable={},e.referenceBounds&&i&&e.referenceBounds.forEach((function(t){var e=t.referenceName,r=i.getChromosomeName(e);n.chrAliasTable[r]=e})),t(n.chrAliasTable)}))}))})).then((function(i){var a=i.hasOwnProperty(t)?i[t]:t;return Gy({url:n.url+"/variants/search",fields:n.includeCalls?void 0:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(n.variantSetId)?n.variantSetId:[n.variantSetId],callSetIds:n.callSetIds?n.callSetIds:void 0,referenceName:a,start:e.toString(),end:r.toString(),pageSize:"10000"},decode:function(t){var e,r=[];return t.variants.forEach((function(t){(e=function(t){var e,r=new dy;return r.chr=t.referenceName,r.start=parseInt(t.start),r.end=parseInt(t.end),r.pos=r.start+1,r.names=vy(t.names,"; "),r.referenceBases=t.referenceBases,r.alternateBases=vy(t.alternateBases),r.quality=t.quality,r.filter=vy(t.filter),r.info={},t.info&&Object.keys(t.info).forEach((function(e){var n,i=t.info[e];n=Array.isArray(i)?i.join(","):i,r.info[e]=n})),r.calls={},t.calls&&t.calls.forEach((function(t){e=t.callSetId,r.calls[e]=t})),ly(r),r}(t)).isRefBlock()||r.push(e)})),r}})}))},Wy.prototype.readMetadata=function(){return Vy({url:this.url,entity:"variantsets",entityId:this.variantSetId})};var Zy=function(t){this.config=t};function Xy(t,e,r,n){if(this.chr=t,this.start=e,this.end=r,this.id=n.id,this.entrezName=n.entrez_name,this.name=n.name,this.actionabilityScore=n.civic_actionability_score,n.coordinates.reference_bases&&(this.refBases=n.coordinates.reference_bases),n.coordinates.variant_bases&&(this.altBases=n.coordinates.variant_bases),n.variant_types&&(this.variant_types=n.variant_types),this.locationString=this.chr+":"+lg(this.start+1)+"-"+lg(this.end),void 0!==this.actionabilityScore){var i;if(this.actionabilityScore<=10)i=.2;else{var a=Math.min(30,this.actionabilityScore);i=.2+.8*Math.log10((a-10)/2)}this.alpha=i}}Zy.prototype.readFeatures=function(t,e,r){return lv.loadJson(this.config.url+"/variants/?count=5000").then((function(t){var e=t.records,r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;if(c.coordinates){c.id;var h=c.coordinates;h.chromosome&&r.push(new Xy(h.chromosome,h.start-1,h.stop,c)),h.chromosome2&&r.push(new Xy(h.chromosome2,h.start2-1,h.stop2,c))}}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}))},Xy.prototype.popupData=function(){var t=u("CIViC","https://civicdb.org/links/variants/"+this.id),e=(this.refBases!==this.altBases&&this.refBases&&1===this.refBases.length&&this.altBases&&this.altBases.length,[t]);if(e.push({name:"Entrez",value:u(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),e.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){var r,n=1===this.variant_types.length?"Type":"Types",i=!0,a=!1,o=void 0;try{for(var s,c=this.variant_types[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value;r?r+=", "+h.display_name:r=h.display_name}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}e.push({name:n,value:r})}return e.push({name:"Actionability",value:this.actionabilityScore}),e.push({name:"Location",value:this.locationString}),e;function u(t,e){return"<a target='_blank' href='"+e+"'>"+t+"</a>"}};var Yy=new Set(["bigwig","bw","bigbed","bb","tdf"]),Ky=function(t,e){if(this.config=t||{},this.genome=e,this.sourceType=void 0===t.sourceType?"file":t.sourceType,void 0===t.filterTypes&&(t.filterTypes=["chromosome","gene"]),t.features&&Array.isArray(t.features)){var r=t.features;Jy(r),t.mappings&&function(t,e){var r=Object.keys(e);t.forEach((function(t){r.forEach((function(r){t[r]=t[e[r]]}))}))}(r,t.mappings),this.featureCache=new Ty(r,e),this.static=!0}else"ga4gh"===t.sourceType?(this.reader=new Wy(t,e),this.queryable=!0):"immvar"===t.sourceType?(this.reader=new qy(t),this.queryable=!0):"eqtl"===t.type&&"gtex-ws"===t.sourceType?(this.reader=new jy(t),this.queryable=!0):"ucscservice"===t.sourceType?(this.reader=new Py(t.source),this.queryable=!0):"custom"===t.sourceType||void 0!==t.source?(this.reader=new My(t.source),this.queryable=void 0===t.source.queryable||t.source.queryable):"civic-ws"===t.sourceType?(this.reader=new Zy(t),this.queryable=!1):(this.reader=new Ry(t,e),void 0!==t.queryable?this.queryable=t.queryable:Yy.has(t.format)&&(this.queryable=Yy.has(t.format)||this.reader.indexed));this.supportsWG=!this.queryable};function Qy(t){var e=this;t.forEach((function(t){t.name&&(e.config.browser.featureDB[t.name.toUpperCase()]=t)}))}function Jy(t,e){if(e=e||1e3,null!=t&&0!==t.length){var r={},n=[];t.forEach((function(t){var e=t.chr,i=r[e];i||(i=[],r[e]=i,n.push(e)),i.push(t)})),n.forEach((function(t){!function(t,e){var r=[];t.sort((function(t,e){return t.start-e.start})),r.push(-1e3);var n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,h=0,u=Math.min(r.length,e);for(h=0;h<u;h++)if(c.start>r[h]){c.row=h,r[h]=c.end;break}c.row=h,r[h]=c.end}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}(r[t],e)}))}}Ky.prototype.supportsWholeGenome=function(){return this.supportsWG},Ky.prototype.getFileHeader=jr(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.header){t.next=10;break}if(!this.reader||"function"!=typeof this.reader.readHeader){t.next=9;break}return t.next=4,this.reader.readHeader();case 4:(e=t.sent)&&(this.header=e,(r=e.features)&&this.ingestFeatures(r),e.format&&(this.config.format=e.format)),this.header=e,t.next=10;break;case 9:this.header={};case 10:return t.abrupt("return",this.header);case 11:case"end":return t.stop()}}),t,this)}))),Ky.prototype.getFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n,i,a){var o,s,c,h,u,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=function(){return(f=jr(regeneratorRuntime.mark((function t(){var i,s,h,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h=new zg(c,i=r,s=n),!this.featureCache||!this.static&&!this.featureCache.containsRange(h)&&"all"!==e.toLowerCase()){t.next=7;break}return t.abrupt("return",this.featureCache);case 7:return void 0!==a&&(a<=0?(i=0,s=Number.MAX_VALUE):a>n-r&&(u=Math.min(4.1*(n-r),a),i=Math.max(0,(r+n-u)/2),s=r+u)),h=new zg(c,i,s),t.next=11,o.readFeatures(c,h.start,h.end);case 11:return l=t.sent,void 0===this.queryable&&(this.queryable=o.indexed),l?this.ingestFeatures(l,h):this.featureCache=new Ty,t.abrupt("return",this.featureCache);case 15:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)},l=function(){return f.apply(this,arguments)},o=this.reader,s=this.genome,c=s?s.getChromosomeName(e):e,t.next=7,l.call(this);case 7:if(h=t.sent,u=this.queryable,"all"!==e.toLowerCase()){t.next=22;break}if(!u){t.next=14;break}return t.abrupt("return",[]);case 14:if(!(h.count>5e5)){t.next=19;break}return this.supportsWG=!1,t.abrupt("return",[]);case 19:return t.abrupt("return",this.getWGFeatures(h.getAllFeatures()));case 20:t.next=23;break;case 22:return t.abrupt("return",h.queryFeatures(c,r,n));case 23:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i,a){return t.apply(this,arguments)}}(),Ky.prototype.ingestFeatures=function(t,e){("gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(t=new zy(this.config).combineFeatures(t)),"wig"!==this.config.format&&"junctions"!==this.config.type)&&Jy(t,this.config.maxRows||500);this.featureCache=this.queryable?new Ty(t,this.genome,e):new Ty(t,this.genome),this.config.searchable&&Qy.call(this,t)},Ky.prototype.getWGFeatures=function(t){var e=this.genome,r=new Set(e.wgChromosomeNames),n=[],i=!0,a=!1,o=void 0;try{for(var s,c=e.wgChromosomeNames[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=t[s.value];if(h){var u=!0,l=!1,f=void 0;try{for(var p,d=h[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var g=p.value,v=e.getChromosomeName(g.chr);if(r.has(v)){var m=Object.create(Object.getPrototypeOf(g));Object.assign(m,g),m.realChr=g.chr,m.realStart=g.start,m.realEnd=g.end,m.chr="all",m.start=e.getGenomeCoordinate(g.chr,g.start),m.end=e.getGenomeCoordinate(g.chr,g.end),m.exons&&delete m.exons,m.popupData=function(t){var r=Object.assign({},this);return r.chr=this.realChr,r.start=this.realStart+1,r.end=this.realEnd,delete r.realChr,delete r.realStart,delete r.realEnd,hy.extractPopupData(r,e.id)},n.push(m)}}}catch(t){l=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(l)throw f}}}}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n.sort((function(t,e){return t.start-e.start})),n};var tb=n.isFinite,eb=Number.isFinite||function(t){return"number"==typeof t&&tb(t)};It({target:"Number",stat:!0},{isFinite:eb});var rb=function(t,e,r){this.path=t.url,this.bufferSize=r||512e3,this.range={start:-1,size:-1},this.config=t};rb.prototype.dataViewForRange=function(t,e){var r,n,i=this;return i.data&&i.range.start<=t.start&&i.range.start+i.range.size>=t.start+t.size?Promise.resolve(a(i,t,e)):(r=t.size?Math.max(i.bufferSize,t.size):i.bufferSize,n={start:t.start,size:r},lv.loadArrayBuffer(i.path,Mg(i.config,{range:n})).then((function(r){return i.data=r,i.range=n,a(i,t,e)})));function a(t,e,r){var n=t.data.byteLength,i=e.start-t.range.start;return r?new Uint8Array(t.data,i,n-i):new DataView(t.data,i,n-i)}};var nb=function(t,e){this.path=t.url,this.genome=e,this.rpTreeCache={},this.config=t};function ib(t,e){this.index=t,this.reductionLevel=e.getInt(),this.reserved=e.getInt(),this.dataOffset=e.getLong(),this.indexOffset=e.getLong()}function ab(t,e,r){this.config=e,this.fileOffset=t,this.path=e.url,this.littleEndian=r}function ob(t){this.items=t;var e,r,n=Number.MAX_VALUE,i=0,a=Number.MAX_VALUE,o=0;for(e=0;e<t.length;e++)r=t[e],n=Math.min(n,r.startChrom),i=Math.max(i,r.endChrom),a=Math.min(a,r.startBase),o=Math.max(o,r.endBase);this.startChrom=n,this.endChrom=i,this.startBase=a,this.endBase=o}function sb(t,e,r){var n=t.getInt(),i=t.getInt(),a=t.getInt(),o=t.getInt(),s=t.getLong(),c=t.getLong(),h={},u=[];this.header={magic:n,blockSize:i,keySize:a,valSize:o,itemCount:s,reserved:c},this.chromToID=h,this.idToChrom=u,function t(n,i){i>=0&&(n.position=i);var o,s,c,l,f,p,d=n.getByte(),g=(n.getByte(),n.getUShort());if(1===d)for(o=0;o<g;o++)s=n.getFixedLengthTrimmedString(a),c=n.getInt(),n.getInt(),r&&(s=r.getChromosomeName(s)),h[s]=c,u[c]=s;else for(o=0;o<g;o++)s=n.getFixedLengthTrimmedString(a),l=n.getLong(),f=l-e,p=n.position,t(n,f),n.position=p}(t,-1)}function cb(t,e,r,n,i){return!!t&&((n>t.startChrom||n===t.startChrom&&i>=t.startBase)&&(e<t.endChrom||e===t.endChrom&&r<=t.endBase))}function hb(t){t?(this.basesCovered=t.getLong(),this.minVal=t.getDouble(),this.maxVal=t.getDouble(),this.sumData=t.getDouble(),this.sumSquares=t.getDouble(),ub.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)}function ub(){var t=this.basesCovered;if(t>0){this.mean=this.sumData/t,this.stddev=Math.sqrt(this.sumSquares/(t-1));var e=this.minVal<0?this.mean-2*this.stddev:0,r=this.maxVal>0?this.mean+2*this.stddev:0;this.defaultRange={min:e,max:r}}}function lb(t,e,r,n,i,a,o){var s,c,h=new wy(t),u=h.getInt(),l=h.getInt(),f=h.getInt(),p=h.getInt(),d=h.getInt(),g=h.getByte(),v=(h.getByte(),h.getUShort());if(u>=e&&u<=n)for(;v-- >0;){switch(g){case 1:l=h.getInt(),f=h.getInt(),s=h.getFloat();break;case 2:l=h.getInt(),s=h.getFloat(),f=l+d;break;case 3:s=h.getFloat(),f=l+d,l+=p}if(!(u<e||u===e&&f<r)){if(u>n||u===n&&l>=i)break;Number.isFinite(s)&&(c=o[u],a.push({chr:c,start:l,end:f,value:s}))}}}function fb(t,e,r,n,i,a,o){for(var s,c,h,u,l,f,p,d,g,v,m,y,b,w=new wy(t);w.remLength()>=13;)if(b=o[s=w.getInt()],c=w.getInt(),h=w.getInt(),u=w.getString(),!(s<e||s===e&&h<r)){if(s>n||s===n&&c>=i)break;if(f={chr:b,start:c,end:h},a.push(f),(l=u.split("\t")).length>0&&(f.name=l[0]),l.length>1&&(f.score=parseFloat(l[1])),l.length>2&&(f.strand=l[2]),l.length>3&&(f.cdStart=parseInt(l[3])),l.length>4&&(f.cdEnd=parseInt(l[4])),l.length>5&&"."!==l[5]&&"0"!==l[5]&&"-1"!==l[5]){var x=gg.createColorString(l[5]);f.color=x.startsWith("rgb")?x:void 0}if(l.length>8){p=parseInt(l[6]),d=l[7].split(","),g=l[8].split(","),v=[];for(var k=0;k<p;k++)y=(m=c+parseInt(g[k]))+parseInt(d[k]),v.push({start:m,end:y});f.exons=v}}}function pb(t,e,r,n,i,a,o,s){for(var c,h,u,l,f,p,d,g,v,m=new wy(t);m.remLength()>=32;){switch(v=o[c=m.getInt()],h=m.getInt(),u=m.getInt(),l=m.getInt(),f=m.getFloat(),p=m.getFloat(),d=m.getFloat(),m.getFloat(),s){case"min":g=f;break;case"max":g=p;break;default:g=0===l?0:d/l}if(!(c<e||c===e&&u<r)){if(c>n||c===n&&h>=i)break;Number.isFinite(g)&&a.push({chr:v,start:h,end:u,value:g})}}}nb.prototype.readWGFeatures=function(t,e){var r=this;this.genome;return r.getZoomHeaders().then((function(n){var i,a,o;return 0,i=r.chromTree.idToChrom.length-1,a=r.chromTree.idToChrom[0],o=r.chromTree.idToChrom[i],r.readFeatures(a,0,o,Number.MAX_VALUE,t,e)}))},nb.prototype.readFeatures=function(t,e,r,n,i,a){var o,s,c,h=this;return h.getZoomHeaders().then((function(t){var e,r=function(t,e){var r,n,i=null;for(r=0;r<e.length;r++)if((n=e[r]).reductionLevel<t){i=n;break}return i}(i,t);return r?(e=r.indexOffset,o=pb):(e=h.header.fullIndexOffset,o="BigWig"===h.type?lb:fb),h.loadRPTree(e)})).then((function(i){return s=h.chromTree.chromToID[t],c=h.chromTree.chromToID[r],void 0===s||void 0===c?void 0:i.findLeafItemsOverlapping(s,e,c,n)})).then((function(t){if(t&&0!==t.length){var r=Number.MAX_VALUE,i=0,u=!0,l=!1,f=void 0;try{for(var p,d=t[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var g=p.value;r=Math.min(r,g.dataOffset),i=Math.max(i,g.dataOffset+g.dataSize)}}catch(t){l=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(l)throw f}}var v=i-r;return lv.loadArrayBuffer(h.config.url,Mg(h.config,{range:{start:r,size:v}})).then((function(i){var u=[],l=new Uint8Array(i),f=!0,p=!1,d=void 0;try{for(var g,v=t[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var m=g.value,y=l.subarray(m.dataOffset-r,m.dataOffset+m.dataSize),b=void 0;if(h.header.uncompressBuffSize>0)b=new cg.Inflate(y).decompress();else b=y;o(new DataView(b.buffer),s,e,c,n,u,h.chromTree.idToChrom,a)}}catch(t){p=!0,d=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw d}}return u.sort((function(t,e){return t.start-e.start})),u}))}return[]}))},nb.prototype.getZoomHeaders=function(){var t=this;return t.zoomLevelHeaders?Promise.resolve(t.zoomLevelHeaders):t.loadHeader().then((function(){return t.zoomLevelHeaders}))},nb.prototype.loadHeader=function(){var t=this;return t.header?Promise.resolve(t.header):lv.loadArrayBuffer(t.path,Mg(t.config,{range:{start:0,size:64}})).then((function(e){var r;t.littleEndian=!0;var n=new wy(new DataView(e)),i=n.getUInt();if(2291137574===i)t.type="BigWig";else if(2273964779===i)t.type="BigBed";else{t.littleEndian=!1,n.littleEndian=!1,n.position=0;var a=n.getUInt();654085990===a?t.type="BigWig":3958540679===a&&(t.type="BigBed")}return(r={}).bwVersion=n.getUShort(),r.nZoomLevels=n.getUShort(),r.chromTreeOffset=n.getLong(),r.fullDataOffset=n.getLong(),r.fullIndexOffset=n.getLong(),r.fieldCount=n.getUShort(),r.definedFieldCount=n.getUShort(),r.autoSqlOffset=n.getLong(),r.totalSummaryOffset=n.getLong(),r.uncompressBuffSize=n.getInt(),r.reserved=n.getLong(),r})).then((function(r){return t.header=r,e.call(t)}));function e(){var t=this,e={start:64,size:t.header.fullDataOffset-64+5};return lv.loadArrayBuffer(t.path,Mg(t.config,{range:e})).then((function(e){var r=t.header.nZoomLevels,n=new wy(new DataView(e));t.zoomLevelHeaders=[],t.firstZoomDataOffset=Number.MAX_VALUE;for(var i=1;i<=r;i++){var a=r-i,o=new ib(a,n);t.firstZoomDataOffset=Math.min(o.dataOffset,t.firstZoomDataOffset),t.zoomLevelHeaders[a]=o}if(t.header.autoSqlOffset>0&&(n.position=t.header.autoSqlOffset-64,t.autoSql=n.getString()),t.header.totalSummaryOffset>0&&(n.position=t.header.totalSummaryOffset-64,t.totalSummary=new hb(n)),!(t.header.chromTreeOffset>0))throw"BigWig chromosome tree offset <= 0";return n.position=t.header.chromTreeOffset-64,t.chromTree=new sb(n,64,t.genome),n.position=t.header.fullDataOffset-64,t.header.dataCount=n.getInt(),t.header}))}},nb.prototype.loadRPTree=function(t){var e=this,r=e.rpTreeCache[t];return r?Promise.resolve(r):(r=new ab(t,e.config,e.littleEndian)).load().then((function(){return e.rpTreeCache[t]=r,r}))},ab.prototype.load=function(){var t=this,e=t.fileOffset+48,r=new rb(t.config,512e3);return t.readNode(e,r).then((function(e){return t.rootNode=e,t}))},ab.prototype.readNode=function(t,e){var r,n,i=this;return e.dataViewForRange({start:t,size:4},!1).then((function(a){var o,s;s=(o=new wy(a,i.littleEndian)).getByte(),n=1===s,o.getByte(),r=o.getUShort();var c={start:t+=4,size:r*(n?32:24)};return e.dataViewForRange(c,!1)})).then((function(t){var e,i=new Array(r),a=new wy(t);if(n){for(e=0;e<r;e++){var o={isLeaf:!0,startChrom:a.getInt(),startBase:a.getInt(),endChrom:a.getInt(),endBase:a.getInt(),dataOffset:a.getLong(),dataSize:a.getLong()};i[e]=o}return new ob(i)}for(e=0;e<r;e++){var s={isLeaf:!1,startChrom:a.getInt(),startBase:a.getInt(),endChrom:a.getInt(),endBase:a.getInt(),childOffset:a.getLong()};i[e]=s}return new ob(i)}))},ab.prototype.findLeafItemsOverlapping=function(t,e,r,n){var i=this;return new Promise((function(a,o){var s=[],c=new Set,h=new rb(i.config,512e3);c.add(0),function u(l,f){if(cb(l,t,e,r,n)){l.items.forEach((function(a){cb(a,t,e,r,n)&&(a.isLeaf?s.push(a):a.childNode?u(a.childNode):(c.add(a.childOffset),i.readNode(a.childOffset,h).then((function(t){a.childNode=t,u(t,a.childOffset)})).catch(o)))}))}void 0!==f&&c.delete(f);0===c.size&&a(s)}(i.rootNode,0)}))};var db=function(t,e){this.reader=new nb(t,e),this.genome=e,this.wgValues={}};db.prototype.getFeatures=function(t,e,r,n,i){return"all"===t.toLowerCase()?this.getWGValues(i):this.reader.readFeatures(t,e,t,r,n,i)},db.prototype.getDefaultRange=function(){return void 0!==this.reader.totalSummary?this.reader.totalSummary.defaultRange:void 0},db.prototype.defaultVisibilityWindow=function(){if("bigwig"===this.reader.type)return Promise.resolve(void 0);var t=this.genome?this.genome.getGenomeLength():3088286401;return this.reader.loadHeader().then((function(e){return t/e.dataCount*1e3}))},db.prototype.getWGValues=function(t){var e,r=this,n=this.genome;return r.wgValues[t]?Promise.resolve(r.wgValues[t]):(e=n.getGenomeLength()/500,r.reader.readWGFeatures(e,t).then((function(e){var i=[];return e.forEach((function(t){var e,r,a;a=t.chr,r=n.getCumulativeOffset(a),(e=Object.assign({},t)).chr="all",e.start=r+t.start,e.end=r+t.end,i.push(e)})),r.wgValues[t]=i,i})))},db.prototype.supportsWholeGenome=function(){return!0};var gb={getTissueInfo:function(t,e){var r=(e=e||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(t=t||"gtex_v8");return lv.loadJson(r,{})},trackConfiguration:function(t,e){return{type:"eqtl",sourceType:"gtex-ws",url:(e=e||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:t.tissueSiteDetailId,name:t.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}},vb=new Df("Dark2");["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"].forEach((function(t){vb.getColor(t)}));var mb=Lg(hy,(function(t,e){this.type="feature",hy.call(this,t,e),void 0===t.maxRows&&(t.maxRows=500),this.maxRows=t.maxRows,this.displayMode=t.displayMode||"EXPANDED",this.labelDisplayMode=t.labelDisplayMode;var r=t.format?t.format.toLowerCase():void 0;this.featureSource="bigwig"===r||"bigbed"===r?new db(t,e.genome):new Ky(t,e.genome),this.autoHeight=t.autoHeight,this.margin=void 0===t.margin?10:t.margin,this.featureHeight=t.featureHeight||14,"FusionJuncSpan"===t.type?(this.squishedRowHeight=t.squishedRowHeight||50,this.expandedRowHeight=t.expandedRowHeight||50,this.height=t.height||this.margin+2*this.expandedRowHeight):"snp"===t.type?(this.expandedRowHeight=t.expandedRowHeight||10,this.squishedRowHeight=t.squishedRowHeight||5,this.height=t.height||30):(this.squishedRowHeight=t.squishedRowHeight||15,this.expandedRowHeight=t.expandedRowHeight||30,this.height=t.height||this.margin+2*this.expandedRowHeight),void 0!==this.height&&this.height||(this.height=100),"spliceJunctions"===t.type&&void 0===t.colorByNumReadsThreshold&&(t.colorByNumReadsThreshold=5),t.render?this.render=t.render:"FusionJuncSpan"===t.type?this.render=xb:"spliceJunctions"===t.type?this.render=kb:"snp"===t.type?(this.render=Eb,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function"):(this.render=bb,this.arrowSpacing=30,function(t){t.browser.on&&(t.browser.on("trackdragend",e),t.browser.on("trackremoved",(function r(n){t.browser.un&&t===n&&(t.browser.un("trackdrag",e),t.browser.un("trackremoved",r))})));function e(){t.trackView&&t.trackView.tile&&"SQUISHED"!==t.displayMode&&t.trackView.repaintViews()}}(this))}));function yb(t,e,r){var n=(t.start-e)/r,i=(t.end-e)/r,a=i-n;return a<3&&(a=3,n-=1.5),{px:n,px1:i,pw:a}}function bb(t,e,r,n,i,a){var o,s,c=this.browser,h=this.color;if(t.alpha&&1!==t.alpha&&(h=gg.addAlpha(this.color,t.alpha)),this.config.colorBy){var u=t[this.config.colorBy.field];u&&(h=this.config.colorBy.pallete[u])}else t.color&&(h=t.color);i.fillStyle=h,i.strokeStyle=h,"SQUISHED"===this.displayMode&&void 0!==t.row?(o=this.featureHeight/2,s=this.margin+this.squishedRowHeight*t.row):"EXPANDED"===this.displayMode&&void 0!==t.row?(o=this.featureHeight,s=this.margin+this.expandedRowHeight*t.row):(o=this.featureHeight,s=this.margin);var l=s+o/2,f=o/2,p=l-f/2,d=t.exons?t.exons.length:0,g=yb(t,e,r),v=this.arrowSpacing,m="+"===t.strand?1:"-"===t.strand?-1:0;if(0===d){if(i.fillRect(g.px,s,g.pw,o),0!==m){i.fillStyle="white",i.strokeStyle="white";for(var y=g.px+v/2;y<g.px1;y+=v)nm.strokeLine(i,y-2*m,l-2,y,l),nm.strokeLine(i,y-2*m,l+2,y,l);i.fillStyle=h,i.strokeStyle=h}}else{nm.strokeLine(i,g.px+1,l,g.px1-1,l);for(var b=a.pixelWidth,w=Math.max(0,g.px)+v/2,x=Math.min(b,g.px1),k=w;k<x;k+=v)nm.strokeLine(i,k-2*m,l-2,k,l),nm.strokeLine(i,k-2*m,l+2,k,l);for(var S=0;S<d;S++){var _=t.exons[S],C=Math.round((_.start-e)/r),A=Math.round((_.end-e)/r),E=Math.max(1,A-C),R=void 0;if(!(C+E<0)){if(C>b)break;if(_.utr)i.fillRect(C,p,E,f);else if(_.cdStart&&(R=Math.round((_.cdStart-e)/r),i.fillRect(C,p,R-C,f),E-=R-C,C=R),_.cdEnd&&(R=Math.round((_.cdEnd-e)/r),i.fillRect(R,p,A-R,f),E-=A-R,A=R),i.fillRect(C,s,E,o),E>v+5&&0!==m){i.fillStyle="white",i.strokeStyle="white";for(var T=C+v/2;T<A;T+=v)nm.strokeLine(i,T-2*m,l-2,T,l),nm.strokeLine(i,T-2*m,l+2,T,l);i.fillStyle=h,i.strokeStyle=h}}}}var L=Math.round(a.viewportContainerX),I=c.genomicStateList?c.genomicStateList.length:1,M=L+a.viewportContainerWidth/I;a.drawLabel&&wb.call(this,i,t,g.px,g.px1,s,L,M,a.genomicState,a)}function wb(t,e,r,n,i,a,o,s,c){if(void 0!==e.name){var h,u,l;n<a||r>o?(h=r,u=n):(h=Math.max(r,a),u=Math.min(n,o));var f=!1;if(s.selection&&gb.gtexLoaded&&(f=!0,l=s.selection.colorForGene(e.name)),"SQUISHED"!==this.displayMode){var p,d={textAlign:"SLANT"===this.labelDisplayMode?void 0:"center",fillStyle:l||e.color||this.color,strokeStyle:l||e.color||this.color};"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(p={rotate:{angle:45}});var g=h+(u-h)/2,v=function(t,e){return e?t+20:t+25}(i,p),m=t.measureText(e.name),y=g-m.width/2,b=g+m.width/2;(c.labelAllFeatures||y>c.rowLastX[e.row]||f)&&(c.rowLastX[e.row]=b,c.labelTransform?(t.save(),c.labelTransform(t,g),nm.fillText(t,e.name,g,v,d,void 0),t.restore()):nm.fillText(t,e.name,g,v,d,p))}}}function xb(t,e,r,n,i){var a,o="EXPANDED"===this.displayMode?this.expandedRowHeight:this.squishedRowHeight;"COLLAPSED"===this.display&&(a=this.margin),("SQUISHED"===this.displayMode&&void 0!==t.row||"EXPANDED"===this.displayMode&&void 0!==t.row)&&(a=this.margin+o*t.row);var s=a+.5*o,c=s-.5*o,h=s+.5*o,u=Math.round((t.junction_left-e)/r),l=Math.round((t.junction_right-e)/r);i.beginPath(),i.moveTo(u,s),i.bezierCurveTo(u,c,l,c,l,s),i.lineWidth=1+Math.log(t.num_junction_reads)/Math.log(2),i.strokeStyle="blue",i.stroke();for(var f=t.spanning_frag_coords,p=0;p<f.length;p++){var d=f[p],g=Math.round((d.left-e)/r),v=Math.round((d.right-e)/r);i.beginPath(),i.moveTo(g,s),i.bezierCurveTo(g,h,v,h,v,s),i.lineWidth=1,i.strokeStyle="purple",i.stroke()}}function kb(t,e,r,n,i){if(!(this.config.hideAnnotatedJunctions&&"true"===t.attributes.annotated_junction||this.config.hideUnannotatedJunctions&&"false"===t.attributes.annotated_junction||this.config.hideMotifs&&this.config.hideMotifs.includes(t.attributes.motif)||this.config.hideStrand===t.strand)){var a=parseInt(t.attributes.uniquely_mapped);if(!(a<this.config.minUniquelyMappedReads)){var o=parseInt(t.attributes.multi_mapped),s=a+o;if(!(s<this.config.minTotalReads))if(!(s>0&&o/s>this.config.maxFractionMultiMappedReads))if(!(parseInt(t.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang)){var c,h,u,l=this.margin,f=this.height,p=l+.5*f,d=l,g=l+f-10,v=Math.round((t.start-e)/r),m=Math.round((t.end-e)/r),y=(v+m)/2,b=(v+y)/2,w=(y+m)/2;void 0===this.config.thicknessBasedOn||"numUniqueReads"===this.config.thicknessBasedOn?c=a:"numReads"===this.config.thicknessBasedOn?c=s:"isAnnotatedJunction"===this.config.thicknessBasedOn&&(c="true"===t.attributes.annotated_junction?20:100),c=1+Math.log(c+1)/Math.log(12),void 0===this.config.bounceHeightBasedOn||"random"===this.config.bounceHeightBasedOn?h=(t.start+t.end)%7:"distance"===this.config.bounceHeightBasedOn?h=(t.end-t.start)/1e3:"thickness"===this.config.bounceHeightBasedOn&&(h=2*c),d+=f*Math.max(7-h,0)/10,void 0===this.config.colorBy||"numUniqueReads"===this.config.colorBy?u=a>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"numReads"===this.config.colorBy?u=s>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"isAnnotatedJunction"===this.config.colorBy?u="true"===t.attributes.annotated_junction?"#b0b0ec":"orange":"strand"===this.config.colorBy?u="+"===t.strand?"#b0b0ec":"#ecb0b0":"motif"===this.config.colorBy&&(u=vb.getColor(t.attributes.motif));var x="";void 0===this.config.labelUniqueReadCount&&void 0===this.config.labelMultiMappedReadCount&&void 0===this.config.labelTotalReadCount?x+=a+(0==o?"":"(+"+o+")"):(this.config.labelTotalReadCount?x+=s:this.config.labelUniqueReadCount&&(x+=a),this.config.labelMultiMappedReadCount&&o>0&&(x+=" (+"+o+")")),this.config.labelAnnotatedJunction&&"true"===t.attributes.annotated_junction&&(x+=this.config.labelAnnotatedJunction),this.config.labelMotif&&t.attributes.motif&&(x+=" ".concat(t.attributes.motif)),i.beginPath(),i.moveTo(v,g),i.bezierCurveTo(b,d,w,d,m,g),i.lineWidth=c,i.strokeStyle=u,i.stroke(),i.fillText(x,y-i.measureText(x).width/2,(7*d+p)/8)}}}}mb.prototype.postInit=jr(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readFileHeader();case 2:if((e=t.sent)&&this.setTrackProperties(e),!(r=this.config.format)||"bigbed"!==r.toLowerCase()||void 0!==this.visibilityWindow||"function"!=typeof this.featureSource.defaultVisibilityWindow){t.next=10;break}return t.next=8,this.featureSource.defaultVisibilityWindow();case 8:this.visibilityWindow=t.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 10:return t.abrupt("return",this);case 11:case"end":return t.stop()}}),t,this)}))),mb.prototype.supportsWholeGenome=function(){return!1===this.config.indexed&&!1!==this.config.supportsWholeGenome},mb.prototype.readFileHeader=jr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){t.next=4;break}return t.next=3,this.featureSource.getFileHeader();case 3:this.header=t.sent;case 4:return t.abrupt("return",this.header);case 5:case"end":return t.stop()}}),t,this)}))),mb.prototype.getFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.featureSource.getFeatures(e,r,n,i,this.visibilityWindow));case 1:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i){return t.apply(this,arguments)}}(),mb.prototype.computePixelHeight=function(t){if("spliceJunctions"===this.type)return this.height;if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;var e=0;if(t&&"function"==typeof t.forEach){var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s.row&&s.row>e&&(e=s.row)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}return this.margin+(e+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)},mb.prototype.draw=function(t){var e=t.features,r=t.context,n=t.bpPerPixel,i=t.bpStart,a=t.pixelWidth,o=t.pixelHeight,s=i+a*n+1;if(this.config.isMergedTrack||nm.fillRect(r,0,t.pixelTop,a,o,{fillStyle:"rgb(255, 255, 255)"}),e){var c=[];t.rowLastX=[];var h=!0,u=!1,l=void 0;try{for(var f,p=e[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value.row||0;void 0===c[d]?c[d]=1:c[d]++,t.rowLastX[d]=-Number.MAX_VALUE}}catch(t){u=!0,l=t}finally{try{h||null==p.return||p.return()}finally{if(u)throw l}}var g=[],v=!0,m=!1,y=void 0;try{for(var b,w=e[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var x=b.value;if(!(x.end<i)){if(x.start>s)break;var k="COLLAPSED"===this.displayMode?0:x.row,S=a/c[k];t.drawLabel=t.labelAllFeatures||S>10;var _=Math.ceil((x.end-i)/n),C=g[k];if((!C||_>C||"spliceJunctions"===this.config.type)&&(this.render.call(this,x,i,n,o,r,t),"spliceJunctions"!==this.config.type)){var A=Math.floor((x.start-i)/n);C&&A-C<=0&&(r.globalAlpha=.5,nm.strokeLine(r,A,0,A,o,{strokeStyle:"rgb(255, 255, 255)"}),r.globalAlpha=1),g[k]=_}}}}catch(t){m=!0,y=t}finally{try{v||null==w.return||w.return()}finally{if(m)throw y}}}},mb.prototype.clickedFeatures=function(t){var e,r=t.y-this.margin,n=hy.prototype.clickedFeatures.call(this,t);switch(this.displayMode){case"SQUISHED":e=Math.floor(r/this.squishedRowHeight);break;case"EXPANDED":e=Math.floor(r/this.expandedRowHeight);break;default:e=void 0}return n.filter((function(t){return void 0===e||void 0===t.row||e===t.row}))},mb.prototype.popupData=function(t,e){e||(e=this.clickedFeatures(t));var r=t.genomicLocation,n=[],i=!0,a=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value,u="function"==typeof h.popupData?h.popupData(r):hy.extractPopupData(h,this.getGenomeId());u&&(n.length>0&&n.push("<HR>"),Array.prototype.push.apply(n,u))}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n},mb.prototype.menuItemList=function(){var t=this,e=[];return this.render===Eb&&(["function","class"].forEach((function(r){e.push({object:Tf("Color by "+r,r===t.colorBy),click:function(){t.colorBy=r,t.trackView.repaintViews()}})})),e.push({object:Js('<div class="igv-track-menu-border-top">')})),e.push({object:Js('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach((function(r){e.push({object:Tf({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[r],r===t.displayMode),click:function(){t.displayMode=r,t.config.displayMode=r,t.trackView.checkContentHeight(),t.trackView.repaintViews()}})})),e},mb.prototype.description=function(){if(Eb===this.render){var t="<html>"+this.name+"<hr>";return t+="<em>Color By Function:</em><br>",t+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',t+='<span style="color:green">Green</span>: Coding-Synonymous<br>',t+='<span style="color:blue">Blue</span>: Untranslated<br>',t+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',t+="<em>Color By Class:</em><br>",t+='<span style="color:red">Red</span>: Deletion<br>',t+='<span style="color:green">Green</span>: MNP<br>',t+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',t+='<span style="color:black">Black</span>: Indel, Insertion, SNP',t+="</html>"}return this.name},mb.prototype.dispose=function(){this.trackView=void 0};var Sb=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),_b=new Set(["coding-synon"]),Cb=new Set(["splice-3","splice-5"]),Ab=new Set(["untranslated-5","untranslated-3"]);function Eb(t,e,r,n,i){var a,o,s,c,h=yb(t,e,r),u=this.margin,l=this.snpColors.length;switch(a="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":c=t.func,o=c.split(",").map((function(t){return Sb.has(t)||Cb.has(t)?l-1:_b.has(t)?l-2:Ab.has(t)?l-3:0})).reduce((function(t,e){return Math.max(t,e)}));break;case"class":o="deletion"===(s=t.class)?l-1:"mnp"===s?l-2:"microsatellite"===s||"named"===s?l-3:0}i.fillStyle=this.snpColors[o],i.fillRect(h.px,u,h.pw,a)}var Rb=function(t,e){this.type="sequence",this.browser=e,this.removable=!1,this.config=t,this.name="",this.id="sequence",this.sequenceType=t.sequenceType||"dna",this.height=25,this.disableButtons=!1,this.order=t.order||-Number.MAX_VALUE,this.ignoreTrackMenu=!1,this.removable=!1,this.reversed=!1,this.frameTranslate=!1,this.complement={A:"T",C:"G",G:"C",T:"A"},this.translationDict={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"}};function Tb(t){return this.color?this.color:"dna"===this.sequenceType?Nf[t]||"gray":"rgb(0, 0, 150)"}Rb.prototype.menuItemList=function(){var t=this;return[{name:t.reversed?"Forward":"Reverse",click:function(){t.reversed=!t.reversed,t.trackView.repaintViews()}},{name:t.frameTranslate?"Close Translation":"Three-frame Translate",click:function(){t.frameTranslate=!t.frameTranslate,t.frameTranslate?(t.trackView.viewports.forEach((function(t){t.setContentHeight(115)})),t.trackView.setTrackHeight(115)):(t.trackView.viewports.forEach((function(t){t.setContentHeight(25)})),t.trackView.setTrackHeight(25)),t.trackView.repaintViews()}}]},Rb.prototype.translateSequence=function(t){var e=[[],[],[]],r=this;return[0,1,2].forEach((function(n){for(var i,a,o=n;t.length-o>=3;)i={},a=t.slice(o,o+3),r.reversed&&(a=a.split("").reverse().join("")),i.codons=a,i.aminoA=r.translationDict[a.toUpperCase()],e[n].push(i),i=null,o+=3})),e},Rb.prototype.getFeatures=function(t,e,r,n){var i=this.browser;return n&&n>1?Promise.resolve(null):i.genome.sequence.getSequence(t,e,r).then((function(t){return{bpStart:e,sequence:t}}))},Rb.prototype.draw=function(t){var e=this,r=t.context;if(t.features){for(var n=t.features.sequence,i=t.features.bpStart,a=1+t.bpStart+t.pixelWidth*t.bpPerPixel,o=i;o<=a;o++){var s=Math.floor(o-i);if(s<n.length){var c=n[s];this.reversed&&(c=this.complement[c.toUpperCase()]);var h=o-t.bpStart,u=h/t.bpPerPixel,l=(h+1)/t.bpPerPixel,f=Tb.call(this,c);if(t.bpPerPixel>.1)nm.fillRect(r,u,5,l-u,10,{fillStyle:f});else{var p=.5*(u+l-r.measureText(c).width);nm.strokeText(r,c,p,15,{strokeStyle:f})}}}if(this.frameTranslate){var d;d=this.reversed?(d=n.split("").map((function(t){return e.complement[t]}))).join(""):n;var g=15,v=this.translateSequence(d),m=!0,y=!1,b=void 0;try{for(var w,x=v[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var k=w.value,S=v.indexOf(k),_=S;g=0===S?g+10:g+30;var C=!0,A=!1,E=void 0;try{for(var R,T=k[Symbol.iterator]();!(C=(R=T.next()).done);C=!0){var L=R.value,I=void 0,M=k.indexOf(L),P=M+_+2*M,O=0==M%2?"rgb(160,160,160)":"rgb(224,224,224)",N=Math.floor(P/t.bpPerPixel),F=Math.floor((P+3)/t.bpPerPixel),D=Math.round((N+F)/2);L.aminoA.indexOf("STOP")>-1?(O="rgb(255, 0, 0)",I="STOP"):I=L.aminoA,"M"===L.aminoA&&(O="rgb(0, 153, 0)",I="START"),nm.fillRect(r,N,g,F-N,25,{fillStyle:O}),t.bpPerPixel<=.1&&nm.strokeText(r,I,D-r.measureText(I).width/2,g+15)}}catch(t){A=!0,E=t}finally{try{C||null==T.return||T.return()}finally{if(A)throw E}}}}catch(t){y=!0,b=t}finally{try{m||null==x.return||x.return()}finally{if(y)throw b}}}}},Rb.prototype.supportsWholeGenome=function(){return!1},Rb.prototype.computePixelHeight=function(t){return this.height};var Lb=function(t,e){this.config=t,this.genome=e,this.path=t.url,this.groupCache={},this.datasetCache={}};function Ib(t,e){for(var r=t.getInt(),n=t.getInt(),i=t.getFloat(),a=[],o=e;o-- >0;){for(var s=r,c=[];s-- >0;)c.push(t.getFloat());a.push(c)}return{type:"fixedStep",start:n,span:i,data:a,nTracks:e,nPositions:r}}function Mb(t,e){for(var r=t.getInt(),n=t.getFloat(),i=t.getInt(),a=[],o=i;o-- >0;)a.push(t.getInt());t.getInt();for(var s=[],c=e;c-- >0;){o=i;for(var h=[];o-- >0;)h.push(t.getFloat());s.push(h)}return{type:"variableStep",tileStart:r,span:n,start:a,data:s,nTracks:e,nPositions:i}}function Pb(t,e,r){for(var n=t.getInt(),i=n,a=[];i-- >0;)a.push(t.getInt());i=n;for(var o=[];i-- >0;)o.push(t.getInt());t.getInt();for(var s=[],c=e;c-- >0;){for(var h=n,u=[];h-- >0;)u.push(t.getFloat());s.push(u)}if("bedWithName"===r){i=n;for(var l=[];i-- >0;)l.push(t.getString())}return{type:r,start:a,end:o,data:s,name:name,nTracks:e,nPositions:n}}Lb.prototype.readHeader=jr(regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s,c,h,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this.magic){t.next=2;break}return t.abrupt("return",this);case 2:return t.next=4,lv.loadArrayBuffer(this.path,Mg(this.config,{range:{start:0,size:64e3}}));case 4:if(e=t.sent,r=new wy(new DataView(e)),this.magic=r.getInt(),this.version=r.getInt(),this.indexPos=r.getLong(),this.indexSize=r.getInt(),r.getInt(),this.version>=2)for(n=r.getInt(),this.windowFunctions=[];n-- >0;)this.windowFunctions.push(r.getString());for(this.trackType=r.getString(),this.trackLine=r.getString(),i=r.getInt(),this.trackNames=[];i-- >0;)this.trackNames.push(r.getString());return this.genomeID=r.getString(),this.flags=r.getInt(),this.compressed=0!=(1&this.flags),t.next=22,lv.loadArrayBuffer(this.path,Mg(this.config,{range:{start:this.indexPos,size:this.indexSize}}));case 22:for(e=t.sent,r=new wy(new DataView(e)),this.datasetIndex={},a=r.getInt();a-- >0;)o=r.getString(),s=r.getLong(),c=r.getInt(),this.datasetIndex[o]={position:s,size:c};for(this.groupIndex={},a=r.getInt();a-- >0;)h=r.getString(),u=r.getLong(),l=r.getInt(),this.groupIndex[h]={position:u,size:l};return t.abrupt("return",this);case 31:case"end":return t.stop()}}),t,this)}))),Lb.prototype.readDataset=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h,u,l,f,p,d,g,v,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e+"_"+r+"_"+n,!this.datasetCache[i]){t.next=5;break}return t.abrupt("return",this.datasetCache[i]);case 5:return t.next=7,this.readHeader();case 7:if(a=this.version<2?"":"/"+r,o="all"===e.toLowerCase()||void 0===n?"0":n.toString(),s="raw"===r?"/"+e+"/raw":"/"+e+"/z"+o+a,void 0!==(c=this.datasetIndex[s])){t.next=13;break}return t.abrupt("return",void 0);case 13:return t.next=15,lv.loadArrayBuffer(this.path,Mg(this.config,{range:{start:c.position,size:c.size}}));case 15:if(h=t.sent){t.next=18;break}return t.abrupt("return",void 0);case 18:for(u=new wy(new DataView(h)),l=u.getInt(),f={};l-- >0;)f[u.getString()]=u.getString();for(p=u.getString(),d=u.getFloat(),g=u.getInt(),v=[];g-- >0;)v.push({position:u.getLong(),size:u.getInt()});return m={name:s,attributes:f,dataType:p,tileWidth:d,tiles:v},this.datasetCache[i]=m,t.abrupt("return",m);case 30:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),Lb.prototype.readRootGroup=jr(regeneratorRuntime.mark((function t(){var e,r,n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.genome,!(r=this.groupCache["/"])){t.next=6;break}return t.abrupt("return",r);case 6:return t.next=8,this.readGroup("/");case 8:return n=t.sent,i=n.chromosomes,(a=n.maxZoom)&&(this.maxZoom=Number(a)),o={},i&&i.split(",").forEach((function(t){var r=e.getChromosomeName(t);o[r]=t})),this.chrAliasTable=o,this.groupCache["/"]=n,t.abrupt("return",n);case 17:case"end":return t.stop()}}),t,this)}))),Lb.prototype.readGroup=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,c,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=this.groupCache[e])){t.next=5;break}return t.abrupt("return",r);case 5:return t.next=7,this.readHeader();case 7:if(void 0!==(n=this.groupIndex[e])){t.next=10;break}return t.abrupt("return",void 0);case 10:return t.next=12,lv.loadArrayBuffer(this.path,Mg(this.config,{range:{start:n.position,size:n.size}}));case 12:if(i=t.sent){t.next=15;break}return t.abrupt("return",void 0);case 15:for(a=new wy(new DataView(i)),o={name:e},s=a.getInt();s-- >0;)c=a.getString(),h=a.getString(),o[c]=h;return this.groupCache[e]=o,t.abrupt("return",o);case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),Lb.prototype.readTiles=function(){var t=jr(regeneratorRuntime.mark((function t(e,r){var n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.sort((function(t,e){return t.position-e.position})),0!==(e=e.filter((function(t){return t.size>0}))).length){t.next=4;break}return t.abrupt("return",Promise.resolve([]));case 4:return n=e[0],i=e[e.length-1],a=n.position,o=i.position+i.size-a,t.next=10,lv.loadArrayBuffer(this.path,Mg(this.config,{range:{start:a,size:o}}));case 10:s=t.sent,c=[],h=!0,u=!1,l=void 0,t.prev=15,f=e[Symbol.iterator]();case 17:if(h=(p=f.next()).done){t.next=41;break}if(d=p.value,g=d.position-a,!((v=d.size)>0)){t.next=38;break}m=void 0,this.compressed?(y=new cg.Inflate(new Uint8Array(s,g,v)),b=y.decompress(),m=b.buffer):m=s.slice(g,g+v),w=new wy(new DataView(m)),x=w.getString(),k=void 0,t.t0=x,t.next="fixedStep"===t.t0?30:"variableStep"===t.t0?32:"bed"===t.t0||"bedWithName"===t.t0?34:36;break;case 30:return k=Ib(w,r),t.abrupt("break",37);case 32:return k=Mb(w,r),t.abrupt("break",37);case 34:return k=Pb(w,r,x),t.abrupt("break",37);case 36:throw"Unknown tile type: "+x;case 37:c.push(k);case 38:h=!0,t.next=17;break;case 41:t.next=47;break;case 43:t.prev=43,t.t1=t.catch(15),u=!0,l=t.t1;case 47:t.prev=47,t.prev=48,h||null==f.return||f.return();case 50:if(t.prev=50,!u){t.next=53;break}throw l;case 53:return t.finish(50);case 54:return t.finish(47);case 55:return t.abrupt("return",c);case 56:case"end":return t.stop()}}),t,this,[[15,43,47,55],[48,,50,54]])})));return function(e,r){return t.apply(this,arguments)}}(),Lb.prototype.readTile=function(){var t=jr(regeneratorRuntime.mark((function t(e,r){var n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lv.loadArrayBuffer(this.path,Mg(this.config,{range:{start:e.position,size:e.size}}));case 2:n=t.sent,this.compressed&&(i=new cg.Inflate(new Uint8Array(n)),a=i.decompress(),n=a.buffer),o=new wy(new DataView(n)),s=o.getString(),t.t0=s,t.next="fixedStep"===t.t0?9:"variableStep"===t.t0?10:"bed"===t.t0||"bedWithName"===t.t0?11:12;break;case 9:return t.abrupt("return",Ib(o,r));case 10:return t.abrupt("return",Mb(o,r));case 11:return t.abrupt("return",Pb(o,r,s));case 12:throw"Unknown tile type: "+s;case 13:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}();var Ob=function(t,e){this.genome=e,this.windowFunction=t.windowFunction||"mean",this.reader=new Lb(t,e)};function Nb(t,e,r,n,i,a){for(var o=t.nPositions,s=t.start,c=t.end,h=t.data[0],u=0;u<o;u++){var l=s[u],f=c[u];if(!(f<r)){if(l>n)break;a.push({chr:e,start:l,end:f,value:h[u]})}}}function Fb(t,e,r,n,i,a){for(var o=t.nPositions,s=t.start,c=t.span,h=t.data[0],u=0;u<o;u++){var l=s[u],f=l+c;if(!(f<r)){if(l>n)break;a.push({chr:e,start:l,end:f,value:h[u]})}}}function Db(t,e,r,n,i,a){for(var o=t.nPositions,s=t.start,c=t.span,h=t.data[0],u=0;u<o;u++){var l=s+c;if(s>n)break;l>=r&&(Number.isNaN(h[u])||a.push({chr:e,start:s,end:l,value:h[u]})),s=l}}Ob.prototype.getFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n,i){var a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _=function(){return(_=jr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.rootGroup){t.next=4;break}return t.abrupt("return",this.rootGroup);case 4:return t.next=6,this.reader.readRootGroup();case 6:return this.rootGroup=t.sent,t.abrupt("return",this.rootGroup);case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)},S=function(){return _.apply(this,arguments)},t.next=4,S.call(this);case 4:if(a=new zg(e,r,n),o=this.genome,"all"!==e.toLowerCase()){t.next=8;break}return t.abrupt("return",[]);case 8:return a.bpPerPixel=i,t.next=11,S.call(this);case 11:return t.sent,s=zb(e,i,o),c=this.reader.chrAliasTable[e],h=this.reader.maxZoom,void 0===c&&(c=e),void 0===h&&(h=-1),u=s>h?"raw":this.windowFunction,t.next=20,this.reader.readDataset(c,u,s);case 20:if(null!=(l=t.sent)){t.next=23;break}return t.abrupt("return",[]);case 23:return f=l.tileWidth,p=Math.floor(r/f),d=Math.floor(n/f),1,t.next=29,this.reader.readTiles(l.tiles.slice(p,d+1),1);case 29:g=t.sent,v=[],m=!0,y=!1,b=void 0,t.prev=34,w=g[Symbol.iterator]();case 36:if(m=(x=w.next()).done){t.next=51;break}k=x.value,t.t0=k.type,t.next="bed"===t.t0?41:"variableStep"===t.t0?43:"fixedStep"===t.t0?45:47;break;case 41:return Nb(k,e,r,n,i,v),t.abrupt("break",48);case 43:return Fb(k,e,r,n,i,v),t.abrupt("break",48);case 45:return Db(k,e,r,n,i,v),t.abrupt("break",48);case 47:throw"Unknown tile type: "+k.type;case 48:m=!0,t.next=36;break;case 51:t.next=57;break;case 53:t.prev=53,t.t1=t.catch(34),y=!0,b=t.t1;case 57:t.prev=57,t.prev=58,m||null==w.return||w.return();case 60:if(t.prev=60,!y){t.next=63;break}throw b;case 63:return t.finish(60);case 64:return t.finish(57);case 65:return v.sort((function(t,e){return t.start-e.start})),t.abrupt("return",v);case 67:case"end":return t.stop()}}),t,this,[[34,53,57,65],[58,,60,64]])})));return function(e,r,n,i){return t.apply(this,arguments)}}(),Ob.prototype.supportsWholeGenome=function(){return!1};var Bb=Math.log(2);function zb(t,e,r){var n=r.getChromosome(t).bpLength;return Math.ceil(Math.log(Math.max(0,n/(700*e)))/Bb)}function Ub(t,e,r){var n,i,a,o,s,c,h,u={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};function l(t){return 0===t?"0":Math.abs(t)>=10?t.toFixed():Math.abs(t)>=1?t.toFixed(1):t.toFixed(2)}void 0!==this.dataRange&&void 0!==this.dataRange.max&&void 0!==this.dataRange.min&&(nm.fillRect(t,0,0,e,r,{fillStyle:"rgb(255, 255, 255)"}),n=(h=.95*e)-8,.01,s={x:i=h,y:a=o=.01*r},nm.strokeLine(t,n,a,i,o,u),nm.fillText(t,l(this.dataRange.max),n+4,a+12,u),c={x:i,y:a=o=.99*r},nm.strokeLine(t,n,a,i,o,u),nm.fillText(t,l(this.dataRange.min),n+4,a-4,u),nm.strokeLine(t,s.x,s.y,c.x,c.y,u))}var Hb=Sf.dataRangeMenuItem,$b=Lg(hy,(function(t,e){this.type="wig",this.featureType="numeric",void 0===t.color&&(t.color="rgb(150,150,150)"),void 0===t.height&&(t.height=50),hy.call(this,t,e);var r=t.format?t.format.toLowerCase():t.format;this.featureSource="bigwig"===r?new db(t,e.genome):"tdf"===r?new Ob(t,e.genome):new Ky(t,e.genome),this.autoscale=t.autoscale||void 0===t.max,this.autoscale||(this.dataRange={min:t.min||0,max:t.max}),this.windowFunction=t.windowFunction||"mean",this.paintAxis=Ub,this.graphType=t.graphType||"bar"}));function jb(t){this.thresholds=t.thresholds,this.colors=t.colors}function qb(t){this.scale=t,this.lowColor="rgb("+t.lowR+","+t.lowG+","+t.lowB+")",this.highColor="rgb("+t.highR+","+t.highG+","+t.highB+")",this.diff=t.high-t.low}$b.prototype.postInit=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getFileHeader();case 2:(e=t.sent)&&this.setTrackProperties(e);case 4:case"end":return t.stop()}}),t,this)}))),$b.prototype.getFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.featureSource.getFeatures(e,r,n,i,this.windowFunction));case 1:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i){return t.apply(this,arguments)}}(),$b.prototype.menuItemList=function(){var t=this,e=[];return e.push(Hb(this.trackView)),e.push({object:Tf("Autoscale",t.autoscale),click:function(){t.autoscale=!t.autoscale,t.config.autoscale=t.autoscale,t.trackView.setDataRange(void 0,void 0,t.autoscale)}}),e},$b.prototype.getFileHeader=jr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){t.next=4;break}return t.next=3,this.featureSource.getFileHeader();case 3:this.header=t.sent;case 4:return t.abrupt("return",this.header);case 5:case"end":return t.stop()}}),t,this)}))),$b.prototype.draw=function(t){var e,r=this,n=t.features,i=t.context,a=t.bpPerPixel,o=t.bpStart,s=t.pixelWidth,c=t.pixelHeight,h=o+s*a+1,u=-1,l=-1;"string"==typeof r.color&&r.color.startsWith("rgb(")&&(e=gg.addAlpha(r.color,.1));var f=function(t){return(r.dataRange.max-t)/(r.dataRange.max-r.dataRange.min)*c};if(n&&n.length>0&&(void 0===r.dataRange.min&&(r.dataRange.min=0),r.dataRange.max>r.dataRange.min)){if(b.end<o)return;if(b.start>h)return;var p=!0,d=!1,g=void 0;try{for(var v,m=n[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){b(v.value)}}catch(t){d=!0,g=t}finally{try{p||null==m.return||m.return()}finally{if(d)throw g}}if(r.dataRange.min<0){var y=r.dataRange.max/(r.dataRange.max-r.dataRange.min)*t.pixelHeight;nm.strokeLine(i,0,y,t.pixelWidth,y,{strokeStyle:e})}}function b(t){if(!(t.value<r.dataRange.min)){var e=f(t.value),n=function(t){return Math.floor((t.start-o)/a)}(t);if(!isNaN(n)){var s=f(0)-e,c=function(t,e){var r=Math.ceil((t.end-o)/a);return Math.max(1,r-e)}(t,n),h=t.value<0&&r.altColor?r.altColor:r.color,p="function"==typeof h?h(t.value):h;if("points"===r.graphType){var d=r.config.pointSize||3,g=n+c/2;nm.fillCircle(i,g,e,d/2,{fillStyle:p,strokeStyle:p})}else{var v=n+c;(v>u||t.value>=0&&t.value>l||t.value<0&&t.value<1)&&nm.fillRect(i,n,e,c,s,{fillStyle:p}),l=t.value,u=v}}}}!function(t){if(r.config.hasOwnProperty("guideLines")){var e=!0,n=!1,i=void 0;try{for(var a,o=r.config.guideLines[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var s=a.value;if(s.hasOwnProperty("color")&&s.hasOwnProperty("y")&&s.hasOwnProperty("dotted")){var c=f(s.y),h={strokeStyle:s.color,strokeWidth:2};s.dotted?nm.dashedLine(t.context,0,c,t.pixelWidth,c,5,h):nm.strokeLine(t.context,0,c,t.pixelWidth,c,h)}}}catch(t){n=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}}(t)},$b.prototype.popupData=function(t,e){if(e||(e=this.clickedFeatures(t)),e&&e.length>0){var r=[],n=function(t,e,r){var n,i,a=0,o=t.length-1,s=a+o>>1;for(;!c(t[s],e,r)&&a<o;)e<t[s].start?o=s-1:e>t[s].end&&(a=s+1),s=a+o>>1;if(c(t[s],e,r)){if(c(n=t[s],e,0))return n;for(i=s;i-- >=0&&(c(t[i]),!r);){if(c(t[i],e,0))return t[i];for(h(t[i],e)<h(n,e)&&(n=t[i]),i=s;i++<t.length&&(c(t[i]),!r);){if(c(t[i],e,0))return t[i];h(t[i],e)<h(n,e)&&(n=t[i])}}return n}return;function c(t,e,r){return e>=t.start-r&&e<=t.end+r}function h(t,e){return Math.min(Math.abs(t.start-e),Math.abs(t.end-e))}}(e,t.genomicLocation,2*t.viewport.genomicState.referenceFrame.bpPerPixel);if(n){var i=n.end-n.start==1?lg(n.start+1):lg(n.start+1)+"-"+lg(n.end);r.push({name:"Position:",value:i}),r.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:lg(n.value)})}return r}return[]},$b.prototype.dispose=function(){this.trackView=void 0},$b.prototype.getState=function(){var t=this.config;return t.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(t.min=this.dataRange.min,t.max=this.dataRange.max),t},$b.prototype.supportsWholeGenome=function(){return"function"==typeof this.featureSource.supportsWholeGenome&&this.featureSource.supportsWholeGenome()},jb.prototype.getColor=function(t){var e=!0,r=!1,n=void 0;try{for(var i,a=this.thresholds[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;if(t<o)return this.colors[this.thresholds.indexOf(o)]}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return this.colors[this.colors.length-1]},qb.prototype.getColor=function(t){var e,r=this.scale;return t<=r.low?this.lowColor:t>=r.high?this.highColor:(e=(t-r.low)/this.diff,"rgb("+Math.floor(r.lowR+e*(r.highR-r.lowR))+","+Math.floor(r.lowG+e*(r.highG-r.lowG))+","+Math.floor(r.lowB+e*(r.highB-r.lowB))+")")};var Vb=Lg(hy,(function(t,e){if(hy.call(this,t,e),this.isLog=t.isLog,this.displayMode=t.displayMode||"SQUISHED",this.maxHeight=t.maxHeight||500,this.squishedRowHeight=t.sampleSquishHeight||t.squishedRowHeight||2,this.expandedRowHeight=t.sampleExpandHeight||t.expandedRowHeight||12,this.posColorScale=t.posColorScale||new qb({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=t.negColorScale||new qb({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),this.sampleKeys=[],this.featureSource=new Ky(this.config,e.genome),t.sort){var r=t.sort;this.sortSamples(r.chr,r.start,r.end,r.direction)}}));Vb.prototype.menuItemList=function(){var t=this,e=[],r={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};return e.push("<hr/>"),e.push("Sample Height"),["SQUISHED","EXPANDED","FILL"].forEach((function(n){e.push({object:Tf(r[n],n===t.displayMode),click:function(){t.displayMode=n,t.config.displayMode=n,t.trackView.checkContentHeight(),t.trackView.repaintViews()}})})),e},Vb.prototype.getFeatures=function(t,e,r){return this.featureSource.getFeatures(t,e,r)},Vb.prototype.draw=function(t){var e=this,r=(jf(2),t.context),n=t.pixelWidth,i=t.pixelHeight;nm.fillRect(r,0,t.pixelTop,n,i,{fillStyle:"rgb(255, 255, 255)"});var a=t.features;if(a&&a.length>0){void 0===e.isLog&&function(t){if(void 0===e.isLog){e.isLog=!1;var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(a.value.value<0)return void(e.isLog=!0)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}(a);var o=t.bpPerPixel,s=t.bpStart,c=s+n*o+1,h=o;this.updateSampleKeys(a);var u,l,f={};switch(this.sampleKeys.forEach((function(t,e){f[t]=e})),this.displayMode){case"FILL":u=t.pixelHeight/this.sampleKeys.length,l=0;break;case"SQUISHED":u=this.squishedRowHeight,l=0;break;default:u=this.expandedRowHeight,l=1}var p=!0,d=!1,g=void 0;try{for(var v,m=a[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var y=v.value;if(!(y.end<s)){if(y.start>c)break;var b=y.sampleKey||y.sample;y.row=f[b];var w=f[b]*u+l,x=y.value;e.isLog||(x=jf(x/2));var k=void 0;k=x<-.1?e.negColorScale.getColor(x):x>.1?e.posColorScale.getColor(x):"white";var S=Math.max(y.start,s),_=Math.round((S-s)/h),C=Math.min(y.end,c),A=Math.round((C-s)/h),E=Math.max(1,A-_);r.fillStyle=k;var R=u;if(u<.25){var T=.1+2*Math.abs(x);R=Math.min(1,T*u)}y.pixelRect={x:_,y:w,w:E,h:R-2*l},r.fillRect(_,w,E,R-2*l)}}}catch(t){d=!0,g=t}finally{try{p||null==m.return||m.return()}finally{if(d)throw g}}}},Vb.prototype.computePixelHeight=function(t){if(!t)return 0;var e="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(t),this.sampleKeys.length*e},Vb.prototype.sortSamples=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n,i){var a,o,s,c,h,u,l,f,p,d,g,v,m,y,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.featureSource.getFeatures(e,r,n);case 2:a=t.sent,this.updateSampleKeys(a),o={},s=n-r+1,c=!0,h=!1,u=void 0,t.prev=9,l=a[Symbol.iterator]();case 11:if(c=(f=l.next()).done){t.next=26;break}if(!((p=f.value).end<r)){t.next=15;break}return t.abrupt("continue",23);case 15:if(!(p.start>n)){t.next=17;break}return t.abrupt("break",26);case 17:d=Math.max(r,p.start),g=Math.min(n,p.end),v=(g-d)/s,m=p.sampleKey||p.sample,y=o[m]||0,o[m]=y+v*p.value;case 23:c=!0,t.next=11;break;case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(9),h=!0,u=t.t0;case 32:t.prev=32,t.prev=33,c||null==l.return||l.return();case 35:if(t.prev=35,!h){t.next=38;break}throw u;case 38:return t.finish(35);case 39:return t.finish(32);case 40:b="ASC"===i?1:-1,this.sampleKeys.sort((function(t,e){var r=o[t],n=o[e];return r||(r=b*Number.MAX_VALUE),n||(n=b*Number.MAX_VALUE),r===n?0:r>n?b:-1*b})),this.trackView.repaintViews();case 43:case"end":return t.stop()}}),t,this,[[9,28,32,40],[33,,35,39]])})));return function(e,r,n,i){return t.apply(this,arguments)}}(),Vb.prototype.clickedFeatures=function(t){var e,r,n=hy.prototype.clickedFeatures.call(this,t);return e=n,r=t.y,e.filter((function(t){var e=t.pixelRect;return e&&r>=e.y&&r<=e.y+e.h}))},Vb.prototype.popupData=function(t,e){e||(e=this.clickedFeatures(t));var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)o.value}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return e.forEach((function(t){!function(t,e){var r,n=new Set(["row","color","sampleKey","uniqueSampleKey","uniquePatientKey"]);t.hasOwnProperty("realChr")?((r=Object.assign({},t)).chr=t.realChr,r.start=t.realStart,r.end=t.realEnd,delete r.realChr,delete r.realStart,delete r.realEnd):r=t;for(var i=0,a=Object.keys(r);i<a.length;i++){var o=a[i];!n.has(o)&&Ig(r[o])&&e.push({name:o,value:r[o]})}}(t,r)})),r},Vb.prototype.contextMenuItemList=function(t){var e=this,r=t.viewport.genomicState.referenceFrame,n=t.genomicLocation,i=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",a=r.toBP(2.5);return[{label:"Sort by value",click:function(t){var o={direction:i,chr:r.chrName,start:n-a,end:n+a};!function(t){e.sortSamples(t.chr,t.start,t.end,t.direction)}(o),e.config.sort=o}}]},Vb.prototype.supportsWholeGenome=function(){return this.featureSource.supportsWholeGenome()},Vb.prototype.updateSampleKeys=function(t){var e=new Set(this.sampleKeys),r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,c=s.sampleKey||s.sample;e.has(c)||(e.add(c),this.sampleKeys.push(c))}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}};var Gb=Lg(hy,(function(t,e){var r=this;t.tracks&&(hy.call(this,t,e),this.tracks=[],t.tracks.forEach((function(t){t.type||Tm(t),t.isMergedTrack=!0;var n=e.createTrack(t);n?(n.autoscale=!1,r.tracks.push(n)):console.warn("Could not create track "+t)})),Object.defineProperty(this,"height",{get:function(){return this._height},set:function(t){this._height=t;var e=!0,r=!1,n=void 0;try{for(var i,a=this.tracks[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;o.height=t,o.config.height=t}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}}}),this.height=t.height||100)}));Gb.prototype.getFeatures=function(t,e,r,n){var i=this.tracks.map((function(i){return i.getFeatures(t,e,r,n)}));return Promise.all(i)},Gb.prototype.draw=function(t){var e,r,n,i,a;for(n=t.features,a=function(t,e){var r=0,n=-Number.MAX_VALUE;return e.forEach((function(t,e){t.forEach((function(t){void 0===t.value||Number.isNaN(t.value)||(r=Math.min(r,t.value),n=Math.max(n,t.value))}))})),{min:r,max:n}}(t.genomicState.chromosome.name,n),e=0,r=this.tracks.length;e<r;e++)(i=Object.assign({},t)).features=n[e],this.tracks[e].dataRange=a,this.tracks[e].draw(i)},Gb.prototype.paintAxis=function(t,e,r){var n,i,a;for(!0,n=0,i=this.tracks.length;n<i;n++)if("function"==typeof(a=this.tracks[n]).paintAxis){a.paintAxis(t,e,r);break}},Gb.prototype.popupData=function(t){for(var e=[],r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r].popupData(t);e.push.apply(e,en(i))}return e};var Wb=function(t){this.paired=!0,this.firstAlignment=t,this.chr=t.chr,this.readName=t.readName,t.start<t.mate.position?(this.start=t.start,this.scStart=t.scStart,this.connectingStart=t.start+t.lengthOnRef,this.connectingEnd=t.mate.position):(this.start=t.mate.position,this.scStart=this.start,this.connectingStart=t.mate.position,this.connectingEnd=t.start),this.end=Math.max(t.mate.position,t.start+t.lengthOnRef),this.lengthOnRef=this.end-this.start;var e=Math.max(this.end,t.scStart+t.scLengthOnRef);this.scLengthOnRef=e-this.scStart};function Zb(t){return t.isPaired()&&t.mate&&t.isMateMapped()&&t.chr===t.mate.chr&&(t.isFirstOfPair()||t.isSecondOfPair())&&!(t.isSecondary()||t.isSupplementary())}Wb.prototype.setSecondAlignment=function(t){this.secondAlignment=t;var e=this.firstAlignment;t.start>e.start?this.connectingEnd=t.start:this.connectingStart=t.start+t.lengthOnRef,this.start=Math.min(e.start,t.start),this.end=Math.max(e.start+e.lengthOnRef,t.start+t.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(e.scStart,t.scStart);var r=Math.max(e.scStart+e.scLengthOnRef,t.scStart+t.scLengthOnRef);this.scLengthOnRef=r-this.scStart},Wb.prototype.popupData=function(t){var e=[];return e=e.concat(this.firstAlignment.popupData(t)),this.secondAlignment&&(e.push("-------------------------------"),e=e.concat(this.secondAlignment.popupData(t))),e},Wb.prototype.isPaired=function(){return!0},Wb.prototype.firstOfPairStrand=function(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand};var Xb=function(t,e,r,n,i,a,o){this.chr=t,this.start=Math.floor(e),this.end=Math.ceil(r),this.length=r-e,this.alleleFreqThreshold=o,this.coverageMap=new Qb(t,e,r,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=void 0===n?100:n,this.samplingDepth=void 0===i?1e3:i,this.pairsSupported=void 0===a||a,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new Kb(this.start,this.start+this.samplingWindowSize,this),this.filter=function(t){return t.isMapped()&&!t.isFailsVendorQualityCheck()},this.pairedEndStats=new ew};function Yb(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new tw(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}function Kb(t,e,r){this.start=t,this.end=e,this.alignments=[],this.downsampledCount=0,this.samplingDepth=r.samplingDepth,this.pairsSupported=r.pairsSupported,this.downsampledReads=r.downsampledReads,this.pairsCache=r.pairsCache}function Qb(t,e,r,n){this.chr=t,this.bpStart=e,this.length=r-e,this.coverage=new Array(this.length),this.maximum=0,this.threshold=n,this.qualityWeight=!0}function Jb(t){this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.t=t}function tw(t,e,r){this.start=t,this.end=e,this.counts=r}function ew(t,e){this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0}Xb.prototype.push=function(t){!1!==this.filter(t)&&(t.isPaired()&&this.pairedEndStats.push(t),this.coverageMap.incCounts(t),this.pairsSupported&&this.downsampledReads.has(t.readName)||(t.start>=this.currentBucket.end&&(Yb.call(this),this.currentBucket=new Kb(t.start,t.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(t)))},Xb.prototype.forEach=function(t){this.alignments.forEach(t)},Xb.prototype.finish=function(){void 0!==this.currentBucket&&Yb.call(this),this.alignments.sort((function(t,e){return t.start-e.start})),this.pairsCache=void 0,this.downsampledReads=void 0,this.pairedEndStats.compute()},Xb.prototype.contains=function(t,e,r){return this.chr===t&&this.start<=e&&this.end>=r},Xb.prototype.hasDownsampledIntervals=function(){return this.downsampledIntervals&&this.downsampledIntervals.length>0},Kb.prototype.addAlignment=function(t){var e,r,n;if(this.pairsSupported&&Zb(t)&&(n=this.pairsCache[t.readName]))return n.setSecondAlignment(t),void(this.pairsCache[t.readName]=void 0);this.alignments.length<this.samplingDepth?this.pairsSupported&&Zb(t)?(n=new Wb(t),this.paired=!0,this.pairsCache[t.readName]=n,this.alignments.push(n)):this.alignments.push(t):((e=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(r=this.alignments[e],this.pairsSupported&&Zb(t)?(void 0!==this.pairsCache[r.readName]&&(this.pairsCache[r.readName]=void 0),n=new Wb(t),this.paired=!0,this.pairsCache[t.readName]=n,this.alignments[e]=n):this.alignments[e]=t,this.downsampledReads.add(r.readName)):this.downsampledReads.add(t.readName),this.downsampledCount++)},Qb.prototype.incCounts=function(t){var e=this;if(void 0===t.blocks?v(t):t.blocks.forEach((function(t){v(t)})),t.gaps){var r=!0,n=!1,i=void 0;try{for(var a,o=t.gaps[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("D"===s.type)for(var c=s.start-e.bpStart,h=c;h<c+s.len;h++)h<0||(this.coverage[h]||(this.coverage[h]=new Jb(e.threshold)),this.coverage[h].del++)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}if(t.insertions){var u=!0,l=!1,f=void 0;try{for(var p,d=t.insertions[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var g=p.value.start-this.bpStart;g<0||(this.coverage[g]||(this.coverage[g]=new Jb(e.threshold)),this.coverage[g].ins++)}}catch(t){l=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(l)throw f}}}function v(r){if("S"!==r.type)for(var n=t.seq,i=t.qual,a=r.seqOffset,o=r.start-e.bpStart,s=0;s<r.len;o++,s++){e.coverage[o]||(e.coverage[o]=new Jb(e.threshold));var c=n.charAt(a+s),h=t.strand?"pos"+c:"neg"+c,u=i&&a+s<i.length?i[a+s]:30;e.coverage[o][h]+=1,e.coverage[o]["qual"+c]+=u,e.coverage[o].total+=1,e.coverage[o].qual+=u,e.maximum=Math.max(e.coverage[o].total,e.maximum)}}},Jb.prototype.isMismatch=function(t){var e,r=this,n=this.t*(this.qual?this.qual:this.total);return e=0,["A","T","C","G"].forEach((function(n){n!==t&&(e+=r.qual?r["qual"+n]:r["pos"+n]+r["neg"+n])})),e>=n},tw.prototype.popupData=function(t){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]},ew.prototype.push=function(t){if(t.isProperPair()){var e=Math.abs(t.fragmentLength);this.sumF+=e,this.sumF2+=e*e;var r=t.pairOrientation;if("string"==typeof r&&4===r.length)switch(""+r.charAt(0)+r.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}},ew.prototype.compute=function(){if(this.totalCount>100){this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf");var t=this.sumF/this.totalCount,e=Math.sqrt((this.totalCount*this.sumF2-this.sumF*this.sumF)/(this.totalCount*this.totalCount));this.lowerFragmentLength=t-3*e,this.upperFragmentLength=t+3*e}};function rw(){this.hidden=!1}function nw(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(e>=n.start&&e<n.start+n.len)return n}}function iw(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function aw(t,e){return t[e+1]<<8|t[e]}function ow(t,e){return new DataView(t.buffer).getFloat32(e,!0)}rw.prototype.isMapped=function(){return 0==(4&this.flags)},rw.prototype.isPaired=function(){return 0!=(1&this.flags)},rw.prototype.isProperPair=function(){return 0!=(2&this.flags)},rw.prototype.isFirstOfPair=function(){return 0!=(64&this.flags)},rw.prototype.isSecondOfPair=function(){return 0!=(128&this.flags)},rw.prototype.isSecondary=function(){return 0!=(256&this.flags)},rw.prototype.isSupplementary=function(){return 0!=(2048&this.flags)},rw.prototype.isFailsVendorQualityCheck=function(){return 0!=(512&this.flags)},rw.prototype.isDuplicate=function(){return 0!=(1024&this.flags)},rw.prototype.isMateMapped=function(){return 0==(8&this.flags)},rw.prototype.isNegativeStrand=function(){return 0!=(16&this.flags)},rw.prototype.isMateNegativeStrand=function(){return 0!=(32&this.flags)},rw.prototype.tags=function(){return this.tagDict||(this.tagBA?(this.tagDict=function(t){var e=0,r=t.length,n={};for(;e<r;){var i,a=String.fromCharCode(t[e])+String.fromCharCode(t[e+1]),o=String.fromCharCode(t[e+2]);if("A"===o)i=String.fromCharCode(t[e+3]),e+=4;else if("i"===o||"I"===o)i=iw(t,e+3),e+=7;else if("c"===o||"C"===o)i=t[e+3],e+=4;else if("s"===o||"S"===o)i=aw(t,e+3),e+=5;else if("f"===o)i=ow(t,e+3),e+=7;else if("Z"===o)for(e+=3,i="";;){var s=t[e++];if(0===s)break;i+=String.fromCharCode(s)}else i="B"===o?"Arrays not currently supported":"Error unknown type: "+o;n[a]=i}return n}(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict},rw.prototype.popupData=function(t){var e=[];if(t=Math.floor(t),this.insertions){var r=this.seq,n=!0,i=!1,a=void 0;try{for(var o,s=this.insertions[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,h=c.start;if(t===h||t===h-1)return e.push({name:"Insertion",value:r.substr(c.seqOffset,c.len)}),e.push({name:"Location",value:h}),e}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}e.push({name:"Read Name",value:this.readName}),e.push("<hr>"),e.push({name:"Alignment Start",value:lg(1+this.start),borderTop:!0}),e.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0}),e.push({name:"Cigar",value:this.cigar}),e.push({name:"Mapped",value:p(this.isMapped())}),e.push({name:"Mapping Quality",value:this.mq}),e.push({name:"Secondary",value:p(this.isSecondary())}),e.push({name:"Supplementary",value:p(this.isSupplementary())}),e.push({name:"Duplicate",value:p(this.isDuplicate())}),e.push({name:"Failed QC",value:p(this.isFailsVendorQualityCheck())}),this.isPaired()&&(e.push("<hr>"),e.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),e.push({name:"Mate is Mapped",value:p(this.isMateMapped())}),this.pairOrientation&&e.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(e.push({name:"Mate Chromosome",value:this.mate.chr}),e.push({name:"Mate Start",value:this.mate.position+1}),e.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),e.push({name:"Insert Size",value:this.fragmentLength}))),e.push("<hr>");var u=this.tags(),l=!0;for(var f in u)u.hasOwnProperty(f)&&(l?(e.push({name:f,value:u[f],borderTop:!0}),l=!1):e.push({name:f,value:u[f]}));return e.push("<hr>"),e.push({name:"Genomic Location: ",value:lg(1+t)}),e.push({name:"Read Base:",value:this.readBaseAt(t)}),e.push({name:"Base Quality:",value:this.readBaseQualityAt(t)}),e;function p(t){return t?"Yes":"No"}},rw.prototype.readBaseAt=function(t){var e=nw(this.blocks,t);if(e){if("*"===this.seq)return"*";var r=e.seqIndexAt(t);return this.seq[r]}},rw.prototype.readBaseQualityAt=function(t){var e=nw(this.blocks,t);if(e){if("*"===this.qual)return 30;var r=e.seqIndexAt(t);return r>=0&&this.qual&&r<this.qual.length?this.qual[r]:30}};var sw=function(t){t&&Object.assign(this,t)};function cw(t){t||(t={}),this.vendorFailed=void 0===t.vendorFailed||t.vendorFailed,this.duplicates=void 0===t.duplicates||t.duplicates,this.secondary=t.secondary||!1,this.supplementary=t.supplementary||!1,this.mqThreshold=void 0===t.mqThreshold?0:t.mqThreshold,t.readgroups&&(this.readgroups=new Set(t.readgroups))}sw.prototype.seqIndexAt=function(t){return Math.floor(t)-this.start+this.seqOffset},cw.prototype.pass=function(t){if(this.vendorFailed&&t.isFailsVendorQualityCheck())return!1;if(this.duplicates&&t.isDuplicate())return!1;if(this.secondary&&t.isSecondary())return!1;if(this.supplementary&&t.isSupplementary())return!1;if(t.mq<this.mqThreshold)return!1;if(this.readgroups){var e=t.tags().RG;return this.readgroups.has(e)}return!0};var hw=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],uw=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],lw=dw(new Uint8Array([66,65,77,1]),0),fw={readHeader:function(t,e,r){return lv.loadArrayBuffer(t,e).then((function(t){var e;return e=Zg(t),fw.decodeBamHeader(e,r)}))},decodeBamHeader:function(t,e){var r,n,i,a,o;if((r=dw(t,0))!==lw)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");n=dw(t,4);for(var s=0;s<n;++s)String.fromCharCode(t[s+8]);var c=dw(t,n+8),h=n+12;for(i={},a=[],o={},s=0;s<c;++s){for(var u=dw(t,h),l="",f=0;f<u-1;++f)l+=String.fromCharCode(t[h+4+f]);dw(t,h+u+4);i[l]=s,a[s]=l,e&&(o[e.getChromosomeName(l)]=l),h=h+8+u}return{magicNumber:r,size:h,chrNames:a,chrToIndex:i,chrAliasTable:o}},bam_tag2cigar:function(t,e,r,n,i,a){function o(t){return"C"===t||"c"===t||"A"===t?1:"S"===t||"s"===t?2:"I"===t||"i"===t||"f"===t?4:0}if(1!==a.length||i.start<0)return!1;for(var s=r+(n+1>>1)+n;s+4<e;){if("CG"===String.fromCharCode(t[s])+String.fromCharCode(t[s+1]))break;var c=String.fromCharCode(t[s+2]);if("B"===c)s+=8+o(c=String.fromCharCode(t[s+3]))*dw(t,s+4);else if("Z"===c||"H"===c)for(s+=3;0!==t[s++];);else s+=3+o(c)}if(s>=e)return!1;if("B"!==String.fromCharCode(t[s+2])||"I"!==String.fromCharCode(t[s+3]))return!1;var h=dw(t,s+4),u=s+8;if(u+4*h>e)return!1;var l="",f=0;a.length=0,s=u;for(var p=0;p<h;++p,s+=4){var d=dw(t,s),g=d>>4,v=uw[15&d];"M"!==v&&"EQ"!==v&&"X"!==v&&"D"!==v&&"N"!==v&&"="!==v||(f+=g),l=l+g+v,a.push({len:g,ltr:v})}return i.cigar=l,i.lengthOnRef=f,!0},decodeBamRecords:function(t,e,r,n,i,a,o,s){for(;e<t.length;){var c=e+dw(t,e)+4,h=new rw,u=dw(t,e+4),l=dw(t,e+8);if(c>t.length)return;if(u<0)e=c;else{if(void 0!==i&&(u>i||l>o))return!0;if(void 0!==i&&u<i)e=c;else{for(var f=dw(t,e+12),p=(65280&f)>>8,d=255&f,g=dw(t,e+16),v=(4294901760&g)>>16,m=65535&g,y=dw(t,e+20),b=dw(t,e+24),w=dw(t,e+28),x=dw(t,e+32),k=[],S=0;S<d-1;++S)k.push(String.fromCharCode(t[e+36+S]));k=k.join("");for(var _=0,C="",A=e+36+d,E=[],R=void 0,T=0;T<m;++T){var L=dw(t,A),I=L>>4,M=uw[15&L];"M"!==M&&"EQ"!==M&&"X"!==M&&"D"!==M&&"N"!==M&&"="!==M||(_+=I),C=C+I+M,A+=4,R={len:I,ltr:M},E.push(R)}if(h.chr=n[u],h.start=l,h.flags=v,h.strand=!(16&v),h.readName=k,h.cigar=C,h.lengthOnRef=_,h.fragmentLength=x,h.mq=p,fw.bam_tag2cigar(t,c,A,y,h,E),h.end=h.start+h.lengthOnRef,h.end<a)e=c;else{for(var P=[],O=y+1>>1,N=0;N<O;++N){var F=t[A+N];P.push(hw[(240&F)>>4]),P.push(hw[15&F])}P=P.slice(0,y).join(""),A+=O;for(var D=[],B=0;B<y;++B)D.push(t[A+B]);A+=y,b>=0&&(h.mate={chr:n[b],position:w,strand:!(32&v)}),h.seq=P,h.qual=D,h.tagBA=new Uint8Array(t.buffer.slice(A,c)),this.setPairOrientation(h),(void 0===s||s.pass(h))&&(pw(h,E),r.push(h)),e=c}}}}},decodeSamRecords:function(t,e,r,n,i,a){var o,s,c,h,u,l,f,p,d,g;for(h=(o=fg(t)).length,!1,s=0;s<h;s++)if(u=o[s].split("\t"),(d=new rw).chr=u[2],d.start=Number.parseInt(u[3])-1,d.flags=Number.parseInt(u[1]),d.readName=u[0],d.strand=!(16&d.flags),d.mq=Number.parseInt(u[4]),d.cigar=u[5],d.fragmentLength=Number.parseInt(u[8]),d.seq=u[9],"*"!==d.chr&&d.isMapped()&&d.chr===r){if(d.start>i)break;if(p=0,(g=gw(d.cigar)).forEach((function(t){var e=t.len,r=t.ltr;"M"!==r&&"EQ"!==r&&"X"!==r&&"D"!==r&&"N"!==r&&"="!==r||(p+=e)})),d.lengthOnRef=p,!(d.start+p<n)){for(l=u[10],d.qual=[],c=0;c<l.length;c++)d.qual[c]=l.charCodeAt(c)-33;d.tagDict=u.length<11?{}:vw(u.slice(11)),d.isMateMapped()&&(f=u[6],d.mate={chr:"="===f?d.chr:f,position:Number.parseInt(u[7]),strand:!(32&d.flags)}),this.setPairOrientation(d),(void 0===a||a.pass(d))&&(pw(d,g),e.push(d))}}},setReaderDefaults:function(t,e){t.filter=new cw(e.filter),e.readgroup&&(t.filter.readgroups=new Set([e.readgroup])),t.alleleFreqThreshold=void 0===e.alleleFreqThreshold?.2:e.alleleFreqThreshold,t.samplingWindowSize=void 0===e.samplingWindowSize?100:e.samplingWindowSize,t.samplingDepth=void 0===e.samplingDepth?500:e.samplingDepth,t.samplingDepth>1e4&&(t.samplingDepth=1e4),e.viewAsPairs?t.pairsSupported=!0:t.pairsSupported=void 0===e.pairsSupported||e.pairsSupported},setPairOrientation:function(t){if(t.isMapped()&&t.mate&&t.isMateMapped()&&t.mate.chr===t.chr){var e=t.strand?"F":"R",r=t.mate,n=r.strand?"F":"R",i=" ",a=" ";t.isFirstOfPair()?(i="1",a="2"):t.isSecondOfPair()&&(i="2",a="1");var o=[],s=t.fragmentLength,c=t.end-t.start;if(0===s)s=(t.start<r.position?r.position+c:r.position-c)-t.start;s>0?(o[0]=e,o[1]=i,o[2]=n,o[3]=a):(o[2]=e,o[3]=i,o[0]=n,o[1]=a),t.pairOrientation=o.join("")}}};function pw(t,e){var r,n,i=[],a=0,o=t.start;t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef;var s=!0,c=!1,h=void 0;try{for(var u,l=e[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value,p=void 0;switch(f.ltr){case"H":case"P":break;case"S":p=o,t.scLengthOnRef+=f.len,0===i.length&&(t.scStart-=f.len,p-=f.len),i.push(new sw({start:p,seqOffset:a,len:f.len,type:"S"})),a+=f.len;break;case"N":case"D":void 0===n&&(n=[]),n.push({start:o,len:f.len,type:f.ltr}),o+=f.len;break;case"I":void 0===r&&(r=[]),r.push(new sw({start:o,len:f.len,seqOffset:a,type:"I"})),a+=f.len;break;case"M":case"EQ":case"=":case"X":i.push(new sw({start:o,seqOffset:a,len:f.len,type:"M"})),a+=f.len,o+=f.len}}}catch(t){c=!0,h=t}finally{try{s||null==l.return||l.return()}finally{if(c)throw h}}t.blocks=i,t.insertions=r,t.gaps=n}function dw(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function gw(t){var e,r,n,i,a,o,s,c,h;for(e=[],r=[],a=null,i=t.length,n=0;n<i;n++)o=t.charAt(n),h=void 0,(h=o.charCodeAt(0))>=48&&h<=57?r.push(o):(s=o,c=Number.parseInt(r.join("")),r=[],null!==a&&a.ltr===s?a.len+=c:(a={len:c,ltr:s},e.push(a)));return e}function vw(t){var e={};return t.forEach((function(t){var r=t.split(":");e[r[0]]=r[2]})),e}var mw=function(t,e){this.config=t,this.genome=e,this.bamPath=t.url,this.isDataUri=ug(t.url)&&t.url.startsWith("data:"),fw.setReaderDefaults(this,t)};function yw(t){var e=t.split(","),r=e[0].split(":")[1],n=e[1];n=r.indexOf("base64")>=0?atob(n):decodeURI(n);for(var i=new Uint8Array(n.length),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}mw.prototype.readAlignments=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w=function(t,e,r){var n,i,a,o;return i=(n=this.header).chrAliasTable.hasOwnProperty(t)?n.chrAliasTable[t]:t,a=this.alignmentCache.queryFeatures(i,e,r),o=new Xb(t,e,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported),a.forEach((function(t){o.push(t)})),o.finish(),o},b=function(t){var e=[];this.header=fw.decodeBamHeader(t),fw.decodeBamRecords(t,this.header.size,e,this.header.chrNames),this.alignmentCache=new Ty(e,i)},i=this.genome,!this.alignmentCache){t.next=31;break}for(a=this.header,o=a.chrAliasTable.hasOwnProperty(e)?a.chrAliasTable[e]:e,s=this.alignmentCache.queryFeatures(o,r,n),c=new Xb(e,r,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),h=!0,u=!1,l=void 0,t.prev=11,f=s[Symbol.iterator]();!(h=(p=f.next()).done);h=!0)d=p.value,c.push(d);t.next=19;break;case 15:t.prev=15,t.t0=t.catch(11),u=!0,l=t.t0;case 19:t.prev=19,t.prev=20,h||null==f.return||f.return();case 22:if(t.prev=22,!u){t.next=25;break}throw l;case 25:return t.finish(22);case 26:return t.finish(19);case 27:return c.finish(),t.abrupt("return",c);case 31:if(!this.isDataUri){t.next=38;break}return g=yw(this.bamPath),v=Zg(g.buffer),b.call(this,v),t.abrupt("return",w.call(this,e,r,n));case 38:return t.next=40,lv.loadArrayBuffer(this.bamPath,Mg(this.config));case 40:return m=t.sent,y=Zg(m),b.call(this,y),t.abrupt("return",w.call(this,e,r,n));case 44:case"end":return t.stop()}}),t,this,[[11,15,19,27],[20,,22,26]])})));return function(e,r,n){return t.apply(this,arguments)}}();var bw=function(t,e){this.config=t,this.genome=e,this.bamPath=t.url,this.baiPath=t.indexURL||function(t,e){var r;if(t instanceof File)throw new Error("Cannot infer an index path for a local File.  Please select explicitly");return t.includes("?")?(r=t.indexOf("?"),t.substring(0,r)+"."+e+t.substring(r)):t+"."+e}(this.bamPath,"bai"),fw.setReaderDefaults(this,t)};function ww(){return xw.apply(this,arguments)}function xw(){return(xw=jr(regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.header){t.next=15;break}return e=this.genome,t.next=4,kw.call(this);case 4:return r=t.sent,n=Mg(this.config,{range:{start:r.firstAlignmentBlock,size:26}}),t.next=8,lv.loadArrayBuffer(this.bamPath,n);case 8:return i=t.sent,a=Xg(i),o=r.firstAlignmentBlock+a,s=Mg(this.config,{range:{start:0,size:o}}),t.next=14,fw.readHeader(this.bamPath,s,e);case 14:this.header=t.sent;case 15:return t.abrupt("return",this.header);case 16:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function kw(){return Sw.apply(this,arguments)}function Sw(){return(Sw=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.genome,this.index){t.next=6;break}return t.next=4,ky(this.baiPath,this.config,!1,e);case 4:return this.index=t.sent,t.abrupt("return",this.index);case 6:return t.abrupt("return",this.index);case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function _w(){return Cw.apply(this,arguments)}function Cw(){return(Cw=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.chrToIndex){t.next=4;break}return t.abrupt("return",this.chrToIndex);case 4:return t.next=6,ww.call(this);case 6:return e=t.sent,this.chrToIndex=e.chrToIndex,this.indexToChr=e.chrNames,this.chrAliasTable=e.chrAliasTable,t.abrupt("return",this.chrToIndex);case 11:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}bw.prototype.readAlignments=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_w.call(this);case 2:if(i=t.sent,a=this.chrAliasTable.hasOwnProperty(e)?this.chrAliasTable[e]:e,o=i[a],s=new Xb(e,r,n,this.config.samplingWindowSize,this.config.samplingDepth,this.config.pairsSupported,this.config.alleleFreqThreshold),void 0!==o){t.next=10;break}return t.abrupt("return",s);case 10:return t.next=12,kw.call(this);case 12:if(c=t.sent,(h=c.blocksForRange(o,r,n))&&0!==h.length){t.next=16;break}return t.abrupt("return",s);case 16:u=!0,l=!1,f=void 0,t.prev=20,p=h[Symbol.iterator]();case 22:if(u=(d=p.next()).done){t.next=48;break}if(g=d.value,v=void 0,0!==g.maxv.offset){t.next=29;break}v=0,t.next=34;break;case 29:return m=Mg(this.config,{range:{start:g.maxv.block,size:26}}),t.next=32,lv.loadArrayBuffer(this.bamPath,m);case 32:y=t.sent,v=Xg(y);case 34:return b=g.minv.block,w=g.maxv.block+v,x={start:b,size:w-b+1},t.next=39,lv.loadArrayBuffer(this.bamPath,Mg(this.config,{range:x}));case 39:if(k=t.sent,S=Zg(k),!fw.decodeBamRecords(S,g.minv.offset,s,this.indexToChr,o,r,n,this.filter)){t.next=44;break}return t.abrupt("break",48);case 44:case 45:u=!0,t.next=22;break;case 48:t.next=54;break;case 50:t.prev=50,t.t0=t.catch(20),l=!0,f=t.t0;case 54:t.prev=54,t.prev=55,u||null==p.return||p.return();case 57:if(t.prev=57,!l){t.next=60;break}throw f;case 60:return t.finish(57);case 61:return t.finish(54);case 62:return s.finish(),t.abrupt("return",s);case 64:case"end":return t.stop()}}),t,this,[[20,50,54,62],[55,,57,61]])})));return function(e,r,n){return t.apply(this,arguments)}}();var Aw=function(t,e){this.config=t,this.genome=e;var r={},n={};t.sources.sequences.forEach((function(t){if(r[t]=null,e){var i=e.getChromosomeName(t);n[i]=t}})),this.chrAliasTable=n,this.bamReaders=r,fw.setReaderDefaults(this,t)};Aw.prototype.readAlignments=function(t,e,r){this.genome;var n=this,i=n.chrAliasTable.hasOwnProperty(t)?n.chrAliasTable[t]:t;if(this.bamReaders.hasOwnProperty(i)&&"none"!==this.bamReaders[i]){var a,o=n.bamReaders[i];if(!o){a={url:n.config.sources.url.replace("$CHR",i)},n.config.sources.indexURL&&(a.indexURL=n.config.sources.indexURL.replace("$CHR",i));var s=Object.assign(n.config,a);o=new bw(s),n.bamReaders[i]=o}return o.readAlignments(i,e,r).catch((function(o){return console.error(o),hv.presentAlert(a.url),n.bamReaders[i]="none",new Xb(t,e,r)}))}return Promise.resolve(new Xb(t,e,r))};var Ew=function(t,e){this.config=t,this.genome=e,fw.setReaderDefaults(this,t)};function Rw(){var t=this,e=this.genome;if(this.header)return Promise.resolve(this.header);var r=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",n=Mg(this.config);return fw.readHeader(r,n,e).then((function(e){return t.header=e,e}))}Ew.prototype.readAlignments=function(t,e,r){var n=this;return Rw.call(n).then((function(i){var a,o;return a=i.chrAliasTable.hasOwnProperty(t)?i.chrAliasTable[t]:t,o=n.config.url+"?reference="+n.config.referenceFile+"&file="+n.config.alignmentFile+"&region="+a+":"+e+"-"+r,lv.loadString(o,Mg(n.config)).then((function(o){var s;return i.chrToIndex[a],s=new Xb(t,e,r,n.samplingWindowSize,n.samplingDepth,n.pairsSupported,n.alleleFreqThreshold),fw.decodeSamRecords(o,s,a,e,r,n.filter),s}))}))};var Tw=function(t,e){this.config=t,this.genome=e,fw.setReaderDefaults(this,t)};function Lw(t){var e=[];return t.forEach((function(t){if(t.url.startsWith("data:"))e.push(Promise.resolve(function(t){var e=t.split(","),r=e[0].split(":")[1],n=e[1];n=r.indexOf("base64")>=0?atob(n):decodeURI(n);for(var i=new Uint8Array(n.length),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(t.url)));else{var r={};t.headers&&(r.headers=t.headers,r.headers.hasOwnProperty("referer")&&delete r.headers.referer),e.push(new Promise((function(e,n){lv.loadArrayBuffer(t.url,r).then((function(t){e(new Uint8Array(t))}))})))}})),Promise.all(e)}function Iw(t){var e=0;t.forEach((function(t){e+=t.length}));var r=0,n=new Uint8Array(e);return t.forEach((function(t){n.set(t,r),r+=t.length})),n}Tw.prototype.readAlignments=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n,i){var a,o,s,c,h,u,l,f,p,d,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config.format||"BAM"===this.config.format.toUpperCase()){t.next=2;break}throw Error("htsget format ".concat(this.config.format," is not supported"));case 2:return a=this.genome,o=this.header&&this.header.chrAliasTable.hasOwnProperty(e)?this.header.chrAliasTable[e]:e,s=this.config.url?this.config.url+this.config.endpoint:this.config.endpoint+"/reads/",c=s+this.config.id+"?format=BAM&referenceName="+o+"&start="+r+"&end="+n,t.next=8,lv.loadJson(c,this.config);case 8:return h=t.sent,t.next=11,Lw(h.htsget.urls);case 11:if(u=t.sent,l=Iw(u),f=Zg(l.buffer),p=f,this.header=fw.decodeBamHeader(p,a),d=this.header.chrToIndex[e],g=new Xb(e,r,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),fw.decodeBamRecords(p,this.header.size,g,this.header.chrNames,d,r,n),g.finish(),0!==g.alignments.length){t.next=29;break}if(void 0!==d||!this.header.chrAliasTable.hasOwnProperty(e)||i){t.next=26;break}return o=this.header.chrAliasTable[e],t.abrupt("return",this.readAlignments(o,r,n,1));case 26:return t.abrupt("return",g);case 27:t.next=30;break;case 29:return t.abrupt("return",g);case 30:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i){return t.apply(this,arguments)}}();mf("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),kf);fn("hasInstance"),fn("species"),fn("toStringTag");var Mw=Gt.some,Pw=se("some"),Ow=ne("some");It({target:"Array",proto:!0,forced:!Pw||!Ow},{some:function(t){return Mw(this,t,arguments.length>1?arguments[1]:void 0)}}),aa("Array");var Nw=Zp.ArrayBuffer,Fw=n.ArrayBuffer;It({global:!0,forced:Fw!==Nw},{ArrayBuffer:Nw}),aa("ArrayBuffer");var Dw=Ht("hasInstance"),Bw=Function.prototype;Dw in Bw||R.f(Bw,Dw,{value:function(t){if("function"!=typeof this||!v(t))return!1;if(!v(this.prototype))return t instanceof this;for(;t=mi(t);)if(this.prototype===t)return!0;return!1}}),gn(n.JSON,"JSON",!0),gn(Math,"Math",!0),It({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),It({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var zw=vf.onFreeze,Uw=Object.freeze,Hw=i((function(){Uw(1)}));It({target:"Object",stat:!0,forced:Hw,sham:!gf},{freeze:function(t){return Uw&&v(t)?Uw(zw(t)):t}});var $w=C.f,jw=i((function(){$w(1)}));It({target:"Object",stat:!0,forced:!a||jw,sham:!a},{getOwnPropertyDescriptor:function(t,e){return $w(g(t),e)}});var qw=/"/g;It({target:"String",proto:!0,forced:function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}("sub")},{sub:function(){return t="sub",e="",r="",n=String(d(this)),i="<"+t,""!==e&&(i+=" "+e+'="'+String(r).replace(qw,"&quot;")+'"'),i+">"+n+"</"+t+">";var t,e,r,n,i}}),Qp("Float32",(function(t){return function(e,r,n){return t(this,e,r,n)}})),Qp("Float64",(function(t){return function(e,r,n){return t(this,e,r,n)}})),Qp("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}}));var Vw=!n.setImmediate||!n.clearImmediate;It({global:!0,bind:!0,enumerable:!0,forced:Vw},{setImmediate:Vc.set,clearImmediate:Vc.clear});var Gw=eval,Ww=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==Hr(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=35)}([function(t,e){var r=function(t){function e(){return qr(this,e),Jr(this,Zr(e).apply(this,arguments))}return Wr(e,t),e}(Qr(Error)),n=function(t){function e(){return qr(this,e),Jr(this,Zr(e).apply(this,arguments))}return Wr(e,t),e}(r);t.exports={CramBufferOverrunError:function(t){function e(){return qr(this,e),Jr(this,Zr(e).apply(this,arguments))}return Wr(e,t),e}(n),CramMalformedError:n,CramUnimplementedError:function(t){function e(){return qr(this,e),Jr(this,Zr(e).apply(this,arguments))}return Wr(e,t),e}(Qr(Error)),CramSizeLimitError:function(t){function e(){return qr(this,e),Jr(this,Zr(e).apply(this,arguments))}return Wr(e,t),e}(r),CramArgumentError:function(t){function e(){return qr(this,e),Jr(this,Zr(e).apply(this,arguments))}return Wr(e,t),e}(r)}},function(t,e,r){(function(t){
/*!
	     * The buffer module from node.js, for the browser.
	     *
	     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	     * @license  MIT
	     */
var n=r(37),i=r(38),a=r(19);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return h(this,t,e,r)}function h(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=s(t,n)).write(e,r);return i!==n&&(t=t.slice(0,i)),t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|p(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):f(t,e);if("Buffer"===e.type&&a(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(u(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|p(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,i){var a,o=1,s=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var u=-1;for(a=r;a<s;a++)if(h(t,a)===h(e,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+c>s&&(r=s-c),a=r;a>=0;a--){for(var l=!0,f=0;f<c;f++)if(h(t,a+f)!==h(e,f)){l=!1;break}if(l)return a}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[r+o]=s}return o}function b(t,e,r,n){return $(U(e,t.length-r),t,r,n)}function w(t,e,r,n){return $(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return w(t,e,r,n)}function k(t,e,r,n){return $(H(e),t,r,n)}function S(t,e,r,n){return $(function(t,e){for(var r,n,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(r=t.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(e,t.length-r),t,r,n)}function _(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a,o,s,c,h=t[i],u=null,l=h>239?4:h>223?3:h>191?2:1;if(i+l<=r)switch(l){case 1:h<128&&(u=h);break;case 2:128==(192&(a=t[i+1]))&&(c=(31&h)<<6|63&a)>127&&(u=c);break;case 3:a=t[i+1],o=t[i+2],128==(192&a)&&128==(192&o)&&(c=(15&h)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&h)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,l=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=l}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=A));return r}(n)}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return h(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,n){return u(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return E(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),s=Math.min(a,o),h=this.slice(n,i),u=t.slice(e,r),l=0;l<s;++l)if(h[l]!==u[l]){a=h[l],o=u[l];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function E(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=z(t[a]);return i}function L(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function I(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,r,n,i,a){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function N(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,a){return a||N(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,a){return a||N(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;r=new c(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},c.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);M(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);M(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=c.isBuffer(t)?t:U(new c(t,n).toString()),s=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function H(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(2))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":Hr(window))&&(r=window)}t.exports=r},function(t,e){var r,n,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var c,h=[],u=!1,l=-1;function f(){u&&c&&(u=!1,c.length?h=c.concat(h):l=-1,h.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=h.length;e;){for(c=h,h=[];++l<e;)c&&c[l].run();l=-1,e=h.length}c=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new d(t,e)),1!==h.length||u||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){var n=r(9),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var a=r(7);a.inherits=r(4);var o=r(21),s=r(16);a.inherits(l,o);for(var c=i(s.prototype),h=0;h<c.length;h++){var u=c[h];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);o.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){var n=r(0).CramBufferOverrunError,i={int:!0,byte:!0,long:!0,byteArray:!0,byteArrayBlock:!0};t.exports=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(qr(this,t),this.parameters=e,this.dataType=r,!r)throw new TypeError("must provide a data type to codec constructor");if(!i[r])throw new TypeError("invalid data type ".concat(r))}return Gr(t,[{key:"_getBits",value:function(t,e,r){var i=0;if(e.bytePosition+(7-e.bitPosition+r)/8>t.length)throw new n("read error during decoding. the file seems to be truncated.");for(var a=r;a;a-=1)i<<=1,i|=t[e.bytePosition]>>e.bitPosition&1,e.bitPosition-=1,e.bitPosition<0&&(e.bytePosition+=1),e.bitPosition&=7;return i}}]),t}()},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==Hr(t)},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==Hr(t)&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==Hr(t)||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(1).Buffer)},function(t,e,r){var n=r(72),i=r(0).CramBufferOverrunError;t.exports={itf8Size:function(t){return-128&t?-16384&t?-2097152&t?-268435456&t?5:4:3:2:1},parseItf8:function(t,e){var r,n=e,a=t[n];if(a<128?(r=a,n+=1):a<192?(r=16383&(a<<8|t[n+1]),n+=2):a<224?(r=2097151&(a<<16|t[n+1]<<8|t[n+2]),n+=3):a<240?(r=268435455&(a<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),n+=4):(r=(15&a)<<28|t[n+1]<<20|t[n+2]<<12|t[n+3]<<4|15&t[n+4],n+=5),n>t.length)throw new i("Attempted to read beyond end of buffer; this file seems truncated.");return[r,n-e]},parseItem:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=e.parse(t),a=i.offset,o=i.result;return o._endPosition=a+n,o._size=a-r,o},tinyMemoize:function(t,e){var r=t.prototype[e],n="_memo_".concat(e);t.prototype[e]=function(){return n in this||(this[n]=r.call(this)),this[n]}},sequenceMD5:function(t){return n(t.toUpperCase().replace(/[^\x21-\x7e]/g,""))}}},function(t,e,r){(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return e.nextTick((function(){t.apply(null,a)}))}}}:t.exports=e}).call(this,r(3))},function(t,e,r){var n=r(1),i=n.Buffer;function a(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=o),a(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=Hr(r))throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){var e,r,n,i,a,o;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(o=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)a=t[e],o.set(a,i),i+=a.length;return o}},o={arraySet:function(t,e,r,n,i){for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,a)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)},function(t,e,r){var n=r(0).CramMalformedError,i=r(13),a=function t(){qr(this,t),this.F=void 0,this.C=void 0};function o(t,e,r,n){return r*(t>>n)+(t&(1<<n)-1)-e}var s={FC:a,AriDecoder:function t(){qr(this,t),this.fc=new Array(256);for(var e=0;e<this.fc.length;e+=1)this.fc[e]=new a;this.R=null},Symbol:function t(){qr(this,t),this.start=void 0,this.freq=void 0},symbolInit:function(t,e,r){if(!(e<=65536))throw new n("assertion failed: start <= 1<<16");if(!(r<=65536-e))throw new n("assertion failed: freq <= 1<<16");t.start=e,t.freq=r},advanceStep:o,advanceSymbolStep:function(t,e,r){return o(t,e.start,e.freq,r)},get:function(t,e){return t&(1<<e)-1},advanceSymbol:function(t,e,r,n){return function(t,e,r,n,a){if((t=n*(t>>a)+(t&(1<<a)-1)-r)<i.RANS_BYTE_L)do{t=t<<8|255&e.get()}while(t<i.RANS_BYTE_L);return t}(t,e,r.start,r.freq,n)},renormalize:function(t,e){if(t<i.RANS_BYTE_L)do{t=t<<8|255&e.get()}while(t<i.RANS_BYTE_L);return t}};t.exports=s},function(t,e){t.exports={TF_SHIFT:12,TOTFREQ:4096,RANS_BYTE_L:1<<23}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==Hr(t)&&null!==t}function a(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,o,s,c,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(a(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),o=(h=r.slice()).length,c=0;c<o;c++)h[c].apply(this,s);return!0},r.prototype.addListener=function(t,e){var o;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,a,o,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(r=this._events[t]).length,a=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(s=o;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){(e=t.exports=r(21)).Stream=e,e.Readable=e,e.Writable=r(16),e.Duplex=r(5),e.Transform=r(25),e.PassThrough=r(46)},function(t,e,r){(function(e,n,i){var a=r(9);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(void 0),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var s,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:a.nextTick;y.WritableState=m;var h=r(7);h.inherits=r(4);var u,l={deprecate:r(45)},f=r(22),p=r(10).Buffer,d=i.Uint8Array||function(){},g=r(23);function v(){}function m(t,e){s=s||r(5),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,h=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(h||0===h)?h:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(a.nextTick(i,n),a.nextTick(_,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),_(t,e))}(t,r,n,e,i);else{var o=k(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(t,r),n?c(w,t,r,o,i):w(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(s=s||r(5),!(u.call(y,this)||this instanceof s))return new y(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function b(t,e,r,n,i,a,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function w(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),_(t,e)}function x(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,b(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,u=r.encoding,l=r.callback;if(b(t,e,!1,e.objectMode?1:h.length,h,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),_(t,e)}))}function _(t,e){var r=k(e);return r&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,a.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}h.inherits(y,f),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===y&&t&&t._writableState instanceof m}})):u=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=t,p.isBuffer(n)||n instanceof d);return s&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=v),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),a.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),a.nextTick(n,o),i=!1),i}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,a){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=e.objectMode?1:n.length;e.length+=s;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,n,i,a);return c}(this,i,s,t,e,r)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||x(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,_(t,e),r&&(e.finished?a.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(3),r(43).setImmediate,r(2))},function(t,e){t.exports={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},function(t,e,r){var n=r(36);t.exports=n},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(t){var n=r(1).Buffer,i=r(39).Transform,a=r(51),o=r(27),s=r(26).ok,c=r(1).kMaxLength,h="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(a),l=0;l<u.length;l++){var f=u[l];f.match(/^Z/)&&Object.defineProperty(e,f,{enumerable:!0,value:a[f],writable:!1})}for(var p={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},d=Object.keys(p),g=0;g<d.length;g++){var v=d[g];p[p[v]]=v}function m(t,e,r){var i=[],a=0;function o(){for(var e;null!==(e=t.read());)i.push(e),a+=e.length;t.once("readable",o)}function s(){var e,o=null;a>=c?o=new RangeError(h):e=n.concat(i,a),i=[],t.close(),r(o,e)}t.on("error",(function(e){t.removeListener("end",s),t.removeListener("readable",o),r(e)})),t.on("end",s),t.end(e),o()}function y(t,e){if("string"==typeof e&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Not a string or buffer");var r=t._finishFlushFlag;return t._processChunk(e,r)}function b(t){if(!(this instanceof b))return new b(t);E.call(this,t,a.DEFLATE)}function w(t){if(!(this instanceof w))return new w(t);E.call(this,t,a.INFLATE)}function x(t){if(!(this instanceof x))return new x(t);E.call(this,t,a.GZIP)}function k(t){if(!(this instanceof k))return new k(t);E.call(this,t,a.GUNZIP)}function S(t){if(!(this instanceof S))return new S(t);E.call(this,t,a.DEFLATERAW)}function _(t){if(!(this instanceof _))return new _(t);E.call(this,t,a.INFLATERAW)}function C(t){if(!(this instanceof C))return new C(t);E.call(this,t,a.UNZIP)}function A(t){return t===a.Z_NO_FLUSH||t===a.Z_PARTIAL_FLUSH||t===a.Z_SYNC_FLUSH||t===a.Z_FULL_FLUSH||t===a.Z_FINISH||t===a.Z_BLOCK}function E(t,r){var o=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||e.Z_DEFAULT_CHUNK,i.call(this,t),t.flush&&!A(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!A(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:a.Z_FINISH,t.chunkSize&&(t.chunkSize<e.Z_MIN_CHUNK||t.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<e.Z_MIN_WINDOWBITS||t.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<e.Z_MIN_LEVEL||t.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<e.Z_MIN_MEMLEVEL||t.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=e.Z_FILTERED&&t.strategy!=e.Z_HUFFMAN_ONLY&&t.strategy!=e.Z_RLE&&t.strategy!=e.Z_FIXED&&t.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!n.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(r);var s=this;this._hadError=!1,this._handle.onerror=function(t,r){R(s),s._hadError=!0;var n=new Error(t);n.errno=r,n.code=e.codes[r],s.emit("error",n)};var c=e.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(c=t.level);var h=e.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(h=t.strategy),this._handle.init(t.windowBits||e.Z_DEFAULT_WINDOWBITS,c,t.memLevel||e.Z_DEFAULT_MEMLEVEL,h,t.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=h,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function R(e,r){r&&t.nextTick(r),e._handle&&(e._handle.close(),e._handle=null)}function T(t){t.emit("close")}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),e.Deflate=b,e.Inflate=w,e.Gzip=x,e.Gunzip=k,e.DeflateRaw=S,e.InflateRaw=_,e.Unzip=C,e.createDeflate=function(t){return new b(t)},e.createInflate=function(t){return new w(t)},e.createDeflateRaw=function(t){return new S(t)},e.createInflateRaw=function(t){return new _(t)},e.createGzip=function(t){return new x(t)},e.createGunzip=function(t){return new k(t)},e.createUnzip=function(t){return new C(t)},e.deflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new b(e),t,r)},e.deflateSync=function(t,e){return y(new b(e),t)},e.gzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new x(e),t,r)},e.gzipSync=function(t,e){return y(new x(e),t)},e.deflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new S(e),t,r)},e.deflateRawSync=function(t,e){return y(new S(e),t)},e.unzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new C(e),t,r)},e.unzipSync=function(t,e){return y(new C(e),t)},e.inflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new w(e),t,r)},e.inflateSync=function(t,e){return y(new w(e),t)},e.gunzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new k(e),t,r)},e.gunzipSync=function(t,e){return y(new k(e),t)},e.inflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),m(new _(e),t,r)},e.inflateRawSync=function(t,e){return y(new _(e),t)},o.inherits(E,i),E.prototype.params=function(r,n,i){if(r<e.Z_MIN_LEVEL||r>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+r);if(n!=e.Z_FILTERED&&n!=e.Z_HUFFMAN_ONLY&&n!=e.Z_RLE&&n!=e.Z_FIXED&&n!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==r||this._strategy!==n){var o=this;this.flush(a.Z_SYNC_FLUSH,(function(){s(o._handle,"zlib binding closed"),o._handle.params(r,n),o._hadError||(o._level=r,o._strategy=n,i&&i())}))}else t.nextTick(i)},E.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},E.prototype._flush=function(t){this._transform(n.alloc(0),"",t)},E.prototype.flush=function(e,r){var i=this,o=this._writableState;("function"==typeof e||void 0===e&&!r)&&(r=e,e=a.Z_FULL_FLUSH),o.ended?r&&t.nextTick(r):o.ending?r&&this.once("end",r):o.needDrain?r&&this.once("drain",(function(){return i.flush(e,r)})):(this._flushFlag=e,this.write(n.alloc(0),"",r))},E.prototype.close=function(e){R(this,e),t.nextTick(T,this)},E.prototype._transform=function(t,e,r){var i,o=this._writableState,s=(o.ending||o.ended)&&(!t||o.length===t.length);return null===t||n.isBuffer(t)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,t.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(t,i,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},E.prototype._processChunk=function(t,e,r){var i=t&&t.length,a=this._chunkSize-this._offset,o=0,u=this,l="function"==typeof r;if(!l){var f,p=[],d=0;this.on("error",(function(t){f=t})),s(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(e,t,o,i,this._buffer,this._offset,a)}while(!this._hadError&&y(g[0],g[1]));if(this._hadError)throw f;if(d>=c)throw R(this),new RangeError(h);var v=n.concat(p,d);return R(this),v}s(this._handle,"zlib binding closed");var m=this._handle.write(e,t,o,i,this._buffer,this._offset,a);function y(c,h){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var f=a-h;if(s(f>=0,"have should not go down"),f>0){var g=u._buffer.slice(u._offset,u._offset+f);u._offset+=f,l?u.push(g):(p.push(g),d+=g.length)}if((0===h||u._offset>=u._chunkSize)&&(a=u._chunkSize,u._offset=0,u._buffer=n.allocUnsafe(u._chunkSize)),0===h){if(o+=i-c,i=c,!l)return!0;var v=u._handle.write(e,t,o,i,u._buffer,u._offset,u._chunkSize);return v.callback=y,void(v.buffer=t)}if(!l)return!1;r()}}m.buffer=t,m.callback=y},o.inherits(b,E),o.inherits(w,E),o.inherits(x,E),o.inherits(k,E),o.inherits(S,E),o.inherits(_,E),o.inherits(C,E)}).call(this,r(3))},function(t,e,r){(function(e,n){var i=r(9);t.exports=b;var a,o=r(19);b.ReadableState=y,r(14).EventEmitter;var s=function(t,e){return t.listeners(e).length},c=r(22),h=r(10).Buffer,u=e.Uint8Array||function(){},l=r(7);l.inherits=r(4);var f=r(40),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,g=r(41),v=r(23);l.inherits(b,c);var m=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var n=e instanceof(a=a||r(5));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r(24).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(a=a||r(5),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function w(t,e,r,n,i){var a,o=t._readableState;return null===e?(o.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,_(t)}}(t,o)):(i||(a=function(t,e){var r,n;return n=e,h.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(o,e)),a?t.emit("error",a):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||0!==e.length?x(t,o,e,!1):A(t,o)):x(t,o,e,!1))):n||(o.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function x(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&_(t)),A(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=h.from(t,e),e=""),r=!0),w(this,t,e,!1,r)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=r(24).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var k=8388608;function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function _(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),L(t)}function A(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(E,t,e))}function E(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function R(t){p("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function I(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var a=r.data,o=t>a.length?a.length:t;if(o===a.length?i+=a:i+=a.slice(0,t),0==(t-=o)){o===a.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=a.slice(o));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=h.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var a=n.data,o=t>a.length?a.length:t;if(a.copy(r,r.length-t,0,o),0==(t-=o)){o===a.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=a.slice(o));break}++i}return e.length-=i,r}(t,e),n}(t,e.buffer,e.decoder),r);var r}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function O(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):_(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&M(this),null;var n,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(r,e))),null===(n=t>0?I(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1,p("pipe count=%d opts=%j",a.pipesCount,e);var c=e&&!1===e.end||t===n.stdout||t===n.stderr?y:h;function h(){p("onend"),t.end()}a.endEmitted?i.nextTick(c):r.once("end",c),t.on("unpipe",(function e(n,i){p("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),t.removeListener("close",v),t.removeListener("finish",m),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",e),r.removeListener("end",h),r.removeListener("end",y),r.removeListener("data",d),l=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,L(t))}}(r);t.on("drain",u);var l=!1,f=!1;function d(e){p("ondata"),f=!1,!1!==t.write(e)||f||((1===a.pipesCount&&a.pipes===t||a.pipesCount>1&&-1!==O(a.pipes,t))&&!l&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function g(e){p("onerror",e),y(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",m),y()}function m(){p("onfinish"),t.removeListener("close",v),y()}function y(){p("unpipe"),r.unpipe(t)}return r.on("data",d),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",v),t.once("finish",m),t.emit("pipe",r),a.flowing||(p("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var o=O(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},b.prototype.on=function(t,e){var r=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&_(this):i.nextTick(R,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(T,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(p("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var a=0;a<m.length;a++)t.on(m[a],this.emit.bind(this,m[a]));return this._read=function(e){p("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(this,r(2),r(3))},function(t,e,r){t.exports=r(14).EventEmitter},function(t,e,r){var n=r(9);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){var n=r(10).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=h,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=u,this.end=l,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function u(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},a.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},a.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){t.exports=o;var n=r(5),i=r(7);function a(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){c(t,e,r)})):c(this,null,null)}function c(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(4),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},function(t,e,r){(function(e){
/*!
	     * The buffer module from node.js, for the browser.
	     *
	     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	     * @license  MIT
	     */
function n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=r(27),o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,c="foo"===function(){}.name;function h(t){return Object.prototype.toString.call(t)}function u(t){return!i(t)&&"function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var l=t.exports=m,f=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(a.isFunction(t)){if(c)return t.name;var e=t.toString().match(f);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(c||!a.isFunction(t))return a.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function v(t,e,r,n,i){throw new l.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function m(t,e){t||v(t,!0,e,"==",l.ok)}function y(t,e,r,o){if(t===e)return!0;if(i(t)&&i(e))return 0===n(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==Hr(t)||null!==e&&"object"==Hr(e)){if(u(t)&&u(e)&&h(t)===h(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var c=(o=o||{actual:[],expected:[]}).actual.indexOf(t);return-1!==c&&c===o.expected.indexOf(e)||(o.actual.push(t),o.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=b(t),o=b(e);if(i&&!o||!i&&o)return!1;if(i)return y(t=s.call(t),e=s.call(e),r);var c,h,u=k(t),l=k(e);if(u.length!==l.length)return!1;for(u.sort(),l.sort(),h=u.length-1;h>=0;h--)if(u[h]!==l[h])return!1;for(h=u.length-1;h>=0;h--)if(!y(t[c=u[h]],e[c],r,n))return!1;return!0}(t,e,r,o))}return r?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function x(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&v(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!t&&i&&!r;if((!t&&a.isError(i)&&o&&w(i,r)||s)&&v(i,r,"Got unwanted exception"+n),t&&i&&r&&!w(i,r)||!t&&i)throw i}l.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=d(g(this.actual),128)+" "+this.operator+" "+d(g(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),a=n.indexOf("\n"+i);if(a>=0){var o=n.indexOf("\n",a+1);n=n.substring(o+1)}this.stack=n}}},a.inherits(l.AssertionError,Error),l.fail=v,l.ok=m,l.equal=function(t,e,r){t!=e&&v(t,e,r,"==",l.equal)},l.notEqual=function(t,e,r){t==e&&v(t,e,r,"!=",l.notEqual)},l.deepEqual=function(t,e,r){y(t,e,!1)||v(t,e,r,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(t,e,r){y(t,e,!0)||v(t,e,r,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(t,e,r){y(t,e,!1)&&v(t,e,r,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=function t(e,r,n){y(e,r,!0)&&v(e,r,n,"notDeepStrictEqual",t)},l.strictEqual=function(t,e,r){t!==e&&v(t,e,r,"===",l.strictEqual)},l.notStrictEqual=function(t,e,r){t===e&&v(t,e,r,"!==",l.notStrictEqual)},l.throws=function(t,e,r){x(!0,t,e,r)},l.doesNotThrow=function(t,e,r){x(!1,t,e,r)},l.ifError=function(t){if(t)throw t};var k=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e}}).call(this,r(2))},function(t,e,r){(function(t,n){var i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(s(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=a)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),c=n[r];r<a;c=n[++r])g(c)||!w(c)?o+=" "+c:o+=" "+s(c);return o},e.deprecate=function(r,i){if(y(t.process))return function(){return e.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),a=!0}return r.apply(this,arguments)}};var a,o={};function s(t,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),u(n,t,n.depth)}function c(t,e){var r=s.styles[e];return r?"["+s.colors[r][0]+"m"+t+"["+s.colors[r][1]+"m":t}function h(t,e){return t}function u(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)||(i=u(t,i,n)),i}var a=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(m(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return v(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,r);if(a)return a;var o=Object.keys(r),s=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),k(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l(r);if(0===o.length){if(S(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return t.stylize(Date.prototype.toString.call(r),"date");if(k(r))return l(r)}var h,w="",_=!1,A=["{","}"];return p(r)&&(_=!0,A=["[","]"]),S(r)&&(w=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(w=" "+RegExp.prototype.toString.call(r)),x(r)&&(w=" "+Date.prototype.toUTCString.call(r)),k(r)&&(w=" "+l(r)),0!==o.length||_&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),h=_?function(t,e,r,n,i){for(var a=[],o=0,s=e.length;o<s;++o)C(e,String(o))?a.push(f(t,e,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(f(t,e,r,n,i,!0))})),a}(t,r,n,s,o):o.map((function(e){return f(t,r,n,s,e,_)})),t.seen.pop(),function(t,e,r){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(h,w,A)):A[0]+w+A[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),C(n,i)||(o="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(r)?u(t,c.value,null):u(t,c.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return"number"==typeof t}function m(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===_(t)}function w(t){return"object"==Hr(t)&&null!==t}function x(t){return w(t)&&"[object Date]"===_(t)}function k(t){return w(t)&&("[object Error]"===_(t)||t instanceof Error)}function S(t){return"function"==typeof t}function _(t){return Object.prototype.toString.call(t)}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.debuglog=function(t){if(y(a)&&(a=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(a)){var r=n.pid;o[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=m,e.isSymbol=function(t){return"symbol"==Hr(t)},e.isUndefined=y,e.isRegExp=b,e.isObject=w,e.isDate=x,e.isError=k,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==Hr(t)||void 0===t},e.isBuffer=r(52),e.log=function(){},e.inherits=r(4),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,r(2),r(3))},function(t,e,r){t.exports=function(t,e,r,n){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+e[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(t,e,r){var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,e,r,i){var a=n,o=i+r;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},function(t,e,r){t.exports=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(qr(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Gr(t,[{key:"_set",value:function(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){var e=this.oldCache.get(t);return this._set(t,e),e}}},{key:"set",value:function(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}},{key:"has",value:function(t){return this.cache.has(t)||this.oldCache.has(t)}},{key:"peek",value:function(t){return this.cache.has(t)?this.cache.get(t):this.oldCache.has(t)?this.oldCache.get(t):void 0}},{key:"delete",value:function(t){var e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,r=!1,n=void 0,t.prev=3,i=this[Symbol.iterator]();case 5:if(e=(a=i.next()).done){t.next=12;break}return o=tn(a.value,1),s=o[0],t.next=9,s;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==i.return||i.return();case 21:if(t.prev=21,!r){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25]])}))},{key:"values",value:regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,r=!1,n=void 0,t.prev=3,i=this[Symbol.iterator]();case 5:if(e=(a=i.next()).done){t.next=12;break}return o=tn(a.value,2),s=o[1],t.next=9,s;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==i.return||i.return();case 21:if(t.prev=21,!r){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25]])}))},{key:Symbol.iterator,value:regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s,c,h,u,l,f,p,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,r=!1,n=void 0,t.prev=3,i=this.cache[Symbol.iterator]();case 5:if(e=(a=i.next()).done){t.next=12;break}return o=a.value,t.next=9,o;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==i.return||i.return();case 21:if(t.prev=21,!r){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:s=!0,c=!1,h=void 0,t.prev=29,u=this.oldCache[Symbol.iterator]();case 31:if(s=(l=u.next()).done){t.next=41;break}if(f=l.value,p=tn(f,1),d=p[0],t.t1=this.cache.has(d),t.t1){t.next=38;break}return t.next=38,f;case 38:s=!0,t.next=31;break;case 41:t.next=47;break;case 43:t.prev=43,t.t2=t.catch(29),c=!0,h=t.t2;case 47:t.prev=47,t.prev=48,s||null==u.return||u.return();case 50:if(t.prev=50,!c){t.next=53;break}throw h;case 53:return t.finish(50);case 54:return t.finish(47);case 55:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25],[29,43,47,55],[48,,50,54]])}))},{key:"size",get:function(){var t=0,e=!0,r=!1,n=void 0;try{for(var i,a=this.oldCache.keys()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;this.cache.has(o)||t++}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return this._size+t}}]),t}()},function(t,e){t.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function n(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function i(t){return!0===(t&&t.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var a={},o={};function s(t,e){var r,n,i;return e?(i=0<=(t>>>=0)&&t<256)&&(n=o[t])?n:(r=h(t,(0|t)<0?-1:0,!0),i&&(o[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(n=a[t])?n:(r=h(t,t<0?-1:0,!1),i&&(a[t]=r),r)}function c(t,e){if(isNaN(t))return e?y:m;if(e){if(t<0)return y;if(t>=d)return S}else{if(t<=-g)return _;if(t+1>=g)return k}return t<0?c(-t,e).neg():h(t%p|0,t/p|0,e)}function h(t,e,r){return new n(t,e,r)}n.fromInt=s,n.fromNumber=c,n.fromBits=h;var u=Math.pow;function l(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return m;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(t.substring(1),e,r).neg();for(var i=c(u(r,8)),a=m,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),h=parseInt(t.substring(o,o+s),r);if(s<8){var f=c(u(r,s));a=a.mul(f).add(c(h))}else a=(a=a.mul(i)).add(c(h))}return a.unsigned=e,a}function f(t,e){return"number"==typeof t?c(t,e):"string"==typeof t?l(t,e):h(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}n.fromString=l,n.fromValue=f;var p=4294967296,d=p*p,g=d/2,v=s(1<<24),m=s(0);n.ZERO=m;var y=s(0,!0);n.UZERO=y;var b=s(1);n.ONE=b;var w=s(1,!0);n.UONE=w;var x=s(-1);n.NEG_ONE=x;var k=h(-1,2147483647,!1);n.MAX_VALUE=k;var S=h(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var _=h(0,-2147483648,!1);n.MIN_VALUE=_;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var e=c(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=c(u(t,6),this.unsigned),a=this,o="";;){var s=a.div(i),h=(a.sub(s.mul(i)).toInt()>>>0).toString(t);if((a=s).isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(t){return i(t)||(t=f(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},C.eq=C.equals,C.notEquals=function(t){return!this.eq(t)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(t){return this.comp(t)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(t){return this.comp(t)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(t){return this.comp(t)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(t){return this.comp(t)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(t){if(i(t)||(t=f(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(b)},C.neg=C.negate,C.add=function(t){i(t)||(t=f(t));var e=this.high>>>16,r=65535&this.high,n=this.low>>>16,a=65535&this.low,o=t.high>>>16,s=65535&t.high,c=t.low>>>16,u=0,l=0,p=0,d=0;return p+=(d+=a+(65535&t.low))>>>16,l+=(p+=n+c)>>>16,u+=(l+=r+s)>>>16,u+=e+o,h((p&=65535)<<16|(d&=65535),(u&=65535)<<16|(l&=65535),this.unsigned)},C.subtract=function(t){return i(t)||(t=f(t)),this.add(t.neg())},C.sub=C.subtract,C.multiply=function(t){if(this.isZero())return m;if(i(t)||(t=f(t)),r)return h(r.mul(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned);if(t.isZero())return m;if(this.eq(_))return t.isOdd()?_:m;if(t.eq(_))return this.isOdd()?_:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return c(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,s=t.high>>>16,u=65535&t.high,l=t.low>>>16,p=65535&t.low,d=0,g=0,y=0,b=0;return y+=(b+=o*p)>>>16,g+=(y+=a*p)>>>16,y&=65535,g+=(y+=o*l)>>>16,d+=(g+=n*p)>>>16,g&=65535,d+=(g+=a*l)>>>16,g&=65535,d+=(g+=o*u)>>>16,d+=e*p+n*l+a*u+o*s,h((y&=65535)<<16|(b&=65535),(d&=65535)<<16|(g&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(t){if(i(t)||(t=f(t)),t.isZero())throw Error("division by zero");var e,n,a;if(r)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?h((this.unsigned?r.div_u:r.div_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return y;if(t.gt(this.shru(1)))return w;a=y}else{if(this.eq(_))return t.eq(b)||t.eq(x)?_:t.eq(_)?b:(e=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?b:x:(n=this.sub(t.mul(e)),a=e.add(n.div(t)));if(t.eq(_))return this.unsigned?y:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=m}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(e)/Math.LN2),s=o<=48?1:u(2,o-48),l=c(e),p=l.mul(t);p.isNegative()||p.gt(n);)p=(l=c(e-=s,this.unsigned)).mul(t);l.isZero()&&(l=b),a=a.add(l),n=n.sub(p)}return a},C.div=C.divide,C.modulo=function(t){return i(t)||(t=f(t)),r?h((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return h(~this.low,~this.high,this.unsigned)},C.and=function(t){return i(t)||(t=f(t)),h(this.low&t.low,this.high&t.high,this.unsigned)},C.or=function(t){return i(t)||(t=f(t)),h(this.low|t.low,this.high|t.high,this.unsigned)},C.xor=function(t){return i(t)||(t=f(t)),h(this.low^t.low,this.high^t.high,this.unsigned)},C.shiftLeft=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?h(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):h(0,this.low<<t-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?h(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):h(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(t){if(i(t)&&(t=t.toInt()),0==(t&=63))return this;var e=this.high;return t<32?h(this.low>>>t|e<<32-t,e>>>t,this.unsigned):h(32===t?e:e>>>t-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?h(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:h(this.low,this.high,!0)},C.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},C.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},n.fromBytes=function(t,e,r){return r?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},function(t,e){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=r},function(t,e,r){var n=r(87),i=r(94),a=r(97);function o(t){var e=n.parse(t),r=e.protocol,o=e.pathname;return"file:"===r?new a(unescape(o)):new i(t)}t.exports={LocalFile:a,RemoteFile:i,fromUrl:o,open:function(t,e,r){if(r)return r;if(t)return o(t);if(e)return new a(e);throw new Error("no url, path, or filehandle provided, cannot open")}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function i(t){if("function"!=typeof t)throw new TypeError("Argument to promisify must be a function");var e=t[n],r=i.Promise||Promise;if("function"!=typeof r)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var n=this,i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return new r((function(r,i){a.push((function(t){if(t)return i(t);for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];if(1===a.length||!e)return r(a[0]);var s={};a.forEach((function(t,r){var n=e[r];n&&(s[n]=t)})),r(s)})),t.call.apply(t,[n].concat(a))}))}}i.argumentNames=n,i.Promise=void 0,e.promisify=i},function(t,e,r){var n=r(18),i=r(99),a=r(100);t.exports={CramFile:n,IndexedCramFile:i,CraiIndex:a}},function(t,e,r){(function(e){var n=r(20),i=r(61),a=r(30),o=r(0),s=o.CramUnimplementedError,c=o.CramMalformedError,h=r(62),u=r(66),l=u.cramFileDefinition,f=u.getSectionParsers,p=r(71),d=r(33).open,g=r(8),v=g.parseItem,m=g.tinyMemoize,y=r(98).parseHeaderText,b=function(){function t(e){qr(this,t),this.file=d(e.url,e.path,e.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=e.seqFetch,this.options={checkSequenceMD5:!1!==e.checkSequenceMD5,cacheSize:void 0!==e.cacheSize?e.cacheSize:2e4},this.featureCache=new a({maxSize:this.options.cacheSize})}var r,o,u,g,m,b,w,x,k;return Gr(t,[{key:"toString",value:function(){return this.file.filename?this.file.filename:this.file.url?this.file.url:"(cram file)"}},{key:"read",value:function(t,e,r,n){return this.file.read(t,e,r,n)}},{key:"stat",value:function(){return this.file.stat()}},{key:"getDefinition",value:(k=jr(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.allocUnsafe(l.maxLength),t.next=3,this.file.read(r,0,l.maxLength,0);case 3:if(2===(n=l.parser.parse(r).result).majorVersion||3===n.majorVersion){t.next=6;break}throw new s("CRAM version ".concat(n.majorVersion," not supported"));case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"getSamHeader",value:(x=jr(regeneratorRuntime.mark((function t(){var e,r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getContainerById(0);case 2:if(e=t.sent){t.next=5;break}throw new c("file contains no containers");case 5:return t.next=7,e.getFirstBlock();case 7:return r=t.sent,n=r.content,i=n.readInt32LE(0),a=n.toString("utf8",4,4+i),t.abrupt("return",y(a));case 12:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"getSectionParsers",value:(w=jr(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDefinition();case 2:return e=t.sent,r=e.majorVersion,t.abrupt("return",f(r));case 5:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"getContainerById",value:(b=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,h,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSectionParsers();case 2:return r=t.sent,n=r.cramFileDefinition.maxLength,t.next=6,this.file.stat();case 6:i=t.sent,a=i.size,o=r.cramContainerHeader1,h=0;case 10:if(!(h<=e)){t.next=35;break}if(!(n+o.maxLength+8>=a)){t.next=13;break}return t.abrupt("return");case 13:return s=this.getContainerAtPosition(n),t.next=16,s.getHeader();case 16:if(u=t.sent){t.next=19;break}throw new c("container ".concat(e," not found in file"));case 19:if(0!==h){t.next=31;break}n=u._endPosition,l=0;case 22:if(!(l<u.numBlocks)){t.next=29;break}return t.next=25,this.readBlock(n);case 25:n=t.sent._endPosition;case 26:l+=1,t.next=22;break;case 29:t.next=32;break;case 31:n+=u._size+u.length;case 32:h+=1,t.next=10;break;case 35:return t.abrupt("return",s);case 36:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"checkCrc32",value:(m=jr(regeneratorRuntime.mark((function t(r,n,a,o){var s,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.allocUnsafe(n),t.next=3,this.file.read(s,0,n,r);case 3:if((h=i.unsigned(s))===a){t.next=6;break}throw new c("crc mismatch in ".concat(o,": recorded CRC32 = ").concat(a,", but calculated CRC32 = ").concat(h));case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return m.apply(this,arguments)})},{key:"containerCount",value:(g=jr(regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSectionParsers();case 2:return e=t.sent,t.next=5,this.file.stat();case 5:r=t.sent,n=r.size,i=e.cramContainerHeader1,a=0,o=e.cramFileDefinition.maxLength;case 9:if(!(o+i.maxLength+8<n)){t.next=31;break}return t.next=12,this.getContainerAtPosition(o).getHeader();case 12:if(s=t.sent){t.next=15;break}return t.abrupt("break",31);case 15:if(0!==a){t.next=27;break}o=s._endPosition,c=0;case 18:if(!(c<s.numBlocks)){t.next=25;break}return t.next=21,this.readBlock(o);case 21:o=t.sent._endPosition;case 22:c+=1,t.next=18;break;case 25:t.next=28;break;case 27:o+=s._size+s.length;case 28:a+=1;case 29:t.next=9;break;case 31:return t.abrupt("return",a);case 32:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"getContainerAtPosition",value:function(t){return new p(this,t)}},{key:"readBlockHeader",value:(u=jr(regeneratorRuntime.mark((function t(r){var n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSectionParsers();case 2:return n=t.sent,i=n.cramBlockHeader,t.next=6,this.file.stat();case 6:if(a=t.sent,o=a.size,!(r+i.maxLength>=o)){t.next=10;break}return t.abrupt("return");case 10:return s=e.allocUnsafe(i.maxLength),t.next=13,this.file.read(s,0,i.maxLength,r);case 13:return t.abrupt("return",v(s,i.parser,0,r));case 14:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"_parseSection",value:(o=jr(regeneratorRuntime.mark((function t(r,n){var i,a,o,s,h,u,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:r.maxLength,!(a=l.length>3?l[3]:void 0)){t.next=6;break}o=a,t.next=15;break;case 6:return t.next=8,this.file.stat();case 8:if(s=t.sent,h=s.size,!(n+i>=h)){t.next=12;break}return t.abrupt("return");case 12:return o=e.allocUnsafe(i),t.next=15,this.file.read(o,0,i,n);case 15:if((u=v(o,r.parser,0,n))._size===i){t.next=18;break}throw new c("section read error: requested size ".concat(i," does not equal parsed size ").concat(u._size));case 18:return t.abrupt("return",u);case 19:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"_uncompress",value:function(t,e,r){if("gzip"===t)n.gunzipSync(e).copy(r);else{if("rans"!==t)throw new s("".concat(t," decompression not yet implemented"));h.uncompress(e,r)}}},{key:"readBlock",value:(r=jr(regeneratorRuntime.mark((function t(r){var n,i,a,o,s,c,h,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDefinition();case 2:return n=t.sent,i=n.majorVersion,t.next=6,this.getSectionParsers();case 6:return a=t.sent,t.next=9,this.readBlockHeader(r);case 9:if(o=t.sent,s=o._endPosition,o.contentPosition=o._endPosition,c=e.allocUnsafe(o.uncompressedSize),"raw"===o.compressionMethod){t.next=20;break}return h=e.allocUnsafe(o.compressedSize),t.next=17,this.read(h,0,o.compressedSize,s);case 17:this._uncompress(o.compressionMethod,h,c),t.next=22;break;case 20:return t.next=22,this.read(c,0,o.uncompressedSize,s);case 22:if(o.content=c,!(i>=3)){t.next=35;break}return t.next=25,this._parseSection(a.cramBlockCrc32,s+o.compressedSize);case 25:if(u=t.sent,o.crc32=u.crc32,t.t0=this.validateChecksums,!t.t0){t.next=31;break}return t.next=31,this.checkCrc32(r,o._size+o.compressedSize,o.crc32,"block data");case 31:o._endPosition=u._endPosition,o._size=o.compressedSize+a.cramBlockCrc32.maxLength,t.next=36;break;case 35:o._endPosition=s+o.compressedSize,o._size=o.compressedSize;case 36:return t.abrupt("return",o);case 37:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]),t}();"getDefinition getSectionParsers getSamHeader".split(" ").forEach((function(t){return m(b,t)})),t.exports=b}).call(this,r(1).Buffer)},function(t,e,r){e.byteLength=function(t){var e=h(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=h(t),n=r[0],o=r[1],s=new a(function(t,e,r){return 3*(e+r)/4-r}(0,n,o)),c=0,u=o>0?n-4:n,l=0;l<u;l+=4)e=i[t.charCodeAt(l)]<<18|i[t.charCodeAt(l+1)]<<12|i[t.charCodeAt(l+2)]<<6|i[t.charCodeAt(l+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===o&&(e=i[t.charCodeAt(l)]<<2|i[t.charCodeAt(l+1)]>>4,s[c++]=255&e),1===o&&(e=i[t.charCodeAt(l)]<<10|i[t.charCodeAt(l+1)]<<4|i[t.charCodeAt(l+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e),s},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(u(t,o,o+16383>s?s:o+16383));return 1===i?(e=t[r-1],a.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],a.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var i,a,o=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,c=(1<<s)-1,h=c>>1,u=-7,l=r?i-1:0,f=r?-1:1,p=t[e+l];for(l+=f,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=256*a+t[e+l],l+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+t[e+l],l+=f,u-=8);if(0===a)a=1-h;else{if(a===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=h}return(p?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var o,s,c,h=8*a-i-1,u=(1<<h)-1,l=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(e*c-1)*Math.pow(2,i),o+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(o=o<<i|s,h+=i;h>0;t[r+p]=255&o,p+=d,o/=256,h-=8);t[r+p-d]|=128*g}},function(t,e,r){t.exports=i;var n=r(14).EventEmitter;function i(){n.call(this)}r(4)(i,n),i.Readable=r(15),i.Writable=r(47),i.Duplex=r(48),i.Transform=r(49),i.PassThrough=r(50),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",a),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",c));var o=!1;function s(){o||(o=!0,t.end())}function c(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(u(),0===n.listenerCount(this,"error"))throw t}function u(){r.removeListener("data",i),t.removeListener("drain",a),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",h),t.removeListener("error",h),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",h),t.on("error",h),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}},function(t,e){},function(t,e,r){var n=r(10).Buffer,i=r(42);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i=n.allocUnsafe(t>>>0),a=this.head,o=0;a;)e=i,r=o,a.data.copy(e,r),o+=a.data.length,a=a.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(44),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(2))},function(t,e,r){(function(t,e){!function(t,r){if(!t.setImmediate){var n,i,a,o,s,c=1,h={},u=!1,l=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){d(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&d(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){a.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(d,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return h[c]=i,n(c),c++},f.clearImmediate=p}function p(t){delete h[t]}function d(t){if(u)setTimeout(d,0,t);else{var e=h[t];if(e){u=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{p(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(2),r(3))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(2))},function(t,e,r){t.exports=a;var n=r(25),i=r(7);function a(t){if(!(this instanceof a))return new a(t);n.call(this,t)}i.inherits=r(4),i.inherits(a,n),a.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(16)},function(t,e,r){t.exports=r(5)},function(t,e,r){t.exports=r(15).Transform},function(t,e,r){t.exports=r(15).PassThrough},function(t,e,r){(function(t,n){var i=r(26),a=r(53),o=r(54),s=r(57),c=r(60);for(var h in c)e[h]=c[h];function u(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7,u.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==e.INFLATE&&this.mode!==e.GUNZIP&&this.mode!==e.INFLATERAW&&this.mode!==e.UNZIP||s.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null)},u.prototype.write=function(t,e,r,n,i,a,o){return this._write(!0,t,e,r,n,i,a,o)},u.prototype.writeSync=function(t,e,r,n,i,a,o){return this._write(!1,t,e,r,n,i,a,o)},u.prototype._write=function(r,a,o,s,c,h,u,l){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==e.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==e.Z_NO_FLUSH&&a!==e.Z_PARTIAL_FLUSH&&a!==e.Z_SYNC_FLUSH&&a!==e.Z_FULL_FLUSH&&a!==e.Z_FINISH&&a!==e.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=t.alloc(0),c=0,s=0),this.strm.avail_in=c,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=l,this.strm.output=h,this.strm.next_out=u,this.flush=a,!r)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return n.nextTick((function(){f._process(),f._after()})),this},u.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},u.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=e.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},u.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(t,r,n,a,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(t>=8&&t<=15,"invalid windowBits"),i(r>=-1&&r<=9,"invalid compression level"),i(n>=1&&n<=9,"invalid memlevel"),i(a===e.Z_FILTERED||a===e.Z_HUFFMAN_ONLY||a===e.Z_RLE||a===e.Z_FIXED||a===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,t,n,a,o),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(t,r,n,i,c){switch(this.level=t,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=o.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=u}).call(this,r(1).Buffer,r(3))},function(t,e){t.exports=function(t){return t&&"object"==Hr(t)&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,r){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,r){var n,i=r(11),a=r(55),o=r(28),s=r(29),c=r(56),h=-2,u=258,l=262,f=103,p=113,d=666;function g(t,e){return t.msg=c[e],e}function v(t){return(t<<1)-(t>4?9:0)}function m(t){for(var e=t.length;--e>=0;)t[e]=0}function y(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function b(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,y(t.strm)}function w(t,e){t.pending_buf[t.pending++]=e}function x(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function k(t,e){var r,n,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-l?t.strstart-(t.w_size-l):0,h=t.window,f=t.w_mask,p=t.prev,d=t.strstart+u,g=h[a+o-1],v=h[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(h[(r=e)+o]===v&&h[r+o-1]===g&&h[r]===h[a]&&h[++r]===h[a+1]){a+=2,r++;do{}while(h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&a<d);if(n=u-(d-a),a=d-u,n>o){if(t.match_start=e,o=n,n>=s)break;g=h[a+o-1],v=h[a+o]}}}while((e=p[e&f])>c&&0!=--i);return o<=t.lookahead?o:t.lookahead}function S(t){var e,r,n,a,c,h,u,f,p,d,g=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=g+(g-l)){i.arraySet(t.window,t.window,g,g,0),t.match_start-=g,t.strstart-=g,t.block_start-=g,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=g?n-g:0}while(--r);e=r=g;do{n=t.prev[--e],t.prev[e]=n>=g?n-g:0}while(--r);a+=g}if(0===t.strm.avail_in)break;if(h=t.strm,u=t.window,f=t.strstart+t.lookahead,p=a,d=void 0,(d=h.avail_in)>p&&(d=p),r=0===d?0:(h.avail_in-=d,i.arraySet(u,h.input,h.next_in,d,f),1===h.state.wrap?h.adler=o(h.adler,u,d,f):2===h.state.wrap&&(h.adler=s(h.adler,u,d,f)),h.next_in+=d,h.total_in+=d,d),t.lookahead+=r,t.lookahead+t.insert>=3)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+3-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<l&&0!==t.strm.avail_in)}function _(t,e){for(var r,n;;){if(t.lookahead<l){if(S(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-l&&(t.match_length=k(t,r)),t.match_length>=3)if(n=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function C(t,e){for(var r,n,i;;){if(t.lookahead<l){if(S(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-l&&(t.match_length=k(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=a._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function A(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:p,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):g(t,h)}function T(t){var e,r=R(t);return 0===r&&((e=t.state).window_size=2*e.w_size,m(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function L(t,e,r,n,a,o){if(!t)return h;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>9||8!==r||n<8||n>15||e<0||e>9||o<0||o>4)return g(t,h);8===n&&(n=9);var c=new E;return t.state=c,c.strm=t,c.wrap=s,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=o,c.method=r,T(t)}n=[new A(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(S(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-l&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(b(t,!1),t.strm.avail_out),1)})),new A(4,4,8,4,_),new A(4,5,16,8,_),new A(4,6,32,32,_),new A(4,4,16,16,C),new A(8,16,32,32,C),new A(8,16,128,128,C),new A(8,32,128,256,C),new A(32,128,258,1024,C),new A(32,258,258,4096,C)],e.deflateInit=function(t,e){return L(t,e,8,15,8,0)},e.deflateInit2=L,e.deflateReset=T,e.deflateResetKeep=R,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?h:(t.state.gzhead=e,0):h},e.deflate=function(t,e){var r,i,o,c;if(!t||!t.state||e>5||e<0)return t?g(t,h):h;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===d&&4!==e)return g(t,0===t.avail_out?-5:h);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=p);else{var l=8+(i.w_bits-8<<4)<<8;l|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(l|=32),l+=31-l%31,i.status=p,x(i,l),0!==i.strstart&&(x(i,t.adler>>>16),x(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),y(t),o=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),y(t),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),y(t),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(t),i.pending+2<=i.pending_buf_size&&(w(i,255&t.adler),w(i,t.adler>>8&255),t.adler=0,i.status=p)):i.status=p),0!==i.pending){if(y(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&v(e)<=v(r)&&4!==e)return g(t,-5);if(i.status===d&&0!==t.avail_in)return g(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&i.status!==d){var k=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(S(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,o,s=t.window;;){if(t.lookahead<=u){if(S(t),t.lookahead<=u&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=t.strstart+u;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=u-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==k&&4!==k||(i.status=d),1===k||3===k)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===k&&(1===e?a._tr_align(i):5!==e&&(a._tr_stored_block(i,0,0,!1),3===e&&(m(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&t.adler),w(i,t.adler>>8&255),w(i,t.adler>>16&255),w(i,t.adler>>24&255),w(i,255&t.total_in),w(i,t.total_in>>8&255),w(i,t.total_in>>16&255),w(i,t.total_in>>24&255)):(x(i,t.adler>>>16),x(i,65535&t.adler)),y(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==f&&e!==p&&e!==d?g(t,h):(t.state=null,e===p?g(t,-3):0):h},e.deflateSetDictionary=function(t,e){var r,n,a,s,c,u,l,f,p=e.length;if(!t||!t.state)return h;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return h;for(1===s&&(t.adler=o(t.adler,e,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(m(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,e,p-r.w_size,r.w_size,0),e=f,p=r.w_size),c=t.avail_in,u=t.next_in,l=t.input,t.avail_in=p,t.next_in=0,t.input=e,S(r);r.lookahead>=3;){n=r.strstart,a=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--a);r.strstart=n,r.lookahead=2,S(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=u,t.input=l,t.avail_in=c,r.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,r){var n=r(11);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,o=286,s=30,c=15,h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var d=new Array(60);i(d);var g=new Array(512);i(g);var v=new Array(256);i(v);var m=new Array(29);i(m);var y,b,w,x=new Array(s);function k(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function S(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?g[t]:g[256+(t>>>7)]}function C(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function A(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,C(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function E(t,e,r){A(t,r[2*e],r[2*e+1])}function R(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function T(t,e,r){var n,i,a=new Array(16),o=0;for(n=1;n<=c;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=R(a[s]++,s))}}function L(t){var e;for(e=0;e<o;e++)t.dyn_ltree[2*e]=0;for(e=0;e<s;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function I(t){t.bi_valid>8?C(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function M(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function P(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&M(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!M(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function O(t,e,r){var n,i,o,s,c=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===n?E(t,i,e):(E(t,(o=v[i])+a+1,e),0!==(s=h[o])&&A(t,i-=m[o],s),E(t,o=_(--n),r),0!==(s=u[o])&&A(t,n-=x[o],s))}while(c<t.last_lit);E(t,256,e)}function N(t,e){var r,n,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<h;r++)0!==a[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=u,r=t.heap_len>>1;r>=1;r--)P(t,a,r);i=h;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],P(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,P(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,a,o,s,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,g=e.stat_desc.max_length,v=0;for(a=0;a<=c;a++)t.bl_count[a]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(a=h[2*h[2*(n=t.heap[r])+1]+1]+1)>g&&(a=g,v++),h[2*n+1]=a,n>u||(t.bl_count[a]++,o=0,n>=d&&(o=p[n-d]),s=h[2*n],t.opt_len+=s*(a+o),f&&(t.static_len+=s*(l[2*n+1]+o)));if(0!==v){do{for(a=g-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[g]--,v-=2}while(v>0);for(a=g;0!==a;a--)for(n=t.bl_count[a];0!==n;)(i=t.heap[--r])>u||(h[2*i+1]!==a&&(t.opt_len+=(a-h[2*i+1])*h[2*i],h[2*i+1]=a),n--)}}(t,e),T(a,u,t.bl_count)}function F(t,e,r){var n,i,a=-1,o=e[1],s=0,c=7,h=4;for(0===o&&(c=138,h=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++s<c&&i===o||(s<h?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(c=138,h=3):i===o?(c=6,h=3):(c=7,h=4))}function D(t,e,r){var n,i,a=-1,o=e[1],s=0,c=7,h=4;for(0===o&&(c=138,h=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++s<c&&i===o)){if(s<h)do{E(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(E(t,i,t.bl_tree),s--),E(t,16,t.bl_tree),A(t,s-3,2)):s<=10?(E(t,17,t.bl_tree),A(t,s-3,3)):(E(t,18,t.bl_tree),A(t,s-11,7));s=0,a=i,0===o?(c=138,h=3):i===o?(c=6,h=3):(c=7,h=4)}}i(x);var B=!1;function z(t,e,r,i){A(t,0+(i?1:0),3),function(t,e,r,i){I(t),C(t,r),C(t,~r),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r)}e._tr_init=function(t){B||(function(){var t,e,r,n,i,a=new Array(16);for(r=0,n=0;n<28;n++)for(m[n]=r,t=0;t<1<<h[n];t++)v[r++]=n;for(v[r-1]=n,i=0,n=0;n<16;n++)for(x[n]=i,t=0;t<1<<u[n];t++)g[i++]=n;for(i>>=7;n<s;n++)for(x[n]=i<<7,t=0;t<1<<u[n]-7;t++)g[256+i++]=n;for(e=0;e<=c;e++)a[e]=0;for(t=0;t<=143;)p[2*t+1]=8,t++,a[8]++;for(;t<=255;)p[2*t+1]=9,t++,a[9]++;for(;t<=279;)p[2*t+1]=7,t++,a[7]++;for(;t<=287;)p[2*t+1]=8,t++,a[8]++;for(T(p,287,a),t=0;t<s;t++)d[2*t+1]=5,d[2*t]=R(t,5);y=new k(p,h,257,o,c),b=new k(d,u,0,s,c),w=new k(new Array(0),l,0,19,7)}(),B=!0),t.l_desc=new S(t.dyn_ltree,y),t.d_desc=new S(t.dyn_dtree,b),t.bl_desc=new S(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,L(t)},e._tr_stored_block=z,e._tr_flush_block=function(t,e,r,n){var i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),N(t,t.l_desc),N(t,t.d_desc),s=function(t){var e;for(F(t,t.dyn_ltree,t.l_desc.max_code),F(t,t.dyn_dtree,t.d_desc.max_code),N(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*f[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?z(t,e,r,n):4===t.strategy||o===i?(A(t,2+(n?1:0),3),O(t,p,d)):(A(t,4+(n?1:0),3),function(t,e,r,n){var i;for(A(t,e-257,5),A(t,r-1,5),A(t,n-4,4),i=0;i<n;i++)A(t,t.bl_tree[2*f[i]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),O(t,t.dyn_ltree,t.dyn_dtree)),L(t),n&&I(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(v[r]+a+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){A(t,2,3),E(t,256,p),function(t){16===t.bi_valid?(C(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,r){var n=r(11),i=r(28),a=r(29),o=r(58),s=r(59),c=-2,h=12,u=30;function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):c}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,p(t)):c}function g(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?c:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,d(t))):c}function v(t,e){var r,n;return t?(n=new f,t.state=n,n.window=null,0!==(r=g(t,e))&&(t.state=null),r):c}var m,y,b=!0;function w(t){if(b){var e;for(m=new n.Buf32(512),y=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,y,0,t.work,{bits:5}),b=!1}t.lencode=m,t.lenbits=9,t.distcode=y,t.distbits=5}function x(t,e,r,i){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),n.arraySet(o.window,e,r-i,a,o.wnext),(i-=a)?(n.arraySet(o.window,e,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}e.inflateReset=d,e.inflateReset2=g,e.inflateResetKeep=p,e.inflateInit=function(t){return v(t,15)},e.inflateInit2=v,e.inflate=function(t,e){var r,f,p,d,g,v,m,y,b,k,S,_,C,A,E,R,T,L,I,M,P,O,N,F,D=0,B=new n.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;(r=t.state).mode===h&&(r.mode=13),g=t.next_out,p=t.output,m=t.avail_out,d=t.next_in,f=t.input,v=t.avail_in,y=r.hold,b=r.bits,k=v,S=m,O=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(2&r.wrap&&35615===y){r.check=0,B[0]=255&y,B[1]=y>>>8&255,r.check=a(r.check,B,2,0),y=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&y)<<8)+(y>>8))%31){t.msg="incorrect header check",r.mode=u;break}if(8!=(15&y)){t.msg="unknown compression method",r.mode=u;break}if(b-=4,P=8+(15&(y>>>=4)),0===r.wbits)r.wbits=P;else if(P>r.wbits){t.msg="invalid window size",r.mode=u;break}r.dmax=1<<P,t.adler=r.check=1,r.mode=512&y?10:h,y=0,b=0;break;case 2:for(;b<16;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(r.flags=y,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=u;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=u;break}r.head&&(r.head.text=y>>8&1),512&r.flags&&(B[0]=255&y,B[1]=y>>>8&255,r.check=a(r.check,B,2,0)),y=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}r.head&&(r.head.time=y),512&r.flags&&(B[0]=255&y,B[1]=y>>>8&255,B[2]=y>>>16&255,B[3]=y>>>24&255,r.check=a(r.check,B,4,0)),y=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}r.head&&(r.head.xflags=255&y,r.head.os=y>>8),512&r.flags&&(B[0]=255&y,B[1]=y>>>8&255,r.check=a(r.check,B,2,0)),y=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}r.length=y,r.head&&(r.head.extra_len=y),512&r.flags&&(B[0]=255&y,B[1]=y>>>8&255,r.check=a(r.check,B,2,0)),y=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((_=r.length)>v&&(_=v),_&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,d,_,P)),512&r.flags&&(r.check=a(r.check,f,_,d)),v-=_,d+=_,r.length-=_),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===v)break t;_=0;do{P=f[d+_++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P))}while(P&&_<v);if(512&r.flags&&(r.check=a(r.check,f,_,d)),v-=_,d+=_,P)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===v)break t;_=0;do{P=f[d+_++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P))}while(P&&_<v);if(512&r.flags&&(r.check=a(r.check,f,_,d)),v-=_,d+=_,P)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(y!==(65535&r.check)){t.msg="header crc mismatch",r.mode=u;break}y=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=h;break;case 10:for(;b<32;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}t.adler=r.check=l(y),y=0,b=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=g,t.avail_out=m,t.next_in=d,t.avail_in=v,r.hold=y,r.bits=b,2;t.adler=r.check=1,r.mode=h;case h:if(5===e||6===e)break t;case 13:if(r.last){y>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}switch(r.last=1&y,b-=1,3&(y>>>=1)){case 0:r.mode=14;break;case 1:if(w(r),r.mode=20,6===e){y>>>=2,b-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=u}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){t.msg="invalid stored block lengths",r.mode=u;break}if(r.length=65535&y,y=0,b=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(_=r.length){if(_>v&&(_=v),_>m&&(_=m),0===_)break t;n.arraySet(p,f,d,_,g),v-=_,d+=_,m-=_,g+=_,r.length-=_;break}r.mode=h;break;case 17:for(;b<14;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(r.nlen=257+(31&y),y>>>=5,b-=5,r.ndist=1+(31&y),y>>>=5,b-=5,r.ncode=4+(15&y),y>>>=4,b-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=u;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}r.lens[z[r.have++]]=7&y,y>>>=3,b-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,N={bits:r.lenbits},O=s(0,r.lens,0,19,r.lencode,0,r.work,N),r.lenbits=N.bits,O){t.msg="invalid code lengths set",r.mode=u;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;R=(D=r.lencode[y&(1<<r.lenbits)-1])>>>16&255,T=65535&D,!((E=D>>>24)<=b);){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(T<16)y>>>=E,b-=E,r.lens[r.have++]=T;else{if(16===T){for(F=E+2;b<F;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(y>>>=E,b-=E,0===r.have){t.msg="invalid bit length repeat",r.mode=u;break}P=r.lens[r.have-1],_=3+(3&y),y>>>=2,b-=2}else if(17===T){for(F=E+3;b<F;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}b-=E,P=0,_=3+(7&(y>>>=E)),y>>>=3,b-=3}else{for(F=E+7;b<F;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}b-=E,P=0,_=11+(127&(y>>>=E)),y>>>=7,b-=7}if(r.have+_>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=u;break}for(;_--;)r.lens[r.have++]=P}}if(r.mode===u)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=u;break}if(r.lenbits=9,N={bits:r.lenbits},O=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,N),r.lenbits=N.bits,O){t.msg="invalid literal/lengths set",r.mode=u;break}if(r.distbits=6,r.distcode=r.distdyn,N={bits:r.distbits},O=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,N),r.distbits=N.bits,O){t.msg="invalid distances set",r.mode=u;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(v>=6&&m>=258){t.next_out=g,t.avail_out=m,t.next_in=d,t.avail_in=v,r.hold=y,r.bits=b,o(t,S),g=t.next_out,p=t.output,m=t.avail_out,d=t.next_in,f=t.input,v=t.avail_in,y=r.hold,b=r.bits,r.mode===h&&(r.back=-1);break}for(r.back=0;R=(D=r.lencode[y&(1<<r.lenbits)-1])>>>16&255,T=65535&D,!((E=D>>>24)<=b);){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(R&&0==(240&R)){for(L=E,I=R,M=T;R=(D=r.lencode[M+((y&(1<<L+I)-1)>>L)])>>>16&255,T=65535&D,!(L+(E=D>>>24)<=b);){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}y>>>=L,b-=L,r.back+=L}if(y>>>=E,b-=E,r.back+=E,r.length=T,0===R){r.mode=26;break}if(32&R){r.back=-1,r.mode=h;break}if(64&R){t.msg="invalid literal/length code",r.mode=u;break}r.extra=15&R,r.mode=22;case 22:if(r.extra){for(F=r.extra;b<F;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}r.length+=y&(1<<r.extra)-1,y>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;R=(D=r.distcode[y&(1<<r.distbits)-1])>>>16&255,T=65535&D,!((E=D>>>24)<=b);){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(0==(240&R)){for(L=E,I=R,M=T;R=(D=r.distcode[M+((y&(1<<L+I)-1)>>L)])>>>16&255,T=65535&D,!(L+(E=D>>>24)<=b);){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}y>>>=L,b-=L,r.back+=L}if(y>>>=E,b-=E,r.back+=E,64&R){t.msg="invalid distance code",r.mode=u;break}r.offset=T,r.extra=15&R,r.mode=24;case 24:if(r.extra){for(F=r.extra;b<F;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}r.offset+=y&(1<<r.extra)-1,y>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=u;break}r.mode=25;case 25:if(0===m)break t;if(_=S-m,r.offset>_){if((_=r.offset-_)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=u;break}_>r.wnext?(_-=r.wnext,C=r.wsize-_):C=r.wnext-_,_>r.length&&(_=r.length),A=r.window}else A=p,C=g-r.offset,_=r.length;_>m&&(_=m),m-=_,r.length-=_;do{p[g++]=A[C++]}while(--_);0===r.length&&(r.mode=21);break;case 26:if(0===m)break t;p[g++]=r.length,m--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===v)break t;v--,y|=f[d++]<<b,b+=8}if(S-=m,t.total_out+=S,r.total+=S,S&&(t.adler=r.check=r.flags?a(r.check,p,S,g-S):i(r.check,p,S,g-S)),S=m,(r.flags?y:l(y))!==r.check){t.msg="incorrect data check",r.mode=u;break}y=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===v)break t;v--,y+=f[d++]<<b,b+=8}if(y!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=u;break}y=0,b=0}r.mode=29;case 29:O=1;break t;case u:O=-3;break t;case 31:return-4;case 32:default:return c}return t.next_out=g,t.avail_out=m,t.next_in=d,t.avail_in=v,r.hold=y,r.bits=b,(r.wsize||S!==t.avail_out&&r.mode<u&&(r.mode<27||4!==e))&&x(t,t.output,t.next_out,S-t.avail_out)?(r.mode=31,-4):(k-=t.avail_in,S-=t.avail_out,t.total_in+=k,t.total_out+=S,r.total+=S,r.wrap&&S&&(t.adler=r.check=r.flags?a(r.check,p,S,t.next_out-S):i(r.check,p,S,t.next_out-S)),t.data_type=r.bits+(r.last?64:0)+(r.mode===h?128:0)+(20===r.mode||15===r.mode?256:0),(0===k&&0===S||4===e)&&0===O&&(O=-5),O)},e.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?c:(r.head=e,e.done=!1,0):c},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?c:11===r.mode&&i(1,e,n,0)!==r.check?-3:x(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):c},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,r){t.exports=function(t,e){var r,n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S,_,C,A;r=t.state,n=t.next_in,C=t.input,i=n+(t.avail_in-5),a=t.next_out,A=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),c=r.dmax,h=r.wsize,u=r.whave,l=r.wnext,f=r.window,p=r.hold,d=r.bits,g=r.lencode,v=r.distcode,m=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;t:do{d<15&&(p+=C[n++]<<d,d+=8,p+=C[n++]<<d,d+=8),b=g[p&m];e:for(;;){if(p>>>=w=b>>>24,d-=w,0==(w=b>>>16&255))A[a++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue e}if(32&w){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}x=65535&b,(w&=15)&&(d<w&&(p+=C[n++]<<d,d+=8),x+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=C[n++]<<d,d+=8,p+=C[n++]<<d,d+=8),b=v[p&y];r:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(p&(1<<w)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(k=65535&b,d<(w&=15)&&(p+=C[n++]<<d,(d+=8)<w&&(p+=C[n++]<<d,d+=8)),(k+=p&(1<<w)-1)>c){t.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=w,d-=w,k>(w=a-o)){if((w=k-w)>u&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(S=0,_=f,0===l){if(S+=h-w,w<x){x-=w;do{A[a++]=f[S++]}while(--w);S=a-k,_=A}}else if(l<w){if(S+=h+l-w,(w-=l)<x){x-=w;do{A[a++]=f[S++]}while(--w);if(S=0,l<x){x-=w=l;do{A[a++]=f[S++]}while(--w);S=a-k,_=A}}}else if(S+=l-w,w<x){x-=w;do{A[a++]=f[S++]}while(--w);S=a-k,_=A}for(;x>2;)A[a++]=_[S++],A[a++]=_[S++],A[a++]=_[S++],x-=3;x&&(A[a++]=_[S++],x>1&&(A[a++]=_[S++]))}else{S=a-k;do{A[a++]=A[S++],A[a++]=A[S++],A[a++]=A[S++],x-=3}while(x>2);x&&(A[a++]=A[S++],x>1&&(A[a++]=A[S++]))}break}}break}}while(n<i&&a<s);n-=x=d>>3,p&=(1<<(d-=x<<3))-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=a<s?s-a+257:257-(a-s),r.hold=p,r.bits=d}},function(t,e,r){var n=r(11),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,c,h,u,l,f){var p,d,g,v,m,y,b,w,x,k=f.bits,S=0,_=0,C=0,A=0,E=0,R=0,T=0,L=0,I=0,M=0,P=null,O=0,N=new n.Buf16(16),F=new n.Buf16(16),D=null,B=0;for(S=0;S<=15;S++)N[S]=0;for(_=0;_<c;_++)N[e[r+_]]++;for(E=k,A=15;A>=1&&0===N[A];A--);if(E>A&&(E=A),0===A)return h[u++]=20971520,h[u++]=20971520,f.bits=1,0;for(C=1;C<A&&0===N[C];C++);for(E<C&&(E=C),L=1,S=1;S<=15;S++)if(L<<=1,(L-=N[S])<0)return-1;if(L>0&&(0===t||1!==A))return-1;for(F[1]=0,S=1;S<15;S++)F[S+1]=F[S]+N[S];for(_=0;_<c;_++)0!==e[r+_]&&(l[F[e[r+_]]++]=_);if(0===t?(P=D=l,y=19):1===t?(P=i,O-=257,D=a,B-=257,y=256):(P=o,D=s,y=-1),M=0,_=0,S=C,m=u,R=E,T=0,g=-1,v=(I=1<<E)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){b=S-T,l[_]<y?(w=0,x=l[_]):l[_]>y?(w=D[B+l[_]],x=P[O+l[_]]):(w=96,x=0),p=1<<S-T,C=d=1<<R;do{h[m+(M>>T)+(d-=p)]=b<<24|w<<16|x|0}while(0!==d);for(p=1<<S-1;M&p;)p>>=1;if(0!==p?(M&=p-1,M+=p):M=0,_++,0==--N[S]){if(S===A)break;S=e[r+l[_]]}if(S>E&&(M&v)!==g){for(0===T&&(T=E),m+=C,L=1<<(R=S-T);R+T<A&&!((L-=N[R+T])<=0);)R++,L<<=1;if(I+=1<<R,1===t&&I>852||2===t&&I>592)return 1;h[g=M&v]=E<<24|R<<16|m-u|0}}return 0!==M&&(h[m+M]=S-T<<24|64<<16|0),f.bits=E,0}},function(t,e,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,r){var n=r(1).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function a(t){if(n.isBuffer(t))return t;var e="function"==typeof n.alloc&&"function"==typeof n.from;if("number"==typeof t)return e?n.alloc(t):new n(t);if("string"==typeof t)return e?n.from(t):new n(t);throw new Error("input must be buffer, number, or string, received "+Hr(t))}function o(t,e){t=a(t),n.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=-1^~~e,o=0;o<t.length;o++)r=i[255&(r^t[o])]^r>>>8;return-1^r}function s(){return t=o.apply(null,arguments),(e=a(4)).writeInt32BE(t,0),e;var t,e}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),s.signed=function(){return o.apply(null,arguments)},s.unsigned=function(){return o.apply(null,arguments)>>>0},t.exports=s},function(t,e,r){(function(e){var n=r(0).CramMalformedError,i=r(12),a=r(63),o=r(64),s=r(65),c=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;qr(this,t),this._buffer=e,this._position=r,this.length=e.length}return Gr(t,[{key:"get",value:function(){var t=this._buffer[this._position];return this._position+=1,t}},{key:"getByte",value:function(){return this.get()}},{key:"getByteAt",value:function(t){return this._buffer[t]}},{key:"position",value:function(){return this._position}},{key:"put",value:function(t){return this._buffer[this._position]=t,this._position+=1,t}},{key:"putAt",value:function(t,e){return this._buffer[t]=e,e}},{key:"setPosition",value:function(t){return this._position=t,t}},{key:"getInt",value:function(){var t=this._buffer.readInt32LE(this._position);return this._position+=4,t}},{key:"remaining",value:function(){return this._buffer.length-this._position}}]),t}();t.exports={uncompress:function(t,r){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===t.length)return r.fill(0),r;var u=new c(t,h),l=u.get();if(0!==l&&1!==l)throw new n("Invalid rANS order ".concat(l));if(u.getInt()!==u.remaining()-4)throw new n("Incorrect input length.");var f=u.getInt(),p=new c(r||e.allocUnsafe(f));if(p.length<f)throw new n("Output buffer too small to fit ".concat(f," bytes."));switch(l){case 0:return function(t,e){for(var r=new i.AriDecoder,n=new Array(256),s=0;s<n.length;s+=1)n[s]=new i.Symbol;return a.readStatsO0(t,r,n),o.uncompress(t,r,n,e),e}(u,p);case 1:return function(t,e){for(var r=new Array(256),n=0;n<r.length;n+=1)r[n]=new i.AriDecoder;for(var o=new Array(256),c=0;c<o.length;c+=1){o[c]=new Array(256);for(var h=0;h<o[c].length;h+=1)o[c][h]=new i.Symbol}return a.readStatsO1(t,r,o),s.uncompress(t,e,r,o),e}(u,p);default:throw new n("Invalid rANS order: ".concat(l))}}}}).call(this,r(1).Buffer)},function(t,e,r){var n=r(0).CramMalformedError,i=r(13),a=r(12);function o(t){if(!t)throw new n("assertion failed")}t.exports={readStatsO0:function(t,e,r){var n=0,s=0,c=255&t.get();do{null==e.fc[c]&&(e.fc[c]=new a.FC),e.fc[c].F=255&t.get(),e.fc[c].F>=128&&(e.fc[c].F&=-129,e.fc[c].F=(127&e.fc[c].F)<<8|255&t.get()),e.fc[c].C=s,a.symbolInit(r[c],e.fc[c].C,e.fc[c].F),e.R||(e.R=new Array(i.TOTFREQ)),e.R.fill(c,s,s+e.fc[c].F),s+=e.fc[c].F,0===n&&c+1===(255&t.getByteAt(t.position()))?(c=255&t.get(),n=255&t.get()):0!==n?(n-=1,c+=1):c=255&t.get()}while(0!==c);o(s<i.TOTFREQ)},readStatsO1:function(t,e,r){var n=0,s=255&t.get();do{var c=0,h=0,u=255&t.get();null==e[s]&&(e[s]=new a.AriDecoder);do{null==e[s].fc[u]&&(e[s].fc[u]=new a.FC),e[s].fc[u].F=255&t.get(),e[s].fc[u].F>=128&&(e[s].fc[u].F&=-129,e[s].fc[u].F=(127&e[s].fc[u].F)<<8|255&t.get()),e[s].fc[u].C=h,0===e[s].fc[u].F&&(e[s].fc[u].F=i.TOTFREQ),null==r[s][u]&&(r[s][u]=new a.RansDecSymbol),a.symbolInit(r[s][u],e[s].fc[u].C,e[s].fc[u].F),null==e[s].R&&(e[s].R=new Array(i.TOTFREQ)),e[s].R.fill(u,h,h+e[s].fc[u].F),o((h+=e[s].fc[u].F)<=i.TOTFREQ),0===c&&u+1===(255&t.getByteAt(t.position()))?(u=255&t.get(),c=255&t.get()):0!==c?(c-=1,u+=1):u=255&t.get()}while(0!==u);0===n&&s+1===(255&t.getByteAt(t.position()))?(s=255&t.get(),n=255&t.get()):0!==n?(n-=1,s+=1):s=255&t.get()}while(0!==s)}}},function(t,e,r){var n=r(0).CramMalformedError,i=r(13),a=r(12);t.exports={uncompress:function(t,e,r,o){for(var s,c=t.getInt(),h=t.getInt(),u=t.getInt(),l=t.getInt(),f=o.remaining(),p=-4&f,d=0;d<p;d+=4){var g=e.R[a.get(c,i.TF_SHIFT)],v=e.R[a.get(h,i.TF_SHIFT)],m=e.R[a.get(u,i.TF_SHIFT)],y=e.R[a.get(l,i.TF_SHIFT)];o.putAt(d,g),o.putAt(d+1,v),o.putAt(d+2,m),o.putAt(d+3,y),c=a.advanceSymbolStep(c,r[255&g],i.TF_SHIFT),h=a.advanceSymbolStep(h,r[255&v],i.TF_SHIFT),u=a.advanceSymbolStep(u,r[255&m],i.TF_SHIFT),l=a.advanceSymbolStep(l,r[255&y],i.TF_SHIFT),c=a.renormalize(c,t),h=a.renormalize(h,t),u=a.renormalize(u,t),l=a.renormalize(l,t)}switch(o.setPosition(p),3&f){case 0:break;case 1:s=e.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,t,r[255&s],i.TF_SHIFT),o.put(s);break;case 2:s=e.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,t,r[255&s],i.TF_SHIFT),o.put(s),s=e.R[a.get(h,i.TF_SHIFT)],a.advanceSymbol(h,t,r[255&s],i.TF_SHIFT),o.put(s);break;case 3:s=e.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,t,r[255&s],i.TF_SHIFT),o.put(s),s=e.R[a.get(h,i.TF_SHIFT)],a.advanceSymbol(h,t,r[255&s],i.TF_SHIFT),o.put(s),s=e.R[a.get(u,i.TF_SHIFT)],a.advanceSymbol(u,t,r[255&s],i.TF_SHIFT),o.put(s);break;default:throw new n("invalid output size encountered during rANS decoding")}o.setPosition(0)}}},function(t,e,r){var n=r(13),i=r(12);t.exports={uncompress:function(t,e,r,a){for(var o=e.remaining(),s=t.getInt(),c=t.getInt(),h=t.getInt(),u=t.getInt(),l=o>>2,f=0,p=l,d=2*l,g=3*l,v=0,m=0,y=0,b=0;f<l;f+=1,p+=1,d+=1,g+=1){var w=255&r[v].R[i.get(s,n.TF_SHIFT)],x=255&r[m].R[i.get(c,n.TF_SHIFT)],k=255&r[y].R[i.get(h,n.TF_SHIFT)],S=255&r[b].R[i.get(u,n.TF_SHIFT)];e.putAt(f,w),e.putAt(p,x),e.putAt(d,k),e.putAt(g,S),s=i.advanceSymbolStep(s,a[v][w],n.TF_SHIFT),c=i.advanceSymbolStep(c,a[m][x],n.TF_SHIFT),h=i.advanceSymbolStep(h,a[y][k],n.TF_SHIFT),u=i.advanceSymbolStep(u,a[b][S],n.TF_SHIFT),s=i.renormalize(s,t),c=i.renormalize(c,t),h=i.renormalize(h,t),u=i.renormalize(u,t),v=w,m=x,y=k,b=S}for(;g<o;g+=1){var _=255&r[b].R[i.get(u,n.TF_SHIFT)];e.putAt(g,_),u=i.advanceSymbol(u,t,a[b][_],n.TF_SHIFT),b=_}}}},function(t,e,r){var n=r(67).Parser,i=(new n).itf8(),a={parser:(new n).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26},o={parser:(new n).uint8("compressionMethod",{formatter:function(t){var e=["raw","gzip","bzip2","lzma","rans"][t];if(!e)throw new Error("compression method number ".concat(t," not implemented"));return e}}).uint8("contentType",{formatter:function(t){var e=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][t];if(!e)throw new Error("invalid block content type id ".concat(t));return e}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},s={parser:(new n).uint32("crc32"),maxLength:4},c=(new n).itf8("size").buffer("entries",{length:"size",formatter:function(t){function e(e,r){for(var n=t.toString("utf8",e,r),i=[],a=0;a<n.length;a+=3)i.push(n.substr(a,3));return i}var r,n=[],i=0;for(r=0;r<t.length;r+=1)t[r]||(n.push(e(i,r)),i=r+1);return r>i&&n.push(e(i,r)),n}}),h=(new n).uint8(null,{formatter:function(t){return!!t}}),u=(new n).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new n).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:h,UI:h,PI:h,RN:h,AP:h,RR:h,SM:(new n).array(null,{type:"uint8",length:5}),TD:(new n).nest(null,{type:c,formatter:function(t){return t.entries}})}})});function l(t){var e={};return t.entries.forEach((function(t){var r=t.key,n=t.value;e[r]&&console.warn("duplicate key ".concat(r," in map")),e[r]=n})),e}var f={cramFileDefinition:a,cramBlockHeader:o,cramBlockCrc32:s},p={cramUnmappedSliceHeader:function(t){var e=0,r=(new n).itf8("numRecords");return e+=5,t>=3?(r=r.ltf8("recordCounter"),e+=9):2===t&&(r=r.itf8("recordCounter"),e+=5),r=r.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:i,length:"numContentIds"}),e+=10,t>=2&&(r=r.array("md5",{type:"uint8",length:16}),e+=16),{parser:r,maxLength:function(t){return e+5*t}}},cramMappedSliceHeader:function(t){var e=(new n).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),r=20;return t>=3?(e=e.ltf8("recordCounter"),r+=9):2===t&&(e=e.itf8("recordCounter"),r+=5),e=e.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:i,length:"numContentIds"}).itf8("refBaseBlockId"),r+=15,t>=2&&(e=e.array("md5",{type:"uint8",length:16}),r+=16),{parser:e,maxLength:function(t){return r+5*t}}},cramEncoding:function(t){return{parser:(new n).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new n,1:(new n).itf8("blockContentId"),2:(new n).itf8("offset").itf8("M"),3:n.start().itf8("numCodes").array("symbols",{length:"numCodes",type:i}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:i}),4:n.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new n).uint8("stopByte")[t>1?"itf8":"int"]("blockContentId"),6:(new n).itf8("offset").itf8("length"),7:(new n).itf8("offset").itf8("K"),8:(new n).itf8("offset").itf8("log2m"),9:(new n).itf8("offset")}})}},cramDataSeriesEncodingMap:function(t){return(new n).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new n).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(t).parser})})},cramTagEncodingMap:function(t){return(new n).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new n).itf8("key",{formatter:function(t){return String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)}}).nest("value",{type:this.cramEncoding(t).parser})})},cramCompressionHeader:function(t){var e=new n;return{parser:e=e.nest("preservation",{type:u,formatter:l}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(t),formatter:l}).nest("tagEncoding",{type:this.cramTagEncodingMap(t),formatter:l})}},cramContainerHeader1:function(t){var e=(new n).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),r=24;return t>=3?(e=e.ltf8("recordCounter"),r+=9):2===t&&(e=e.itf8("recordCounter"),r+=5),t>1&&(e=e.ltf8("numBases"),r+=9),{parser:e=e.itf8("numBlocks").itf8("numLandmarks"),maxLength:r+=10}},cramContainerHeader2:function(t){var e=(new n).itf8("numLandmarks").array("landmarks",{type:(new n).itf8(),length:"numLandmarks"}),r=0;return t>=3&&(e=e.uint32("crc32"),r=4),{parser:e,maxLength:function(t){return 5+5*t+r}}}};t.exports={cramFileDefinition:a,getSectionParsers:function(t){var e=Object.assign({},f);return Object.keys(p).forEach((function(r){e[r]=p[r](t)})),e}}},function(t,e,r){(function(t){var n=r(68),i=r(70).Context,a=r(31);"undefined"!=typeof window&&(window.Buffer=t);var o={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8},s={},c=[];!function(){var t;for(t=1;t<=32;t++)c.push(t)}();var h={};Object.keys(o).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach((function(t){h[t.toLowerCase()]=t}));var u=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};u.start=function(){return new u},Object.keys(o).forEach((function(t){u.prototype[t.toLowerCase()]=function(e,r){return this.setNextParser(t.toLowerCase(),e,r)};var e=t.replace(/BE|LE/,"").toLowerCase();e in u.prototype||(u.prototype[e]=function(t,r){return this[e+this.endian](t,r)})})),c.forEach((function(t){u.prototype["bit"+t.toString()]=function(e,r){return r||(r={}),r.length=t,this.setNextParser("bit",e,r)}})),u.prototype.namely=function(t){return s[t]=this,this.alias=t,this},u.prototype.skip=function(t,e){if(e&&e.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:t})},u.prototype.string=function(t,e){if(!e.zeroTerminated&&!e.length&&!e.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((e.zeroTerminated||e.length)&&e.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(e.stripNull&&!e.length&&!e.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return e.encoding=e.encoding||"utf8",this.setNextParser("string",t,e)},u.prototype.buffer=function(t,e){if(!e.length&&!e.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",t,e)},u.prototype.array=function(t,e){if(!e.readUntil&&!e.length&&!e.lengthInBytes)throw new Error("Length option of array is not defined.");if(!e.type)throw new Error("Type option of array is not defined.");if("string"==typeof e.type&&!s[e.type]&&Object.keys(o).indexOf(h[e.type])<0)throw new Error('Specified primitive type "'+e.type+'" is not supported.');return this.setNextParser("array",t,e)},u.prototype.choice=function(t,e){if(1==arguments.length&&"object"==Hr(t)&&(e=t,t=null),!e.tag)throw new Error("Tag option of array is not defined.");if(!e.choices)throw new Error("Choices option of array is not defined.");return Object.keys(e.choices).forEach((function(r){if(!e.choices[r])throw new Error("Choice Case "+r+" of "+t+" is not valid.");if("string"==typeof e.choices[r]&&!s[e.choices[r]]&&Object.keys(o).indexOf(h[e.choices[r]])<0)throw new Error('Specified primitive type "'+e.choices[r]+'" is not supported.')}),this),this.setNextParser("choice",t,e)},u.prototype.nest=function(t,e){if(1==arguments.length&&"object"==Hr(t)&&(e=t,t=null),!e.type)throw new Error("Type option of nest is not defined.");if(!(e.type instanceof u||s[e.type]))throw new Error("Type option of nest must be a Parser object.");if(!(e.type instanceof u||t))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",t,e)},u.prototype.endianess=function(t){switch(t.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: "+t)}return this},u.prototype.create=function(t){if(!(t instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=t,this},u.prototype.getCode=function(){var t=new i;return t.pushCode("if (!Buffer.isBuffer(buffer)) {"),t.generateError('"argument buffer is not a Buffer object"'),t.pushCode("}"),this.alias?this.addAliasedCode(t):this.addRawCode(t),this.alias?t.pushCode("return {0}(0)","___parser_"+this.alias):t.pushCode("return { offset: offset, result: vars };"),t.code},u.prototype.addRawCode=function(t){t.pushCode("var offset = 0;"),this.constructorFn?t.pushCode("var vars = new constructorFn();"):t.pushCode("var vars = {};"),this.generate(t),this.resolveReferences(t),t.pushCode("return { offset: offset, result: vars };")},u.prototype.addAliasedCode=function(t){return t.pushCode("function {0}(offset) {","___parser_"+this.alias),this.constructorFn?t.pushCode("var vars = new constructorFn();"):t.pushCode("var vars = {};"),this.generate(t),t.markResolved(this.alias),this.resolveReferences(t),t.pushCode("return { offset: offset, result: vars };"),t.pushCode("}"),t},u.prototype.resolveReferences=function(t){var e=t.getUnresolvedReferences();t.markRequested(e),e.forEach((function(e){s[e].addAliasedCode(t)}))},u.prototype.compile=function(){var t="(function(buffer, constructorFn, Long) { "+this.getCode()+" })";this.compiled=n.runInThisContext(t)},u.prototype.sizeOf=function(){var t=NaN;if(Object.keys(o).indexOf(this.type)>=0)t=o[this.type];else if("String"===this.type&&"number"==typeof this.options.length)t=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)t=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var e=NaN;"string"==typeof this.options.type?e=o[h[this.options.type]]:this.options.type instanceof u&&(e=this.options.type.sizeOf()),t=this.options.length*e}else"Skip"===this.type?t=this.options.length:"Nest"===this.type?t=this.options.type.sizeOf():this.type||(t=0);return this.next&&(t+=this.next.sizeOf()),t},u.prototype.parse=function(t){return this.compiled||this.compile(),this.compiled(t,this.constructorFn,a)},u.prototype.setNextParser=function(t,e,r){var n=new u;return n.type=h[t],n.varName=e,n.options=r||n.options,n.endian=this.endian,this.head?this.head.next=n:this.next=n,this.head=n,this},u.prototype.generate=function(t){this.type&&(this["generate"+this.type](t),this.generateAssert(t));var e=t.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(t,e,this.options.formatter),this.generateNext(t)},u.prototype.generateAssert=function(t){if(this.options.assert){var e=t.generateVariable(this.varName);switch(Hr(this.options.assert)){case"function":t.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,e);break;case"number":t.pushCode("if ({0} !== {1}) {",this.options.assert,e);break;case"string":t.pushCode('if ("{0}" !== {1}) {',this.options.assert,e);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}t.generateError('"Assert error: {0} is " + {0}',e),t.pushCode("}")}},u.prototype.generateNext=function(t){return this.next&&(t=this.next.generate(t)),t},Object.keys(o).forEach((function(t){u.prototype["generate"+t]=function(e){e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),t),e.pushCode("offset += {0};",o[t])}})),u.prototype.generateBit=function(t){var e=JSON.parse(JSON.stringify(this));if(e.varName=t.generateVariable(e.varName),t.bitFields.push(e),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var r=0;t.bitFields.forEach((function(t){r+=t.options.length}));var n=t.generateTmpVariable();if(r<=8)t.pushCode("var {0} = buffer.readUInt8(offset);",n),r=8;else if(r<=16)t.pushCode("var {0} = buffer.readUInt16BE(offset);",n),r=16;else if(r<=24){var i=t.generateTmpVariable(),a=t.generateTmpVariable();t.pushCode("var {0} = buffer.readUInt16BE(offset);",i),t.pushCode("var {0} = buffer.readUInt8(offset + 2);",a),t.pushCode("var {2} = ({0} << 8) | {1};",i,a,n),r=24}else{if(!(r<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");t.pushCode("var {0} = buffer.readUInt32BE(offset);",n),r=32}t.pushCode("offset += {0};",r/8);var o=0,s="be"===this.endian;t.bitFields.forEach((function(e){t.pushCode("{0} = {1} >> {2} & {3};",e.varName,n,s?r-o-e.options.length:o,(1<<e.options.length)-1),o+=e.options.length})),t.bitFields=[]}},u.prototype.generateSkip=function(t){var e=t.generateOption(this.options.length);t.pushCode("offset += {0};",e)},u.prototype.generateString=function(t){var e=t.generateVariable(this.varName),r=t.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(t.pushCode("var {0} = offset;",r),t.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",r,this.options.length),t.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",e,this.options.encoding,r,this.options.length)):this.options.length?(t.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",e,this.options.encoding,t.generateOption(this.options.length)),t.pushCode("offset += {0};",t.generateOption(this.options.length))):this.options.zeroTerminated?(t.pushCode("var {0} = offset;",r),t.pushCode("while(buffer.readUInt8(offset++) !== 0);"),t.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",e,this.options.encoding,r)):this.options.greedy&&(t.pushCode("var {0} = offset;",r),t.pushCode("while(buffer.length > offset++);"),t.pushCode("{0} = buffer.toString('{1}', {2}, offset);",e,this.options.encoding,r)),this.options.stripNull&&t.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",e)},u.prototype.generateBuffer=function(t){"eof"===this.options.readUntil?t.pushCode("{0} = buffer.slice(offset);",t.generateVariable(this.varName)):(t.pushCode("{0} = buffer.slice(offset, offset + {1});",t.generateVariable(this.varName),t.generateOption(this.options.length)),t.pushCode("offset += {0};",t.generateOption(this.options.length))),this.options.clone&&t.pushCode("{0} = Buffer.from({0});",t.generateVariable(this.varName))},u.prototype.generateArray=function(t){var e=t.generateOption(this.options.length),r=t.generateOption(this.options.lengthInBytes),n=this.options.type,i=t.generateTmpVariable(),a=t.generateVariable(this.varName),c=t.generateTmpVariable(),l=this.options.key,f="string"==typeof l;if(f?t.pushCode("{0} = {};",a):t.pushCode("{0} = [];",a),"function"==typeof this.options.readUntil?t.pushCode("do {"):"eof"===this.options.readUntil?t.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",i):void 0!==r?t.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",i,r):t.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",i,e),"string"==typeof n)if(s[n]){var p=t.generateTmpVariable();t.pushCode("var {0} = {1}(offset);",p,"___parser_"+n),t.pushCode("var {0} = {1}.result; offset = {1}.offset;",c,p),n!==this.alias&&t.addReference(n)}else t.pushCode("var {0} = buffer.read{1}(offset);",c,h[n]),t.pushCode("offset += {0};",o[h[n]]);else n instanceof u&&(t.pushCode("var {0} = {};",c),t.pushScope(c),n.generate(t),t.popScope());f?t.pushCode("{0}[{2}.{1}] = {2};",a,l,c):t.pushCode("{0}.push({1});",a,c),t.pushCode("}"),"function"==typeof this.options.readUntil&&t.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,c)},u.prototype.generateChoiceCase=function(t,e,r){if("string"==typeof r)if(s[r]){var n=t.generateTmpVariable();t.pushCode("var {0} = {1}(offset);",n,"___parser_"+r),t.pushCode("{0} = {1}.result; offset = {1}.offset;",t.generateVariable(this.varName),n),r!==this.alias&&t.addReference(r)}else t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),h[r]),t.pushCode("offset += {0};",o[h[r]]);else r instanceof u&&(t.pushPath(e),r.generate(t),t.popPath(e))},u.prototype.generateChoice=function(t){var e=t.generateOption(this.options.tag);this.varName&&t.pushCode("{0} = {};",t.generateVariable(this.varName)),t.pushCode("switch({0}) {",e),Object.keys(this.options.choices).forEach((function(e){var r=this.options.choices[e];isNaN(parseInt(e,10))?t.pushCode("case '{0}':",e):t.pushCode("case {0}:",e),this.generateChoiceCase(t,this.varName,r),t.pushCode("break;")}),this),t.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(t,this.varName,this.options.defaultChoice):t.generateError('"Met undefined tag value " + {0} + " at choice"',e),t.pushCode("}")},u.prototype.generateNest=function(t){var e=t.generateVariable(this.varName);if(this.options.type instanceof u)this.varName&&t.pushCode("{0} = {};",e),t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName);else if(s[this.options.type]){var r=t.generateTmpVariable();t.pushCode("var {0} = {1}(offset);",r,"___parser_"+this.options.type),t.pushCode("{0} = {1}.result; offset = {1}.offset;",e,r),this.options.type!==this.alias&&t.addReference(this.options.type)}},u.prototype.generateFormatter=function(t,e,r){"function"==typeof r&&t.pushCode("{0} = ({1}).call(this, {0});",e,r)},u.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},u.prototype.itf8=function(t,e){return this.setNextParser("itf8",t,e)},u.prototype.generateItf8=function(t){var e=t.generateVariable(this.varName),r=t.generateTmpVariable();t.pushCode("\n    var ".concat(r," = buffer[offset];\n    if (").concat(r," < 0x80) {\n      ").concat(e," = ").concat(r,";\n      offset += 1;\n    } else if (").concat(r," < 0xc0) {\n      ").concat(e," = ((").concat(r,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(r," < 0xe0) {\n      ").concat(e," = ((").concat(r,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(r," < 0xf0) {\n      ").concat(e," = ((").concat(r,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(e," = ((").concat(r," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},u.prototype.ltf8=function(t,e){return this.setNextParser("ltf8",t,e)},u.prototype.generateLtf8=function(t){var e=t.generateVariable(this.varName),r=t.generateTmpVariable();t.pushCode("\n  var ".concat(r," = buffer[offset];\n  if (").concat(r," < 0x80) {\n    ").concat(e," = ").concat(r,";\n    offset += 1;\n  } else if (").concat(r," < 0xc0) {\n    ").concat(e," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(r," < 0xe0) {\n    ").concat(e," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(e," = (((").concat(r," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(r," < 0xf0) {\n    ").concat(e," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(r," < 0xf8) {\n    ").concat(e," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(r," < 0xfc) {\n    ").concat(e," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(r," < 0xfe) {\n    ").concat(e," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(r," < 0xff) {\n    ").concat(e," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(e,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(e,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(e," = ").concat(e,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(e," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(e,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(e,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(e," = ").concat(e,".toNumber()\n    offset += 9;\n  }\n  "))},e.Parser=u}).call(this,r(1).Buffer)},function(t,e,r){var n=r(69),i=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},a=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},o=function(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(t){return function(t,e,r){t[e]=r}}}(),s=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval2","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function c(){}c.prototype={};var h=e.Script=function(t){if(!(this instanceof h))return new h(t);this.code=t};h.prototype.runInContext=function(t){if(!(t instanceof c))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,h=r.eval2,u=r.execScript;!h&&u&&(u.call(r,"null"),h=r.eval2),a(i(t),(function(e){r[e]=t[e]})),a(s,(function(e){t[e]&&(r[e]=t[e])}));var l=i(r),f=h.call(r,this.code);return a(i(r),(function(e){(e in t||-1===n(l,e))&&(t[e]=r[e])})),a(s,(function(e){e in t||o(t,e,r[e])})),document.body.removeChild(e),f},h.prototype.runInThisContext=function(){return Gw(this.code)},h.prototype.runInNewContext=function(t){var e=h.createContext(t),r=this.runInContext(e);return a(i(e),(function(r){t[r]=e[r]})),r},a(i(h.prototype),(function(t){e[t]=h[t]=function(e){var r=h(e);return r[t].apply(r,[].slice.call(arguments,1))}})),e.createScript=function(t){return e.Script(t)},e.createContext=h.createContext=function(t){var e=new c;return"object"==Hr(t)&&a(i(t),(function(r){e[r]=t[r]})),e}},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){var r=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};r.prototype.generateVariable=function(t){var e=[];for(Array.prototype.push.apply(e,this.scopes[this.scopes.length-1]);/^\$parent\./.test(t);)e.pop(),t=t.replace(/^\$parent\./,"");return t&&e.push(t),e.join(".")},r.prototype.generateOption=function(t){switch(Hr(t)){case"number":return t.toString();case"string":return this.generateVariable(t);case"function":return"("+t+").call("+this.generateVariable()+", vars)"}},r.prototype.generateError=function(){var t=Array.prototype.slice.call(arguments),e=r.interpolate.apply(this,t);this.isAsync?this.pushCode("return process.nextTick(function() { callback(new Error("+e+"), vars); });"):this.pushCode("throw new Error("+e+");")},r.prototype.generateTmpVariable=function(){return"$tmp"+this.tmpVariableCount++},r.prototype.pushCode=function(){var t=Array.prototype.slice.call(arguments);this.code+=r.interpolate.apply(this,t)+"\n"},r.prototype.pushPath=function(t){t&&this.scopes[this.scopes.length-1].push(t)},r.prototype.popPath=function(t){t&&this.scopes[this.scopes.length-1].pop()},r.prototype.pushScope=function(t){this.scopes.push([t])},r.prototype.popScope=function(){this.scopes.pop()},r.prototype.addReference=function(t){this.references[t]||(this.references[t]={resolved:!1,requested:!1})},r.prototype.markResolved=function(t){this.references[t].resolved=!0},r.prototype.markRequested=function(t){t.forEach(function(t){this.references[t].requested=!0}.bind(this))},r.prototype.getUnresolvedReferences=function(){var t=this.references;return Object.keys(this.references).filter((function(e){return!t[e].resolved&&!t[e].requested}))},r.interpolate=function(t){var e=t.match(/{\d+}/g),r=Array.prototype.slice.call(arguments,1);return e&&e.forEach((function(e){var n=parseInt(e.substr(1,e.length-2),10);t=t.replace(e,r[n].toString())})),t},e.Context=r},function(t,e,r){(function(e){var n=r(0).CramMalformedError,i=r(8),a=i.itf8Size,o=i.parseItem,s=i.tinyMemoize,c=r(75),h=r(78),u=function(){function t(e,r){qr(this,t),this.file=e,this.filePosition=r}var r,i,s,u;return Gr(t,[{key:"getHeader",value:function(){return this._readContainerHeader(this.filePosition)}},{key:"getCompressionHeaderBlock",value:(u=jr(regeneratorRuntime.mark((function t(){var e,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getHeader();case 2:if(t.sent.numRecords){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,this.file.getSectionParsers();case 6:return e=t.sent,t.next=9,this.getFirstBlock();case 9:if("COMPRESSION_HEADER"===(r=t.sent).contentType){t.next=12;break}throw new n("invalid content type ".concat(r.contentType," in what is supposed to be the compression header block"));case 12:return i=o(r.content,e.cramCompressionHeader.parser,0,r.contentPosition),t.abrupt("return",(r.content=i,r));case 14:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getFirstBlock",value:(s=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getHeader();case 2:return e=t.sent,t.abrupt("return",this.file.readBlock(e._endPosition));case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getCompressionScheme",value:(i=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCompressionHeaderBlock();case 2:if(!(e=t.sent)){t.next=5;break}return t.abrupt("return",new h(e.content));case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getSlice",value:function(t,e){return new c(this,t,e)}},{key:"_readContainerHeader",value:(r=jr(regeneratorRuntime.mark((function t(r){var n,i,s,c,h,u,l,f,p,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.file.getSectionParsers();case 2:return n=t.sent,i=n.cramContainerHeader1,s=n.cramContainerHeader2,t.next=7,this.file.stat();case 7:if(c=t.sent,h=c.size,!(r>=h)){t.next=11;break}return t.abrupt("return");case 11:return u=e.allocUnsafe(i.maxLength),t.next=14,this.file.read(u,0,i.maxLength,r);case 14:if(l=o(u,i.parser),f=a(l.numLandmarks),!(r+l.length>=h)){t.next=17;break}return t.abrupt("return",void console.warn("".concat(this.file,": container header at ").concat(r," indicates that the container has length ").concat(l.length,", which extends beyond the length of the file. Skipping this container.")));case 17:return p=e.allocUnsafe(s.maxLength(l.numLandmarks)),t.next=20,this.file.read(p,0,s.maxLength(l.numLandmarks),r+l._size-f);case 20:if(d=o(p,s.parser),t.t0=this.file.validateChecksums&&void 0!==d.crc32,!t.t0){t.next=25;break}return t.next=25,this.file.checkCrc32(r,l._size+d._size-f-4,d.crc32,"container header beginning at position ".concat(r));case 25:return t.abrupt("return",Object.assign(l,d,{_size:l._size+d._size-f,_endPosition:l._size+d._size-f+r}));case 26:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]),t}();"getHeader getCompressionHeaderBlock getCompressionScheme".split(" ").forEach((function(t){return s(u,t)})),t.exports=u}).call(this,r(1).Buffer)},function(t,e,r){var n,i,a,o,s;n=r(73),i=r(32).utf8,a=r(74),o=r(32).bin,(s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?o.stringToBytes(t):i.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var r=n.bytesToWords(t),c=8*t.length,h=1732584193,u=-271733879,l=-1732584194,f=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[c>>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;var d=s._ff,g=s._gg,v=s._hh,m=s._ii;for(p=0;p<r.length;p+=16){var y=h,b=u,w=l,x=f;h=d(h,u,l,f,r[p+0],7,-680876936),f=d(f,h,u,l,r[p+1],12,-389564586),l=d(l,f,h,u,r[p+2],17,606105819),u=d(u,l,f,h,r[p+3],22,-1044525330),h=d(h,u,l,f,r[p+4],7,-176418897),f=d(f,h,u,l,r[p+5],12,1200080426),l=d(l,f,h,u,r[p+6],17,-1473231341),u=d(u,l,f,h,r[p+7],22,-45705983),h=d(h,u,l,f,r[p+8],7,1770035416),f=d(f,h,u,l,r[p+9],12,-1958414417),l=d(l,f,h,u,r[p+10],17,-42063),u=d(u,l,f,h,r[p+11],22,-1990404162),h=d(h,u,l,f,r[p+12],7,1804603682),f=d(f,h,u,l,r[p+13],12,-40341101),l=d(l,f,h,u,r[p+14],17,-1502002290),h=g(h,u=d(u,l,f,h,r[p+15],22,1236535329),l,f,r[p+1],5,-165796510),f=g(f,h,u,l,r[p+6],9,-1069501632),l=g(l,f,h,u,r[p+11],14,643717713),u=g(u,l,f,h,r[p+0],20,-373897302),h=g(h,u,l,f,r[p+5],5,-701558691),f=g(f,h,u,l,r[p+10],9,38016083),l=g(l,f,h,u,r[p+15],14,-660478335),u=g(u,l,f,h,r[p+4],20,-405537848),h=g(h,u,l,f,r[p+9],5,568446438),f=g(f,h,u,l,r[p+14],9,-1019803690),l=g(l,f,h,u,r[p+3],14,-187363961),u=g(u,l,f,h,r[p+8],20,1163531501),h=g(h,u,l,f,r[p+13],5,-1444681467),f=g(f,h,u,l,r[p+2],9,-51403784),l=g(l,f,h,u,r[p+7],14,1735328473),h=v(h,u=g(u,l,f,h,r[p+12],20,-1926607734),l,f,r[p+5],4,-378558),f=v(f,h,u,l,r[p+8],11,-2022574463),l=v(l,f,h,u,r[p+11],16,1839030562),u=v(u,l,f,h,r[p+14],23,-35309556),h=v(h,u,l,f,r[p+1],4,-1530992060),f=v(f,h,u,l,r[p+4],11,1272893353),l=v(l,f,h,u,r[p+7],16,-155497632),u=v(u,l,f,h,r[p+10],23,-1094730640),h=v(h,u,l,f,r[p+13],4,681279174),f=v(f,h,u,l,r[p+0],11,-358537222),l=v(l,f,h,u,r[p+3],16,-722521979),u=v(u,l,f,h,r[p+6],23,76029189),h=v(h,u,l,f,r[p+9],4,-640364487),f=v(f,h,u,l,r[p+12],11,-421815835),l=v(l,f,h,u,r[p+15],16,530742520),h=m(h,u=v(u,l,f,h,r[p+2],23,-995338651),l,f,r[p+0],6,-198630844),f=m(f,h,u,l,r[p+7],10,1126891415),l=m(l,f,h,u,r[p+14],15,-1416354905),u=m(u,l,f,h,r[p+5],21,-57434055),h=m(h,u,l,f,r[p+12],6,1700485571),f=m(f,h,u,l,r[p+3],10,-1894986606),l=m(l,f,h,u,r[p+10],15,-1051523),u=m(u,l,f,h,r[p+1],21,-2054922799),h=m(h,u,l,f,r[p+8],6,1873313359),f=m(f,h,u,l,r[p+15],10,-30611744),l=m(l,f,h,u,r[p+6],15,-1560198380),u=m(u,l,f,h,r[p+13],21,1309151649),h=m(h,u,l,f,r[p+4],6,-145523070),f=m(f,h,u,l,r[p+11],10,-1120210379),l=m(l,f,h,u,r[p+2],15,718787259),u=m(u,l,f,h,r[p+9],21,-343485551),h=h+y>>>0,u=u+b>>>0,l=l+w>>>0,f=f+x>>>0}return n.endian([h,u,l,f])})._ff=function(t,e,r,n,i,a,o){var s=t+(e&r|~e&n)+(i>>>0)+o;return(s<<a|s>>>32-a)+e},s._gg=function(t,e,r,n,i,a,o){var s=t+(e&n|r&~n)+(i>>>0)+o;return(s<<a|s>>>32-a)+e},s._hh=function(t,e,r,n,i,a,o){var s=t+(e^r^n)+(i>>>0)+o;return(s<<a|s>>>32-a)+e},s._ii=function(t,e,r,n,i,a,o){var s=t+(r^(e|~n))+(i>>>0)+o;return(s<<a|s>>>32-a)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(s(t,e));return e&&e.asBytes?r:e&&e.asString?o.bytesToString(r):n.bytesToHex(r)}},function(t,e){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],a=0;a<4;a++)8*n+6*a<=8*t.length?e.push(r.charAt(i>>>6*(3-a)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&e.push((r.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(t.charAt(n))>>>6-2*i);return e}},t.exports=n},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
	   * Determine if an object is a Buffer
	   *
	   * @author   Feross Aboukhadijeh <https://feross.org>
	   * @license  MIT
	   */t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){var n=r(0),i=n.CramMalformedError,a=n.CramBufferOverrunError,o=n.CramArgumentError,s=r(8),c=s.parseItem,h=s.tinyMemoize,u=s.sequenceMD5,l=r(17),f=r(76);function p(t,e,r,n){if(!n)throw new i("could not resolve intra-slice mate pairs, file seems truncated or malformed");var a=!!(n.mate||void 0!==n.mateRecordNumber&&n.mateRecordNumber!==e);r.readName||(r.readName=String(r.uniqueId),n.readName=r.readName),r.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(r.mate.readName=n.readName),n.mate||void 0!==n.mateRecordNumber||(n.mate={sequenceId:r.sequenceId,alignmentStart:r.alignmentStart,uniqueId:r.uniqueId},r.readName&&(n.mate.readName=r.readName)),r.flags|=l.BAM_FPAIRED,n.flags&l.BAM_FUNMAP&&(r.flags|=l.BAM_FMUNMAP),r.flags&l.BAM_FUNMAP&&(n.flags|=l.BAM_FMUNMAP),n.flags&l.BAM_FREVERSE&&(r.flags|=l.BAM_FMREVERSE),r.flags&l.BAM_FREVERSE&&(n.flags|=l.BAM_FMREVERSE),void 0===r.templateLength&&(a?function(t,e,r){var n=function e(r){var n=[r];if(r.mateRecordNumber>=0){var a=t[r.mateRecordNumber];if(!a)throw new i("intra-slice mate record not found, this file seems malformed");n.push.apply(n,en(e(a)))}return n}(r),a=n.map((function(t){return t.alignmentStart})),o=n.map((function(t){return t.alignmentStart+t.readLength-1})),s=Math.max.apply(Math,en(o))-Math.min.apply(Math,en(a))+1;s>=0&&n.forEach((function(t){if(void 0!==t.templateLength)throw new i("mate pair group has some members that have template lengths already, this file seems malformed");t.templateLength=s}))}(t,0,r):function(t,e){var r=Math.min(t.alignmentStart,e.alignmentStart),n=Math.max(t.alignmentStart+t.readLength-1,e.alignmentStart+e.readLength-1)-r+1;t.templateLength=n,e.templateLength=n}(r,n)),delete r.mateRecordNumber}var d=function(){function t(e,r){qr(this,t),this.container=e,this.file=e.file,this.containerPosition=r}var e,r,n,s,h,l,d;return Gr(t,[{key:"getHeader",value:function(){var t=jr(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.file.getSectionParsers();case 2:return e=t.sent,t.next=5,this.container.getHeader();case 5:return r=t.sent,t.next=8,this.file.readBlock(r._endPosition+this.containerPosition);case 8:if("MAPPED_SLICE_HEADER"!==(n=t.sent).contentType){t.next=13;break}n.content=c(n.content,e.cramMappedSliceHeader.parser,0,r._endPosition),t.next=16;break;case 13:if("UNMAPPED_SLICE_HEADER"===n.contentType){t.next=15;break}throw new i("error reading slice header block, invalid content type ".concat(n._contentType));case 15:n.content=c(n.content,e.cramUnmappedSliceHeader.parser,0,r._endPosition);case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getBlocks",value:(d=jr(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getHeader();case 2:e=t.sent,r=e._endPosition,n=new Array(e.content.numBlocks),i=0;case 6:if(!(i<n.length)){t.next=14;break}return t.next=9,this.file.readBlock(r);case 9:n[i]=t.sent,r=n[i]._endPosition;case 11:i+=1,t.next=6;break;case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"getCoreDataBlock",value:(l=jr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBlocks();case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"_getBlocksContentIdIndex",value:(h=jr(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBlocks();case 2:return e=t.sent,r={},t.abrupt("return",(e.forEach((function(t){"EXTERNAL_DATA"===t.contentType&&(r[t.contentId]=t)})),r));case 5:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"getBlockByContentId",value:(s=jr(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getBlocksContentIdIndex();case 2:return t.t0=e,t.abrupt("return",t.sent[t.t0]);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"getReferenceRegion",value:(n=jr(regeneratorRuntime.mark((function t(){var e,r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getHeader();case 2:if(!((e=t.sent.content).refSeqId<0)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this.container.getCompressionScheme();case 7:if(r=t.sent,!(e.refBaseBlockId>=0)){t.next=15;break}if(n=this.getBlockByContentId(e.refBaseBlockId)){t.next=12;break}throw new i("embedded reference specified, but reference block does not exist");case 12:if(!(e.span>n.uncompressedSize)){t.next=14;break}throw new i("Embedded reference is too small");case 14:return t.abrupt("return",{seq:n.data.toString("utf8"),start:e.refSeqStart,end:e.refSeqStart+e.refSeqSpan-1,span:e.refSeqSpan});case 15:if(!r.referenceRequired&&!this.file.fetchReferenceSequenceCallback){t.next=24;break}if(this.file.fetchReferenceSequenceCallback){t.next=18;break}throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");case 18:return t.next=20,this.file.fetchReferenceSequenceCallback(e.refSeqId,e.refSeqStart,e.refSeqStart+e.refSeqSpan-1);case 20:if((a=t.sent).length===e.refSeqSpan){t.next=23;break}throw new o("seqFetch callback returned a reference sequence of the wrong length");case 23:return t.abrupt("return",{seq:a,start:e.refSeqStart,end:e.refSeqStart+e.refSeqSpan-1,span:e.refSeqSpan});case 24:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getAllRecords",value:function(){return this.getRecords((function(){return!0}))}},{key:"_fetchRecords",value:(r=jr(regeneratorRuntime.mark((function t(){var e,r,n,o,s,c,h,l,d,g,v,m,y,b,w,x,k,S,_=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.file.getDefinition();case 2:return e=t.sent,r=e.majorVersion,t.next=6,this.container.getCompressionScheme();case 6:return n=t.sent,t.next=9,this.getHeader();case 9:return o=t.sent,t.next=12,this._getBlocksContentIdIndex();case 12:if(s=t.sent,!(r>1&&this.file.options.checkSequenceMD5&&o.content.refSeqId>=0&&"0000000000000000"!==o.content.md5.join(""))){t.next=21;break}return t.next=16,this.getReferenceRegion();case 16:if(!(c=t.sent)){t.next=21;break}if(h=c.seq,l=c.start,d=c.end,g=u(h),v=o.content.md5.map((function(t){return(t<16?"0":"")+t.toString(16)})).join(""),g===v){t.next=21;break}throw new i("MD5 checksum reference mismatch for ref ".concat(o.content.refSeqId," pos ").concat(l,"..").concat(d,". recorded MD5: ").concat(v,", calculated MD5: ").concat(g));case 21:return t.next=23,this.getCoreDataBlock();case 23:m=t.sent,y={lastAlignmentStart:o.content.refSeqStart||0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{getCursor:function(t){return this[t]||(this[t]={bitPosition:7,bytePosition:0}),this[t]}}},b=function(t){var e=n.getCodecForDataSeries(t);if(!e)throw new i("no codec defined for ".concat(t," data series"));return e.decode(_,m,s,y)},w=new Array(o.content.numRecords),x=0;case 28:if(!(x<w.length)){t.next=42;break}t.prev=29,w[x]=f(this,b,n,o,m,s,y,r,x),w[x].uniqueId=o.contentPosition+o.content.recordCounter+x+1,t.next=39;break;case 33:if(t.prev=33,t.t0=t.catch(29),!(t.t0 instanceof a)){t.next=38;break}return console.warn("read attempted beyond end of buffer, file seems truncated."),w=w.filter((function(t){return!!t})),t.abrupt("break",42);case 38:throw t.t0;case 39:x+=1,t.next=28;break;case 42:for(k=0;k<w.length;k+=1)(S=w[k].mateRecordNumber)>=0&&p(w,k,w[k],w[S]);return t.abrupt("return",w);case 44:case"end":return t.stop()}}),t,this,[[29,33]])}))),function(){return r.apply(this,arguments)})},{key:"getRecords",value:(e=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,c,h,u,l,f,p,d,g=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.container.filePosition+this.containerPosition,(n=this.file.featureCache.get(r))||(n=this._fetchRecords(),this.file.featureCache.set(r,n)),t.next=5,n;case 5:if(t.t0=e,!(i=t.sent.filter(t.t0)).length||!this.file.fetchReferenceSequenceCallback){t.next=21;break}return t.next=10,this.getHeader();case 10:if(!((a=t.sent).content.refSeqId>=0||-2===a.content.refSeqId)){t.next=21;break}return o=a.content.refSeqId>=0?a.content.refSeqId:void 0,t.next=15,this.container.getCompressionScheme();case 15:for(s=t.sent,c={},h=0;h<i.length;h+=1)u=void 0!==o?o:i[h].sequenceId,(l=c[u])||(l={id:u,start:i[h].alignmentStart,end:-1/0},c[u]=l),(f=i[h].alignmentStart+(i[h].lengthOnRef||i[h].readLength)-1)>l.end&&(l.end=f),i[h].alignmentStart<l.start&&(l.start=i[h].alignmentStart);return t.next=20,Promise.all(Object.values(c).map(function(){var t=jr(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=-1!==e.id&&e.start<=e.end,!t.t0){t.next=5;break}return t.next=4,g.file.fetchReferenceSequenceCallback(e.id,e.start,e.end);case 4:e.seq=t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 20:for(p=0;p<i.length;p+=1)(d=c[void 0!==o?o:i[p].sequenceId])&&d.seq&&i[p].addReferenceSequence(d,s);case 21:return t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();"getHeader getBlocks _getBlocksContentIdIndex".split(" ").forEach((function(t){return h(d,t)})),t.exports=d},function(t,e,r){(function(e){var n=r(0),i=n.CramMalformedError,a=n.CramUnimplementedError,o=r(31),s=r(77),c=r(17);function h(t){var e=t.indexOf(0);return-1===e?t.toString("utf8"):t.toString("utf8",0,e)}function u(t,r){if(r.readInt32LE||(r=e.from(r)),"Z"===t)return h(r);if("A"===t)return String.fromCharCode(r[0]);if("I"===t){var n=o.fromBytesLE(r);if(n.greaterThan(Number.MAX_SAFE_INTEGER)||n.lessThan(Number.MIN_SAFE_INTEGER))throw new a("integer overflow");return n.toNumber()}if("i"===t)return r.readInt32LE(0);if("s"===t)return r.readInt16LE(0);if("S"===t)return r.readUInt16LE(0);if("c"===t)return r.readInt8(0);if("C"===t)return r.readUInt8(0);if("f"===t)return r.readFloatLE(0);if("H"===t){var s=h(r);return Number.parseInt(s.replace(/^0x/,""),16)}if("B"===t)return function(t){var e=String.fromCharCode(t[0]),r=t.readInt32LE(1),n={c:["readInt8",1],C:["readUInt8",1],s:["readInt16LE",2],S:["readUInt16LE",2],i:["readInt32LE",4],I:["readUInt32LE",4],f:["readFloatLE",4]}[e];if(!n)throw new i("invalid tag value array type '".concat(e,"'"));for(var a=tn(n,2),o=a[0],s=a[1],c=new Array(r),h=5,u=0;u<r;u+=1)c[u]=t[o](h),h+=s;return c}(r);throw new i("Unrecognized tag type ".concat(t))}function l(t){if(t instanceof e)return h(t);if(t.length&&t.indexOf){if(!t[t.length-1]){var r=t.indexOf(0);return String.fromCharCode.apply(String,en(t.slice(0,r)))}return String.fromCharCode.apply(String,en(t))}return String(t)}t.exports=function(t,e,r,n,a,o,h,f,p){var d=new s;if(d.flags=e("BF"),d.cramFlags=e("CF"),f>1&&-2===n.content.refSeqId?d.sequenceId=e("RI"):d.sequenceId=n.content.refSeqId,d.readLength=e("RL"),d.alignmentStart=e("AP"),r.APdelta&&(d.alignmentStart+=h.lastAlignmentStart),h.lastAlignmentStart=d.alignmentStart,d.readGroupId=e("RG"),r.readNamesIncluded&&(d.readName=l(e("RN"))),d.isDetached()){var g={};g.flags=e("MF"),r.readNamesIncluded||(g.readName=l(e("RN")),d.readName=g.readName),g.sequenceId=e("NS"),g.alignmentStart=e("NP"),(g.flags||g.sequenceId>-1)&&(d.mate=g),d.templateSize=e("TS"),g.flags&c.CRAM_M_UNMAP&&(d.flags|=c.BAM_FMUNMAP),g.flags&c.CRAM_M_REVERSE&&(d.flags|=c.BAM_FMREVERSE)}else d.hasMateDownStream()&&(d.mateRecordNumber=e("NF")+p+1);var v=e("TL");if(v<0)throw new i("invalid TL index");for(var m=r.getTagNames(v),y=m.length,b=0;b<y;b+=1){var w=m[b],x=w.substr(0,2),k=w.substr(2,1),S=r.getCodecForTag(w);if(!S)throw new i("no codec defined for auxiliary tag ".concat(w));var _=S.decode(t,a,o,h);d.tags[x]=u(k,_)}if(d.isSegmentUnmapped())if(d.isUnknownBases())d.readBases=null,d.qualityScores=null;else{for(var C=new Array(d.readLength),A=0;A<C.length;A+=1)C[A]=e("BA");if(d.readBases=String.fromCharCode.apply(String,C),d.isPreservingQualityScores()){for(var E=0;E<C.length;E+=1)C[E]=e("QS");d.qualityScores=C}}else{var R=e("FN");R&&(d.readFeatures=function(t,e,r,n,a){var o=0,s=t.alignmentStart-1,c=new Array(e);function h(t){var e=tn(t,2),n=e[0],i=e[1],a=r(i);return"character"===n?String.fromCharCode(a):"string"===n?a.toString("utf8"):"numArray"===n?a.toArray():a}for(var u=0;u<e;u+=1){var l=String.fromCharCode(r("FC")),f=r("FP"),p={code:l},d={B:["character","BA"],S:["string",a>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[l];if(!d)throw new i('invalid read feature code "'.concat(l,'"'));p.data=h(d);var g={B:["number","QS"]}[l];g&&(p.data=[p.data,h(g)]),o+=f,p.pos=o,s+=f,p.refPos=s,"D"===l||"N"===l?s+=p.data:"H"===l?s-=p.data:"I"===l||"S"===l?s-=p.data.length:"i"===l&&(s-=1),c[u]=p}return c}(d,R,e,0,f));var T=d.readLength;if(d.readFeatures&&d.readFeatures.forEach((function(t){var e=t.code,r=t.data;"D"===e||"N"===e?T+=r:"I"===e||"S"===e?T-=r.length:"i"===e&&(T-=1)})),Number.isNaN(T)&&(console.warn("".concat(d.readName||"".concat(d.sequenceId,":").concat(d.alignmentStart)," record has invalid read features")),T=d.readLength),d.lengthOnRef=T,d.mappingQuality=e("MQ"),d.isPreservingQualityScores()){for(var L=new Array(d.readLength),I=0;I<L.length;I+=1)L[I]=e("QS");d.qualityScores=L}}return d}}).call(this,r(1).Buffer)},function(t,e,r){var n=r(17),i={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4};t.exports=function(){function t(){qr(this,t),this.tags={}}return Gr(t,[{key:"isPaired",value:function(){return!!(this.flags&n.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!(this.flags&n.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!(this.flags&n.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!(this.flags&n.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!(this.flags&n.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!(this.flags&n.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!(this.flags&n.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!(this.flags&n.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!(this.flags&n.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!(this.flags&n.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!(this.flags&n.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!(this.flags&n.BAM_FSUPPLEMENTARY)}},{key:"isDetached",value:function(){return!!(this.cramFlags&n.CRAM_FLAG_DETACHED)}},{key:"hasMateDownStream",value:function(){return!!(this.cramFlags&n.CRAM_FLAG_MATE_DOWNSTREAM)}},{key:"isPreservingQualityScores",value:function(){return!!(this.cramFlags&n.CRAM_FLAG_PRESERVE_QUAL_SCORES)}},{key:"isUnknownBases",value:function(){return!!(this.cramFlags&n.CRAM_FLAG_NO_SEQ)}},{key:"getReadBases",value:function(){return!this.readBases&&this._refRegion&&(this.readBases=function(t,e){if((t.lengthOnRef||t.readLength)&&!t.isUnknownBases()){var r=t.alignmentStart-e.start;if(!t.readFeatures)return e.seq.substr(r,t.lengthOnRef).toUpperCase();for(var n="",i=r,a=0;n.length<t.readLength;)if(a<t.readFeatures.length&&t.readFeatures[a].pos===n.length+1){var o=t.readFeatures[a];a+=1,"b"===o.code?(n+=o.data,i+=1):"B"===o.code?(n+=o.data[0],i+=1):"X"===o.code?(n+=o.sub,i+=1):"I"===o.code?n+=o.data:"D"===o.code?i+=o.data:"i"===o.code?n+=o.data:"N"===o.code?i+=o.data:"S"===o.code?n+=o.data:"P"===o.code||o.code}else if(a<t.readFeatures.length){var s=e.seq.substr(i,t.readFeatures[a].pos-n.length-1);n+=s,i+=s.length}else{var c=e.seq.substr(i,t.readLength-n.length);n+=c,i+=c.length}return n.toUpperCase()}}(this,this._refRegion)),this.readBases}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.sequenceId===this.mate.sequenceId){var t=this.isReverseComplemented()?"R":"F",e=this.isMateReverseComplemented()?"R":"F",r=" ",n=" ";this.isRead1()?(r="1",n="2"):this.isRead2()&&(r="2",n="1");var i=[],a=this.templateLength||this.templateSize;return this.alignmentStart>this.mate.alignmentStart&&a>0&&(a=-a),a>0?(i[0]=t,i[1]=r,i[2]=e,i[3]=n):(i[2]=t,i[3]=r,i[0]=e,i[1]=n),i.join("")}return null}},{key:"addReferenceSequence",value:function(t,e){this.readFeatures&&this.readFeatures.forEach((function(r){"X"===r.code&&function(t,e,r,n){if(e){var a=n.refPos-e.start,o=e.seq.charAt(a);o&&(n.ref=o);var s=i[o];void 0===s&&(s=4);var c=r.substitutionMatrix[s][n.data];c&&(n.sub=c)}}(0,t,e,r)})),!this.readBases&&t.start<=this.alignmentStart&&t.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=t)}},{key:"toJSON",value:function(){var t=this,e={};return Object.keys(this).forEach((function(r){"_"!==r.charAt(0)&&(e[r]=t[r])})),e.readBases=this.getReadBases(),e}}]),t}()},function(t,e,r){var n=r(0).CramMalformedError,i=r(79).instantiateCodec,a={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int",TM:"ignore",TV:"ignore"};t.exports=function(){function t(e){qr(this,t),Object.assign(this,e),this.readNamesIncluded=e.preservation.RN,this.APdelta=e.preservation.AP,this.referenceRequired=!!e.preservation.RR,this.tagIdsDictionary=e.preservation.TD,this.substitutionMatrix=function(t){for(var e=new Array(5),r=0;r<5;r+=1)e[r]=new Array(4);return e[0][t[0]>>6&3]="C",e[0][t[0]>>4&3]="G",e[0][t[0]>>2&3]="T",e[0][t[0]>>0&3]="N",e[1][t[1]>>6&3]="A",e[1][t[1]>>4&3]="G",e[1][t[1]>>2&3]="T",e[1][t[1]>>0&3]="N",e[2][t[2]>>6&3]="A",e[2][t[2]>>4&3]="C",e[2][t[2]>>2&3]="T",e[2][t[2]>>0&3]="N",e[3][t[3]>>6&3]="A",e[3][t[3]>>4&3]="C",e[3][t[3]>>2&3]="G",e[3][t[3]>>0&3]="N",e[4][t[4]>>6&3]="A",e[4][t[4]>>4&3]="C",e[4][t[4]>>2&3]="G",e[4][t[4]>>0&3]="T",e}(e.preservation.SM),this.dataSeriesCodecCache={},this.tagCodecCache={}}return Gr(t,[{key:"getCodecForTag",value:function(t){if(!this.tagCodecCache[t]){var e=this.tagEncoding[t];e&&(this.tagCodecCache[t]=i(e,"byteArray"))}return this.tagCodecCache[t]}},{key:"getTagNames",value:function(t){return this.tagIdsDictionary[t]}},{key:"getCodecForDataSeries",value:function(t){if(!this.dataSeriesCodecCache[t]){var e=this.dataSeriesEncoding[t];if(e){var r=a[t];if(!r)throw new n("data series name ".concat(t," not defined in file compression header"));this.dataSeriesCodecCache[t]=i(e,r)}}return this.dataSeriesCodecCache[t]}},{key:"toJSON",value:function(){var t=this,e={};return Object.keys(this).forEach((function(r){/Cache$/.test(r)||(e[r]=t[r])})),e}}]),t}()},function(t,e,r){var n=r(0).CramUnimplementedError,i=r(80),a=r(81),o=r(82),s=r(83),c=r(84),h=r(85),u={1:a,3:i,4:s,5:o,6:c,7:r(86),9:h};function l(t){return u[t]}t.exports={getCodecClassWithId:l,instantiateCodec:function t(e,r){var i=l("ignore"===r?0:e.codecId);if(!i)throw new n("no codec implemented for codec ID ".concat(e.codecId));return new i(e.parameters,r,t)}}},function(t,e,r){var n=r(0).CramMalformedError,i=r(6);t.exports=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(qr(this,e),t=Jr(this,Zr(e).call(this,r,n)),!["byte","int"].includes(t.dataType))throw new TypeError("".concat(t.dataType," decoding not yet implemented by HUFFMAN_INT codec"));return t.buildCodeBook(),t.buildCodes(),t.buildCaches(),0===t.sortedCodes[0].bitLength&&(t._decode=t._decodeZeroLengthCode),Jr(t)}return Wr(e,t),Gr(e,[{key:"buildCodeBook",value:function(){for(var t=this,e=new Array(this.parameters.numCodes),r=0;r<this.parameters.numCodes;r+=1)e[r]={symbol:this.parameters.symbols[r],bitLength:this.parameters.bitLengths[r]};e=e.sort((function(t,e){return t.bitLength-e.bitLength||t.symbol-e.symbol})),this.codeBook={},e.forEach((function(e){t.codeBook[e.bitLength]||(t.codeBook[e.bitLength]=[]),t.codeBook[e.bitLength].push(e.symbol)}))}},{key:"buildCodes",value:function(){var t=this;this.codes={};var e=0,r=-1;Object.entries(this.codeBook).forEach((function(i){var a=tn(i,2),o=a[0],s=a[1];o=parseInt(o,10),s.forEach((function(i){var a={bitLength:o,value:i};r+=1;var s=o-e;if(r<<=s,a.bitCode=r,e+=s,function(t){var e=t-(t>>1)&1431655765;return 16843009*((e=(858993459&e)+(e>>2&858993459))+(e>>4)&252645135)>>24}(r)>o)throw new n("Symbol out of range");t.codes[i]=a}))}))}},{key:"buildCaches",value:function(){this.sortedCodes=Object.values(this.codes).sort((function(t,e){return t.bitLength-e.bitLength||t.bitCode-e.bitCode})),this.sortedByValue=Object.values(this.codes).sort((function(t,e){return t.value-e.value})),this.sortedValuesByBitCode=this.sortedCodes.map((function(t){return t.value})),this.sortedBitCodes=this.sortedCodes.map((function(t){return t.bitCode})),this.sortedBitLengthsByBitCode=this.sortedCodes.map((function(t){return t.bitLength}));var t=Math.max.apply(Math,en(this.sortedBitCodes));this.bitCodeToValue=new Array(t+1).fill(-1);for(var e=0;e<this.sortedBitCodes.length;e+=1)this.bitCodeToValue[this.sortedCodes[e].bitCode]=e}},{key:"decode",value:function(t,e,r,n){return this._decode(t,e,n.coreBlock)}},{key:"_decodeZeroLengthCode",value:function(){return this.sortedCodes[0].value}},{key:"_decode",value:function(t,e,r){for(var i=e.content,a=0,o=0,s=0;s<this.sortedCodes.length;s+=1){var c=this.sortedCodes[s].bitLength;o<<=c-a,o|=this._getBits(i,r,c-a),a=c;var h=this.bitCodeToValue[o];if(h>-1&&this.sortedBitLengthsByBitCode[h]===c)return this.sortedValuesByBitCode[h];for(var u=s;this.sortedCodes[u+1].bitLength===c&&u<this.sortedCodes.length;u+=1)s+=1}throw new n("Huffman symbol not found.")}}]),e}(i)},function(t,e,r){var n=r(0),i=n.CramUnimplementedError,a=n.CramMalformedError,o=n.CramBufferOverrunError,s=r(6),c=r(8).parseItf8;t.exports=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(qr(this,e),"int"===(t=Jr(this,Zr(e).call(this,r,n))).dataType)t._decodeData=t._decodeInt;else{if("byte"!==t.dataType)throw new i("".concat(t.dataType," decoding not yet implemented by EXTERNAL codec"));t._decodeData=t._decodeByte}return Jr(t)}return Wr(e,t),Gr(e,[{key:"decode",value:function(t,e,r,n){var i=this.parameters.blockContentId,o=r[i];if(!o)throw new a("no block found with content ID ".concat(i));var s=n.externalBlocks.getCursor(i);return this._decodeData(o,s)}},{key:"_decodeInt",value:function(t,e){var r=tn(c(t.content,e.bytePosition),2),n=r[0],i=r[1];return e.bytePosition+=i,n}},{key:"_decodeByte",value:function(t,e){if(e.bytePosition>=t.content.length)throw new o("attempted to read beyond end of block. this file seems truncated.");var r=t.content[e.bytePosition];return e.bytePosition+=1,r}}]),e}(s)},function(t,e,r){var n=r(0),i=n.CramBufferOverrunError,a=n.CramMalformedError,o=r(6);t.exports=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(qr(this,e),t=Jr(this,Zr(e).call(this,r,n)),"byteArray"!==n)throw new TypeError("byteArrayStop codec does not support data type ".concat(n));return t._decode=t._decodeByteArray,Jr(t)}return Wr(e,t),Gr(e,[{key:"decode",value:function(t,e,r,n){var i=this.parameters.blockContentId,o=r[i];if(!o)throw new a("no block found with content ID ".concat(i));var s=n.externalBlocks.getCursor(i);return this._decode(o,s)}},{key:"_decodeByteArray",value:function(t,e){for(var r=t.content,n=this.parameters.stopByte,a=e.bytePosition,o=e.bytePosition;r[o]!==n&&o<r.length;){if(o===r.length)throw new i("byteArrayStop reading beyond length of data buffer?");o+=1}return e.bytePosition=o+1,r.slice(a,o)}}]),e}(o)},function(t,e,r){var n=r(8).tinyMemoize,i=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(qr(this,e),(t=Jr(this,Zr(e).call(this,r,n))).instantiateCodec=i,"byteArray"!==n)throw new TypeError("byteArrayLength does not support data type ".concat(n));return Jr(t)}return Wr(e,t),Gr(e,[{key:"decode",value:function(t,e,r,n){for(var i=this._getLengthCodec().decode(t,e,r,n),a=this._getDataCodec(),o=new Array(i),s=0;s<i;s+=1)o[s]=a.decode(t,e,r,n);return o}},{key:"_getLengthCodec",value:function(){var t=this.parameters.lengthsEncoding;return this.instantiateCodec(t,"int")}},{key:"_getDataCodec",value:function(){var t=this.parameters.valuesEncoding;return this.instantiateCodec(t,"byte")}}]),e}(r(6));"_getLengthCodec _getDataCodec".split(" ").forEach((function(t){return n(i,t)})),t.exports=i},function(t,e,r){var n=r(0).CramUnimplementedError,i=r(6);t.exports=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(qr(this,e),"int"!==(t=Jr(this,Zr(e).call(this,r,i))).dataType)throw new n("".concat(t.dataType," decoding not yet implemented by BETA codec"));return Jr(t)}return Wr(e,t),Gr(e,[{key:"decode",value:function(t,e,r,n){return this._getBits(e.content,n.coreBlock,this.parameters.length)-this.parameters.offset}}]),e}(i)},function(t,e,r){var n=r(0).CramUnimplementedError,i=r(6);t.exports=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(qr(this,e),"int"!==(t=Jr(this,Zr(e).call(this,r,i))).dataType)throw new n("".concat(t.dataType," decoding not yet implemented by GAMMA codec"));return Jr(t)}return Wr(e,t),Gr(e,[{key:"decode",value:function(t,e,r,n){for(var i=1;0===this._getBits(e.content,n.coreBlock,1);)i+=1;return(this._getBits(e.content,n.coreBlock,i-1)|1<<i-1)-this.parameters.offset}}]),e}(i)},function(t,e,r){var n=r(0).CramUnimplementedError,i=r(6);t.exports=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(qr(this,e),"int"!==(t=Jr(this,Zr(e).call(this,r,i))).dataType)throw new n("".concat(t.dataType," decoding not yet implemented by SUBEXP codec"));return Jr(t)}return Wr(e,t),Gr(e,[{key:"decode",value:function(t,e,r,n){for(var i,a,o=0;this._getBits(e.content,n.coreBlock,1);)o+=1;return 0===o?(i=this.parameters.K,a=this._getBits(e.content,n.coreBlock,i)):a=1<<(i=o+this.parameters.K-1)|this._getBits(e.content,n.coreBlock,i),a-this.parameters.offset}}]),e}(i)},function(t,e,r){var n=r(88),i=r(90);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=b(t)),t instanceof a?t.format():a.prototype.format.call(t)},e.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(h),l=["%","/","?",";","#"].concat(u),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(91);function b(t,e,r){if(t&&i.isObject(t)&&t instanceof a)return t;var n=new a;return n.parse(t,e,r),n}a.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+Hr(t));var a=t.indexOf("?"),s=-1!==a&&a<t.indexOf("#")?"?":"#",h=t.split(s);h[0]=h[0].replace(/\\/g,"/");var b=t=h.join(s);if(b=b.trim(),!r&&1===t.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=o.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length)}if(r||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(S||x&&!m[x])){for(var _,C,A=-1,E=0;E<f.length;E++)-1!==(R=b.indexOf(f[E]))&&(-1===A||R<A)&&(A=R);for(-1!==(C=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(_=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(_)),A=-1,E=0;E<l.length;E++){var R;-1!==(R=b.indexOf(l[E]))&&(-1===A||R<A)&&(A=R)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var L=this.hostname.split(/\./),I=(E=0,L.length);E<I;E++){var M=L[E];if(M&&!M.match(p)){for(var P="",O=0,N=M.length;O<N;O++)M.charCodeAt(O)>127?P+="x":P+=M[O];if(!P.match(p)){var F=L.slice(0,E),D=L.slice(E+1),B=M.match(d);B&&(F.push(B[1]),D.unshift(B[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var z=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+z,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[k])for(E=0,I=u.length;E<I;E++){var H=u[E];if(-1!==b.indexOf(H)){var $=encodeURIComponent(H);$===H&&($=escape(H)),b=b.split(H).join($)}}var j=b.indexOf("#");-1!==j&&(this.hash=b.substr(j),b=b.slice(0,j));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,q)):e&&(this.search="",this.query={}),b&&(this.pathname=b),m[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var V=this.search||"";this.path=z+V}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+a+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(i.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var r=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),h=0;h<c.length;h++){var u=c[h];"protocol"!==u&&(r[u]=t[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var p=l[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=w||b||r.host&&t.pathname,k=x,S=r.pathname&&r.pathname.split("/")||[],_=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),x=x&&(""===d[0]||""===S[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search))return _&&(r.hostname=r.host=S.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift())),r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=S.slice(-1)[0],A=(r.host||t.host||S.length>1)&&("."===C||".."===C)||""===C,E=0,R=S.length;R>=0;R--)"."===(C=S[R])?S.splice(R,1):".."===C?(S.splice(R,1),E++):E&&(S.splice(R,1),E--);if(!x&&!k)for(;E--;E)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var T,L=""===S[0]||S[0]&&"/"===S[0].charAt(0);return _&&(r.hostname=r.host=L?"":S.length?S.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift())),(x=x||r.host&&S.length)&&!L&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){(function(t,n){var i;
/*! https://mths.be/punycode v1.4.1 by @mathias */!function(a){e&&e.nodeType,t&&t.nodeType;var o="object"==Hr(n)&&n;o.global!==o&&o.window!==o&&o.self;var s,c=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,g=String.fromCharCode;function v(t){throw new RangeError(p[t])}function m(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function y(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+m((t=t.replace(f,".")).split("."),e).join(".")}function b(t){for(var e,r,n=[],i=0,a=t.length;i<a;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<a?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function w(t){return m(t,(function(t){var e="";return t>65535&&(e+=g((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+g(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function k(t,e,r){var n=0;for(t=r?d(t/700):t>>1,t+=d(t/e);t>455;n+=h)t=d(t/35);return d(n+36*t/(t+38))}function S(t){var e,r,n,i,a,o,s,u,l,f,p,g=[],m=t.length,y=0,b=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&v("not-basic"),g.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(a=y,o=1,s=h;i>=m&&v("invalid-input"),((u=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:h)>=h||u>d((c-y)/o))&&v("overflow"),y+=u*o,!(u<(l=s<=x?1:s>=x+26?26:s-x));s+=h)o>d(c/(f=h-l))&&v("overflow"),o*=f;x=k(y-a,e=g.length+1,0==a),d(y/e)>c-b&&v("overflow"),b+=d(y/e),y%=e,g.splice(y++,0,b)}return w(g)}function _(t){var e,r,n,i,a,o,s,u,l,f,p,m,y,w,S,_=[];for(m=(t=b(t)).length,e=128,r=0,a=72,o=0;o<m;++o)(p=t[o])<128&&_.push(g(p));for(n=i=_.length,i&&_.push("-");n<m;){for(s=c,o=0;o<m;++o)(p=t[o])>=e&&p<s&&(s=p);for(s-e>d((c-r)/(y=n+1))&&v("overflow"),r+=(s-e)*y,e=s,o=0;o<m;++o)if((p=t[o])<e&&++r>c&&v("overflow"),p==e){for(u=r,l=h;!(u<(f=l<=a?1:l>=a+26?26:l-a));l+=h)S=u-f,w=h-f,_.push(g(x(f+S%w,0))),u=d(S/w);_.push(g(x(u,0))),a=k(r,y,n==i),r=0,++n}++r,++e}return _.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:w},decode:S,encode:_,toASCII:function(t){return y(t,(function(t){return l.test(t)?"xn--"+_(t):t}))},toUnicode:function(t){return y(t,(function(t){return u.test(t)?S(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(89)(t),r(2))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==Hr(t)&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){e.decode=e.parse=r(92),e.encode=e.stringify=r(93)},function(t,e,r){function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,a){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var c=1e3;a&&"number"==typeof a.maxKeys&&(c=a.maxKeys);var h=t.length;c>0&&h>c&&(h=c);for(var u=0;u<h;++u){var l,f,p,d,g=t[u].replace(s,"%20"),v=g.indexOf(r);v>=0?(l=g.substr(0,v),f=g.substr(v+1)):(l=g,f=""),p=decodeURIComponent(l),d=decodeURIComponent(f),n(o,p)?i(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){var n=function(t){switch(Hr(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,s){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==Hr(t)?a(o(t),(function(o){var s=encodeURIComponent(n(o))+r;return i(t[o])?a(t[o],(function(t){return s+encodeURIComponent(n(t))})).join(e):s+encodeURIComponent(n(t[o]))})).join(e):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var o=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){(function(e){var n=r(95),i=r(96);t.exports=function(){function t(e){var r=this;qr(this,t),this.position=0,this.url=e,this.cache=new i({fetch:function(t,e){return r._fetch(t,e)}})}var r,a,o;return Gr(t,[{key:"_fetch",value:(o=jr(regeneratorRuntime.mark((function t(r,i){var a,o,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},i<1/0?a.range="bytes=".concat(r,"-").concat(r+i):i===1/0&&0!==r&&(a.range="bytes=".concat(r,"-")),t.next=4,n(this.url,{method:"GET",headers:a,redirect:"follow",mode:"cors"});case 4:if((200!==(o=t.sent).status||0!==r)&&206!==o.status){t.next=13;break}return t.t0=e,t.next=9,o.arrayBuffer();case 9:return t.t1=t.sent,s=t.t0.from.call(t.t0,t.t1),c=/\/(\d+)$/.exec(o.headers.get("content-range")),t.abrupt("return",(c&&c[1]?this._stat={size:parseInt(c[1],10)}:this._stat={size:void 0},s));case 13:throw new Error("HTTP ".concat(o.status," fetching ").concat(this.url));case 14:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"read",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null===n&&(this.position,this.position+=r),this.cache.get(t,e,r,n)}},{key:"readFile",value:(a=jr(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(this.url,{method:"GET",redirect:"follow",mode:"cors"});case 2:return r=t.sent,t.t0=e,t.next=6,r.arrayBuffer();case 6:return t.t1=t.sent,t.abrupt("return",t.t0.from.call(t.t0,t.t1));case 8:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"stat",value:(r=jr(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._stat){t.next=6;break}return r=e.allocUnsafe(10),t.next=4,this.read(r,0,10,0);case 4:if(this._stat){t.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return t.abrupt("return",this._stat);case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),t}()}).call(this,r(1).Buffer)},function(t,e){var r=function(t){function e(){this.fetch=!1}return e.prototype=t,new e}("undefined"!=typeof self?self:this);!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in t,o="ArrayBuffer"in t;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,r,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=d(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=h(t),e=u(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},f.prototype.delete=function(t){delete this.map[h(t)]},f.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},f.prototype.set=function(t,e){this.map[h(t)]=u(e)},f.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),l(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),l(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),l(t)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var r,n,i=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function x(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];x.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new x(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,r){return new Promise((function(n,a){var o=new b(t,r);if(o.signal&&o.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new x(i,r))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new e.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",c)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=b,t.Response=x),e.Headers=f,e.Request=b,e.Response=x,e.fetch=S}({})}(r),delete r.fetch.polyfill,t.exports=e=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,e.default=r.fetch},function(t,e,r){var n=r(30);t.exports=function(){function t(e){var r=e.fetch,i=e.size,a=void 0===i?1e7:i,o=e.chunkSize,s=void 0===o?32768:o;if(qr(this,t),!r)throw new Error("fetch function required");this.fetch=r,this.chunkSize=s,this.lruCache=new n({maxSize:Math.floor(a/s)})}var e;return Gr(t,[{key:"get",value:(e=jr(regeneratorRuntime.mark((function t(e,r,n,i){var a,o,s,c,h,u,l,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<r+n)){t.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(a=Math.floor(i/this.chunkSize),o=Math.floor((i+n)/this.chunkSize),s=new Array(o-a+1),c=function(t){s[t-a]=f._getChunk(t).then((function(e){return{data:e,chunkNumber:t}}))},h=a;h<=o;h+=1)c(h);return t.next=7,Promise.all(s);case 7:u=t.sent,l=i-u[0].chunkNumber*this.chunkSize,u.forEach((function(t){var s=t.data,c=t.chunkNumber,h=c*f.chunkSize,u=0,p=f.chunkSize,d=r+(c-a)*f.chunkSize-l;c===a&&(d=r,u=l),c===o&&(p=i+n-h),s.copy(e,d,u,p)}));case 10:case"end":return t.stop()}}),t,this)}))),function(t,r,n,i){return e.apply(this,arguments)})},{key:"_getChunk",value:function(t){var e=this.lruCache.get(t);if(e)return e;var r=this.fetch(t*this.chunkSize,this.chunkSize);return this.lruCache.set(t,r),r}}]),t}()},function(t,e,r){r(34).promisify;var n=null,i=n;t.exports=function(){function t(e){qr(this,t),this.position=0,this.filename=e,this.fd=i(this.filename,"r")}var e,r,n;return Gr(t,[{key:"read",value:(n=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:0,n=a.length>2?a[2]:void 0,null===(i=a.length>3?a[3]:void 0)&&(this.position,this.position+=n),t.t0=null,t.next=8,this.fd;case 8:return t.t1=t.sent,t.t2=e,t.t3=r,t.t4=n,t.t5=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5));case 14:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"readFile",value:(r=jr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=null,t.next=3,this.fd;case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"stat",value:(e=jr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._stat,t.t0){t.next=9;break}return t.t1=null,t.next=5,this.fd;case 5:return t.t2=t.sent,t.next=8,(0,t.t1)(t.t2);case 8:this._stat=t.sent;case 9:return t.abrupt("return",this._stat);case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}()},function(t,e){t.exports={parseHeaderText:function(t){var e=t.split(/\r?\n/),r=[];return e.forEach((function(t){var e=function(t){return rn(t)||nn(t)||an()}(t.split(/\t/)),n=e[0],i=e.slice(1).map((function(t){var e=tn(t.split(":",2),2);return{tag:e[0],value:e[1]}}));n&&r.push({tag:n.substr(1),data:i})})),r}}},function(t,e,r){var n=r(0),i=n.CramUnimplementedError,a=n.CramSizeLimitError,o=r(18);t.exports=function(){function t(e){if(qr(this,t),e.cram?this.cram=e.cram:this.cram=new o({url:e.cramUrl,path:e.cramPath,filehandle:e.cramFilehandle,seqFetch:e.seqFetch,checkSequenceMD5:e.checkSequenceMD5,cacheSize:e.cacheSize}),!(this.cram instanceof o))throw new Error("invalid arguments: no cramfile");if(this.index=e.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=e.fetchSizeLimit||3e6}var e;return Gr(t,[{key:"getRecordsForRange",value:(e=jr(regeneratorRuntime.mark((function t(e,r,n){var o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S,_,C,A,E,R,T,L,I,M,P=this,O=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=O.length>3&&void 0!==O[3]?O[3]:{}).viewAsPairs=s.viewAsPairs||!1,s.pairAcrossChr=s.pairAcrossChr||!1,s.maxInsertSize=s.maxInsertSize||2e5,"string"!=typeof e){t.next=3;break}throw new i("string sequence names not yet supported");case 3:return c=e,t.next=6,this.index.getEntriesForRange(c,r,n);case 6:if(h=t.sent,!((u=h.map((function(t){return t.sliceBytes})).reduce((function(t,e){return t+e}),0))>this.fetchSizeLimit)){t.next=10;break}throw new a("data size of ".concat(u.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 10:return l=function(t){return t.sequenceId===e&&t.alignmentStart<=n&&t.alignmentStart+t.lengthOnRef>=r},t.next=13,Promise.all(h.map((function(t){return P.getRecordsInSlice(t,l)})));case 13:if(f=t.sent,p=(o=Array.prototype).concat.apply(o,en(f)),!s.viewAsPairs){t.next=36;break}for(d={},g={},v=0;v<p.length;v+=1)m=p[v].readName,y=p[v].uniqueId,d[m]||(d[m]=0),d[m]+=1,g[y]=1;for(b={},Object.entries(d).forEach((function(t){var e=tn(t,2),r=e[0];1===e[1]&&(b[r]=!0)})),w=[],x=0;x<p.length;x+=1)k=p[x].readName,b[k]&&p[x].mate&&(p[x].mate.sequenceId===c||s.pairAcrossChr)&&Math.abs(p[x].alignmentStart-p[x].mate.alignmentStart)<s.maxInsertSize&&(S=this.index.getEntriesForRange(p[x].mate.sequenceId,p[x].mate.alignmentStart,p[x].mate.alignmentStart+1),w.push(S));return t.next=24,Promise.all(w);case 24:for(_=t.sent,C=[],A=0;A<_.length;A+=1)(E=C).push.apply(E,en(_[A]));if(C=C.sort((function(t,e){return t.toString().localeCompare(e.toString())})).filter((function(t,e,r){return!e||t.toString()!==r[e-1].toString()})),R=[],T=[],!((L=C.map((function(t){return t.sliceBytes})).reduce((function(t,e){return t+e}),0))>this.fetchSizeLimit)){t.next=31;break}throw new Error("mate data size of ".concat(L.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 31:return C.forEach((function(t){var e=P.cram.featureCache.get(t.toString());e||(e=P.getRecordsInSlice(t,(function(){return!0})),P.cram.featureCache.set(t.toString(),e)),R.push(e);var r=e.then((function(t){for(var e=[],r=0;r<t.length;r+=1){var n=t[r];b[n.readName]&&!g[n.uniqueId]&&e.push(n)}return e}));T.push(r)})),t.next=34,Promise.all(T);case 34:(I=t.sent).length&&(M=I.reduce((function(t,e){return t.concat(e)})),p=p.concat(M));case 36:return t.abrupt("return",p);case 37:case"end":return t.stop()}}),t,this)}))),function(t,r,n){return e.apply(this,arguments)})},{key:"getRecordsInSlice",value:function(t,e){var r=t.containerStart,n=t.sliceStart,i=t.sliceBytes;return this.cram.getContainerAtPosition(r).getSlice(n,i).getRecords(e)}},{key:"hasDataForReferenceSequence",value:function(t){return this.index.hasDataForReferenceSequence(t)}}]),t}()},function(t,e,r){var n=(0,r(34).promisify)(r(20).gunzip),i=r(33).open,a=r(0).CramMalformedError,o=function(){function t(e){qr(this,t),Object.assign(this,e)}return Gr(t,[{key:"toString",value:function(){return"".concat(this.start,":").concat(this.span,":").concat(this.containerStart,":").concat(this.sliceStart,":").concat(this.sliceBytes)}}]),t}();function s(t,e){if(e.some((function(t){return void 0===t})))throw new a("invalid .crai index file");var r=tn(e,6),n=r[0],i=r[1],s=r[2],c=r[3],h=r[4],u=r[5];t[n]||(t[n]=[]),t[n].push(new o({start:i,span:s,containerStart:c,sliceStart:h,sliceBytes:u}))}t.exports=function(){function t(e){qr(this,t);var r=i(e.url,e.path,e.filehandle);this.readFile=r.readFile.bind(r),this.index=this.parseIndex()}var e,r;return Gr(t,[{key:"parseIndex",value:function(){var t={};return this.readFile().then((function(t){return 31===t[0]&&139===t[1]?n(t):t})).then((function(e){for(var r=[],n="",i=0;i<e.length;i+=1){var o=e[i];if(o>=48&&o<=57||!n&&45===o)n+=String.fromCharCode(o);else if(9===o)r.push(Number.parseInt(n,10)),n="";else if(10===o)r.push(Number.parseInt(n,10)),n="",s(t,r),r=[];else if(13!==o&&32!==o)throw new a("invalid .crai index file")}return n&&r.push(Number.parseInt(n,10)),6===r.length&&s(t,r),Object.entries(t).forEach((function(e){var r=tn(e,2),n=r[0],i=r[1];t[n]=i.sort((function(t,e){return t.start-e.start||t.span-e.span}))})),t}))}},{key:"getIndex",value:function(){return this.index}},{key:"hasDataForReferenceSequence",value:(r=jr(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.index;case 2:return t.t0=e,t.abrupt("return",!!t.sent[t.t0]);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"getEntriesForRange",value:(e=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h,u,l,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.index;case 2:if(t.t0=e,i=t.sent[t.t0]){t.next=6;break}return t.abrupt("return",[]);case 6:a=i.length,o=function(t){var e=t.start,i=t.start+t.span;return e>=n?-1:i<=r?1:0},c=0,h=a-1;case 8:if(!(c<=h)){t.next=19;break}if(!((u=o(i[s=Math.round((h+c)/2)]))>0)){t.next=14;break}c=s+1,t.next=17;break;case 14:if(u<0){t.next=16;break}return t.abrupt("break",19);case 16:h=s-1;case 17:t.next=8;break;case 19:for(l=s;l&&!o(i[l-1]);)l-=1;for(f=s;f<a-1&&!o(i[f+1]);)f+=1;return p=i[l].start,t.abrupt("return",i[f].start+i[f].span>=r&&n>=p?i.slice(l,f+1):[]);case 25:case"end":return t.stop()}}),t,this)}))),function(t,r,n){return e.apply(this,arguments)})}]),t}()}]),Zw=function(t,e,r){this.config=t,this.browser=r,this.genome=e,this.cramFile=new Ww.CramFile({filehandle:new Yw(t.url,t),seqFetch:t.seqFetch||Xw.bind(this),checkSequenceMD5:void 0===t.checkSequenceMD5||t.checkSequenceMD5});var n=new Yw(t.indexURL,t);this.indexedCramFile=new Ww.IndexedCramFile({cram:this.cramFile,index:new Ww.CraiIndex({filehandle:n}),fetchSizeLimit:3e7}),fw.setReaderDefaults(this,t)};function Xw(t,e,r){var n=this.genome.sequence,i=this.genome;return this.getHeader().then((function(a){var o=i.getChromosomeName(a.chrNames[t]);return n.getSequence(o,e-1,r)}))}Zw.prototype.getHeader=function(){if(this.header)return Promise.resolve(this.header);var t=this,e=this.genome;return this.cramFile.getSamHeader().then((function(r){var n={},i=[],a={},o=[],s=!0,c=!1,h=void 0;try{for(var u,l=r[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value;if("SQ"===f.tag){var p=!0,d=!1,g=void 0;try{for(var v,m=f.data[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var y=v.value;if("SN"===y.tag){var b=y.value;if(n[b]=i.length,i.push(b),e)a[e.getChromosomeName(b)]=b;break}}}catch(t){d=!0,g=t}finally{try{p||null==m.return||m.return()}finally{if(d)throw g}}}else"RG"===f.tag&&o.push(f.data)}}catch(t){c=!0,h=t}finally{try{s||null==l.return||l.return()}finally{if(c)throw h}}return t.header={chrNames:i,chrToIndex:n,chrAliasTable:a,readGroups:o},t.header}))},Zw.prototype.readAlignments=function(t,e,r){var n=this,i=this.browser;return this.getHeader().then((function(a){var o=a.chrAliasTable.hasOwnProperty(t)?a.chrAliasTable[t]:t,s=a.chrToIndex[o],c=new Xb(t,e,r,n.samplingWindowSize,n.samplingDepth,n.pairsSupported,n.alleleFreqThreshold);return void 0===s?Promise.resolve(c):n.indexedCramFile.getRecordsForRange(s,e,r).then((function(t){var n=!0,i=!1,o=void 0;try{for(var u,l=t[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var f=u.value,p=f.sequenceId,d=f.alignmentStart,g=d+f.lengthOnRef;if(!(p<0)){if(p>s||d>r)return;if(!(p<s||g<e)){var v=h(f,a.chrNames);c.push(v)}}}}catch(t){i=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}return c.finish(),c})).catch((function(t){var e=t.message;throw e&&e.indexOf("MD5")>=0&&(e="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),i.presentAlert(e),t}));function h(t,e){var r=new rw;if(r.chr=e[t.sequenceId],r.start=t.alignmentStart-1,r.lengthOnRef=t.lengthOnRef,r.flags=t.flags,r.strand=!(16&t.flags),r.fragmentLength=t.templateLength||t.templateSize,r.mq=t.mappingQuality,r.end=t.alignmentStart+t.lengthOnRef,r.readGroupId=t.readGroupId,t.mate&&void 0!==t.mate.sequenceId){var n=void 0!==t.mate.flags?!(1&t.mate.flags):!(32&t.flags);r.mate={chr:e[t.mate.sequenceId],position:t.mate.alignmentStart,strand:n}}return r.seq=t.getReadBases(),r.qual=t.qualityScores,r.tagDict=t.tags,r.readName=t.readName,function(t,e){var r,n,i=[],a=0,o="";if(e.scStart=e.start,e.scLengthOnRef=e.lengthOnRef,t.readFeatures){var s=!0,c=!1,h=void 0;try{for(var u,l=t.readFeatures[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value,p=f.code,d=f.data,g=f.pos-1,v=f.refPos-1;switch(p){case"S":case"I":case"i":case"N":case"D":if(g>a){var m=g-a;i.push(new sw({start:v-m,seqOffset:a,len:m,type:"M"})),a+=m,o+=m+"M"}if("S"===p){var y=v;e.scLengthOnRef+=d.length,0===g&&(e.scStart-=d.length,y-=d.length);var b=d.length;i.push(new sw({start:y,seqOffset:a,len:b,type:"S"})),a+=b,o+=b+p}else if("I"===p||"i"===p){void 0===r&&(r=[]);var w="i"===p?1:d.length;r.push(new sw({start:v-1,len:w,seqOffset:a,type:"I"})),a+=w,o+=w+p}else"D"!==p&&"N"!==p||(n||(n=[]),n.push({start:v,len:d,type:p}),o+=d+p);break;case"H":case"P":o+=d+p}}}catch(t){c=!0,h=t}finally{try{s||null==l.return||l.return()}finally{if(c)throw h}}}var x=t.readLength-a;x>0&&(i.push(new sw({start:t.alignmentStart+t.lengthOnRef-x-1,seqOffset:a,len:x,type:"M"})),o+=x+"M");e.blocks=i,e.insertions=r,e.gaps=n,e.cigar=o}(t,r),r.mate&&r.start>r.mate.position&&r.fragmentLength>0&&(r.fragmentLength=-r.fragmentLength),fw.setPairOrientation(r),r}}))};var Yw=function(){function t(e,r){var n=this;qr(this,t),this.position=0,this.url=e,this.config=r,this.cache=new Kw({fetch:function(t,e){return n._fetch(t,e)}})}var e,r,n,i;return Gr(t,[{key:"_fetch",value:(i=jr(regeneratorRuntime.mark((function t(e,r){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={start:e,size:r},this._stat={size:void 0},t.next=4,lv.loadArrayBuffer(this.url,Mg(this.config,{range:n}));case 4:return i=t.sent,t.abrupt("return",Buffer.from(i));case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"read",value:(n=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:0,n=a.length>2&&void 0!==a[2]?a[2]:1/0,null===(i=a.length>3&&void 0!==a[3]?a[3]:0)&&(this.position,this.position+=n),t.abrupt("return",this.cache.get(e,r,n,i));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"readFile",value:(r=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lv.loadArrayBuffer(this.url,Mg(this.config));case 2:return e=t.sent,t.abrupt("return",Buffer.from(e));case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"stat",value:(e=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._stat){t.next=6;break}return e=Buffer.allocUnsafe(10),t.next=4,this.read(e,0,10,0);case 4:if(this._stat){t.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return t.abrupt("return",this._stat);case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),Kw=function(){function t(e){var r=e.fetch,n=e.size,i=void 0===n?1e7:n,a=e.chunkSize,o=void 0===a?32768:a;qr(this,t),this.fetch=r,this.chunkSize=o,this.lruCache=new Qw({maxSize:Math.floor(i/o)})}var e;return Gr(t,[{key:"get",value:(e=jr(regeneratorRuntime.mark((function t(e,r,n,i){var a,o,s,c,h,u,l,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<r+n)){t.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(a=Math.floor(i/this.chunkSize),o=Math.floor((i+n)/this.chunkSize),s=new Array(o-a+1),c=function(t){s[t-a]=f._getChunk(t).then((function(e){return{data:e,chunkNumber:t}}))},h=a;h<=o;h+=1)c(h);return t.next=9,Promise.all(s);case 9:u=t.sent,l=i-u[0].chunkNumber*this.chunkSize,u.forEach((function(t){var s=t.data,c=t.chunkNumber,h=c*f.chunkSize,u=0,p=f.chunkSize,d=r+(c-a)*f.chunkSize-l;c===a&&(d=r,u=l),c===o&&(p=i+n-h),s.copy(e,d,u,p)}));case 12:case"end":return t.stop()}}),t,this)}))),function(t,r,n,i){return e.apply(this,arguments)})},{key:"_getChunk",value:function(t){var e=this.lruCache.get(t);if(e)return e;var r=this.fetch(t*this.chunkSize,this.chunkSize);return this.lruCache.set(t,r),r}}]),t}(),Qw=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(qr(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Gr(t,[{key:"_set",value:function(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){var e=this.oldCache.get(t);return this._set(t,e),e}}},{key:"set",value:function(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}},{key:"has",value:function(t){return this.cache.has(t)||this.oldCache.has(t)}},{key:"peek",value:function(t){return this.cache.has(t)?this.cache.get(t):this.oldCache.has(t)?this.oldCache.get(t):void 0}},{key:"delete",value:function(t){var e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,r=!1,n=void 0,t.prev=3,i=this[Symbol.iterator]();case 5:if(e=(a=i.next()).done){t.next=12;break}return o=tn(a.value,1),s=o[0],t.next=9,s;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==i.return||i.return();case 21:if(t.prev=21,!r){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25]])}))},{key:"values",value:regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,r=!1,n=void 0,t.prev=3,i=this[Symbol.iterator]();case 5:if(e=(a=i.next()).done){t.next=12;break}return o=tn(a.value,2),s=o[1],t.next=9,s;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==i.return||i.return();case 21:if(t.prev=21,!r){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25]])}))},{key:Symbol.iterator,value:regeneratorRuntime.mark((function t(){var e,r,n,i,a,o,s,c,h,u,l,f,p,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,r=!1,n=void 0,t.prev=3,i=this.cache[Symbol.iterator]();case 5:if(e=(a=i.next()).done){t.next=12;break}return o=a.value,t.next=9,o;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==i.return||i.return();case 21:if(t.prev=21,!r){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:s=!0,c=!1,h=void 0,t.prev=29,u=this.oldCache[Symbol.iterator]();case 31:if(s=(l=u.next()).done){t.next=40;break}if(f=l.value,p=tn(f,1),d=p[0],this.cache.has(d)){t.next=37;break}return t.next=37,f;case 37:s=!0,t.next=31;break;case 40:t.next=46;break;case 42:t.prev=42,t.t1=t.catch(29),c=!0,h=t.t1;case 46:t.prev=46,t.prev=47,s||null==u.return||u.return();case 49:if(t.prev=49,!c){t.next=52;break}throw h;case 52:return t.finish(49);case 53:return t.finish(46);case 54:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25],[29,42,46,54],[47,,49,53]])}))},{key:"size",get:function(){var t=0,e=!0,r=!1,n=void 0;try{for(var i,a=this.oldCache.keys()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;this.cache.has(o)||t++}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return this._size+t}}]),t}(),Jw={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"},tx=function(t,e){this.config=t,this.genome=e,this.url=t.url,this.filter=new cw(t.filter),this.readGroupSetIds=t.readGroupSetIds,this.authKey=t.authKey,this.samplingWindowSize=void 0===t.samplingWindowSize?100:t.samplingWindowSize,this.samplingDepth=void 0===t.samplingDepth?1e3:t.samplingDepth,t.viewAsPairs?this.pairsSupported=!0:this.pairsSupported=void 0===t.pairsSupported||t.pairsSupported};tx.prototype.readAlignments=function(t,e,r){var n=this.genome,i=this;return(i.chrAliasTable?Promise.resolve(i.chrAliasTable):i.readMetadata().then((function(t){if(i.chrAliasTable={},n&&t.readGroups&&t.readGroups.length>0){var e=t.readGroups[0].referenceSetId;return e?Gy({url:i.url+"/references/search",body:{referenceSetId:e},decode:function(t){return t.references}}).then((function(t){return t.forEach((function(t){var e=t.name,r=n.getChromosomeName(e);i.chrAliasTable[r]=e})),i.chrAliasTable})):(function(t,e){var r;if("461916304629"===e||"337315832689"===e){for(r=1;r<23;r++)t["chr"+r]=r;t.chrX="X",t.chrY="Y",t.chrM="MT"}}(i.chrAliasTable,i.config.datasetId),i.chrAliasTable)}return i.chrAliasTable}))).then((function(n){var o=n.hasOwnProperty(t)?n[t]:t;return Gy({url:i.url+"/reads/search",body:{readGroupSetIds:[i.readGroupSetIds],referenceName:o,start:e,end:r,pageSize:"10000"},decode:a,results:new Xb(t,e,r,i.samplingWindowSize,i.samplingDepth,i.pairsSupported,i.alleleFreqThreshold)})}));function a(t){var e,r,a,o,s,c=t.alignments,h=c.length,u=[];for(e=0;e<h;e++){var l=c[e];(r=new rw).readName=l.fragmentName,r.properPlacement=l.properPlacement,r.duplicateFragment=l.duplicateFragment,r.numberReads=l.numberReads,r.fragmentLength=l.fragmentLength,r.readNumber=l.readNumber,r.failedVendorQualityChecks=l.failedVendorQualityChecks,r.secondaryAlignment=l.secondaryAlignment,r.supplementaryAlignment=l.supplementaryAlignment,r.seq=l.alignedSequence,r.qual=l.alignedQuality,r.matePos=l.nextMatePosition,r.tagDict=l.info,r.flags=0,l.alignment?(r.mapped=!0,r.chr=l.alignment.position.referenceName,n&&(r.chr=n.getChromosomeName(r.chr)),r.start=parseInt(l.alignment.position.position),r.strand=!l.alignment.position.reverseStrand,r.mq=l.alignment.mappingQuality,r.cigar=f(l.alignment.cigar),a=p(l.alignment.cigar),r.lengthOnRef=a.lengthOnRef,s=d(r,a.array),r.blocks=s.blocks,r.insertions=s.insertions):r.mapped=!1,(o=l.nextMatePosition)&&(r.mate={chr:o.referenceFrame,position:parseInt(o.position),strand:!o.reverseStrand}),i.filter.pass(r)&&u.push(r)}return u;function f(t){var e="";return t.forEach((function(t){var r=Jw[t.operation],n=t.operationLength;e+=n+r})),e}function p(t){var e,r,n,i,a=0,o=[];for(i=0;i<t.length;i++)e=t[i],n=Jw[e.operation],r=parseInt(e.operationLength),"M"!==n&&"EQ"!==n&&"X"!==n&&"D"!==n&&"N"!==n&&"="!==n||(a+=r),o.push({len:r,ltr:n});return{lengthOnRef:a,array:o}}function d(t,e){for(var r,n,i,a=[],o=0,s=t.start,c=e.length,h=0;h<c;h++){var u=e[h];switch(u.ltr){case"H":case"P":break;case"S":o+=u.len,i="S";break;case"N":case"D":void 0===r&&(r=[]),r.push({start:s,len:u.len,type:u.ltr}),s+=u.len;break;case"I":void 0===n&&(n=[]),n.push(new sw({start:s,len:u.len,seqOffset:o})),o+=u.len;break;case"M":case"EQ":case"=":case"X":a.push(new sw({start:s,len:u.len,seqOffset:o,gapType:i})),o+=u.len,s+=u.len}}return{blocks:a,insertions:n,gaps:r}}}},tx.prototype.readMetadata=function(){return Vy({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};var ex=function(){this.alignments=[],this.score=void 0};ex.prototype.findAlignment=function(t){var e,r,n;for(n=0;n<this.alignments.length;n++)if(i(r=this.alignments[n],t)){r.paired?r.firstAlignment&&i(r.firstAlignment,t)?e=r.firstAlignment:r.secondAlignment&&i(r.secondAlignment,t)&&(e=r.secondAlignment):e=r;break}return e;function i(t,e){return e>=t.start&&e<t.start+t.lengthOnRef}},ex.prototype.updateScore=function(t,e){this.score=this.calculateScore(t,e)},ex.prototype.calculateScore=function(t,e){var r,n=Math.floor(t.position),i=t.sortOption,a=t.direction,o=this.findAlignment(n);if(void 0===o)return a?Number.MAX_VALUE:-Number.MAX_VALUE;switch(i){case"NUCLEOTIDE":var s=o.readBaseAt(n),c=o.readBaseQualityAt(n);return s?function(t,e,r,n){var i,a,o;(i=Math.floor(n)-r.start)<r.sequence.length&&(a=r.sequence.charAt(i));if(!a)return;if(void 0===t)return Number.MAX_VALUE;if("N"===t)return 2;if(a===t||"="===t)return 4-e/1e3;if("X"===t||a!==t)return(i=Math.floor(n)-r.coverageMap.bpStart)>0&&i<r.coverageMap.coverage.length?(o=r.coverageMap.coverage[i],-(o["pos"+t]+o["neg"+t]+e/1e3)):-(1+e/1e3);return 0}(s,c,e,n):a?Number.MAX_VALUE:-Number.MAX_VALUE;case"STRAND":return o.strand?1:-1;case"START":return o.start;case"TAG":var h=t.tag,u=o.tags()[h];return void 0!==u?ug(u)?dg(u):u:Number.MAX_VALUE;case"INSERT_SIZE":return-Math.abs(o.fragmentLength);case"MATE_CHR":return(r=o.mate)?r.chr===o.chr?Number.MAX_VALUE-1:dg(r.chr):Number.MAX_VALUE;case"MQ":return void 0===o.mq?Number.MAX_VALUE:-o.mq;default:return Number.MAX_VALUE}};var rx=function(t,e){var r=e.genome;if(this.config=t,this.genome=r,this.alignmentContainer=void 0,ug(t.url)&&t.url.startsWith("data:")){if("cram"===t.format)throw"CRAM data uris are not supported";this.config.indexed=!1}"ga4gh"===t.sourceType?this.bamReader=new tx(t,r):"pysam"===t.sourceType?this.bamReader=new Ew(t,r):"htsget"===t.sourceType?this.bamReader=new Tw(t,r):"shardedBam"===t.sourceType?this.bamReader=new Aw(t,r):"cram"===t.format?this.bamReader=new Zw(t,r,e):!1===this.config.indexed?this.bamReader=new mw(t,r):this.bamReader=new bw(t,r),this.viewAsPairs=t.viewAsPairs,this.showSoftClips=t.showSoftClips};function nx(t){var e=[],r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,c=!0,h=!1,u=void 0;try{for(var l,f=s.alignments[Symbol.iterator]();!(c=(l=f.next()).done);c=!0){var p=l.value;p instanceof Wb?(p.firstAlignment&&e.push(p.firstAlignment),p.secondAlignment&&e.push(p.secondAlignment)):e.push(p)}}catch(t){h=!0,u=t}finally{try{c||null==f.return||f.return()}finally{if(h)throw u}}}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e}function ix(t){return t.isPaired()&&t.isMateMapped()&&t.chr===t.mate.chr&&(t.isFirstOfPair()||t.isSecondOfPair())&&!(t.isSecondary()||t.isSupplementary())}function ax(t,e,r,n){if(t){if(0===t.length)return[];t.sort((function(t,e){return n?t.scStart-e.scStart:t.start-e.start}));var i=t[0],a=Math.max(e,n?i.scStart:i.start),o=a,s=[],c=!0,h=!1,u=void 0;try{for(var l,f=t[Symbol.iterator]();!(c=(l=f.next()).done);c=!0){var p=l.value,d=n?p.scStart:p.start,g=Math.max(0,d-a);void 0===s[g]&&(s[g]=[]),s[g].push(p)}}catch(t){h=!0,u=t}finally{try{c||null==f.return||f.return()}finally{if(h)throw u}}var v=0,m=0,y=[];try{for(;v<t.length;){for(var b=new ex;o<=r;){for(var w=void 0,x=void 0;!w&&o<=r;)void 0===s[x=o-a]?++o:w=s[x];if(!w)break;var k=w.pop();0===w.length&&(s[x]=void 0),b.alignments.push(k),o=n?k.scStart+k.scLengthOnRef+2:k.start+k.lengthOnRef+2,++v}if(b.alignments.length>0&&y.push(b),o=a,v===m)break;m=v}}catch(t){throw console.error(t),t}return y}}rx.prototype.setViewAsPairs=function(t){if(this.viewAsPairs!==t&&(this.viewAsPairs=t,this.alignmentContainer)){var e,r=this.alignmentContainer;e=t?function(t){var e={},r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,h=!0,u=!1,l=void 0;try{for(var f,p=c.alignments[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;if(ix(d)){var g=e[d.readName];g?(g.setSecondAlignment(d),e[d.readName]=void 0):(g=new Wb(d),e[d.readName]=g,r.push(g))}else r.push(d)}}catch(t){u=!0,l=t}finally{try{h||null==p.return||p.return()}finally{if(u)throw l}}}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(r.packedAlignmentRows):nx(r.packedAlignmentRows),r.packedAlignmentRows=ax(e,r.start,r.end)}},rx.prototype.setShowSoftClips=function(t){if(this.showSoftClips!==t&&(this.showSoftClips=t,this.alignmentContainer)){var e=function(t){var e=[],r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,c=!0,h=!1,u=void 0;try{for(var l,f=s.alignments[Symbol.iterator]();!(c=(l=f.next()).done);c=!0){var p=l.value;e.push(p)}}catch(t){h=!0,u=t}finally{try{c||null==f.return||f.return()}finally{if(h)throw u}}}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e}(this.alignmentContainer.packedAlignmentRows),r=this.alignmentContainer;r.packedAlignmentRows=ax(e,r.start,r.end,t)}},rx.prototype.getAlignments=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=this.genome,a=this.showSoftClips,!this.alignmentContainer||!this.alignmentContainer.contains(e,r,n)){t.next=7;break}return t.abrupt("return",this.alignmentContainer);case 7:return t.next=9,this.bamReader.readAlignments(e,r,n);case 9:if(o=t.sent,s=o.alignments,this.viewAsPairs||(s=nx([{alignments:s}])),c=s.length>0,o.packedAlignmentRows=ax(s,o.start,o.end,a),o.alignments=void 0,this.alignmentContainer=o,c){t.next=20;break}return t.abrupt("return",o);case 20:return t.next=22,i.sequence.getSequence(e,o.start,o.end);case 22:if(!(h=t.sent)){t.next=29;break}return o.coverageMap.refSeq=h,o.sequence=h,t.abrupt("return",o);case 29:console.error("No sequence for: "+e+":"+o.start+"-"+o.end);case 30:t.next=36;break;case 32:throw t.prev=32,t.t0=t.catch(0),console.error(t.t0),t.t0;case 36:case"end":return t.stop()}}),t,this,[[0,32]])})));return function(e,r,n){return t.apply(this,arguments)}}();var ox=Lg(hy,(function(t,e){if(this.type="alignment",void 0===t.height&&(t.height=300),hy.call(this,t,e),void 0===t.coverageTrackHeight&&(t.coverageTrackHeight=50),this.featureSource=new rx(t,e),this.coverageTrack=new cx(t,this),this.alignmentTrack=new hx(t,this),this.visibilityWindow=t.visibilityWindow||3e4,this.viewAsPairs=t.viewAsPairs,this.pairsSupported=void 0===t.pairsSupported,this.showSoftClips=t.showSoftClips,this.showAllBases=t.showAllBases,this.color=t.color||"rgb(185, 185, 185)",this.coverageColor=t.coverageColor||"rgb(150, 150, 150)",this.minFragmentLength=t.minFragmentLength,this.maxFragmentLength=t.maxFragmentLength,this.sortObjects={},t.sort){if(Array.isArray(t.sort)){var r=!0,n=!1,i=void 0;try{for(var a,o=t.sort[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;c(this.sortObjects,s)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}else c(this.sortObjects,t.sort);t.sort=void 0}function c(t,r){var n=function(t){var e=t.split(":"),r=e[1].split("-"),n={chr:e[0],start:Number.parseInt(r[0].replace(/,/g,""))-1};return r.length>1?n.end=Number.parseInt(r[1].replace(/,/g,"")):n.end=n.start+1,n}(r.locus);e&&e.genome&&(n.chr=e.genome.getChromosomeName(n.chr));var i=!0,a=!1,o=void 0;try{for(var s,c=e.genomicStateList[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value;if(h.chromosome.name===n.chr&&n.start>=h.start&&n.start<=h.end){t[h.id]={chr:n.chr,position:n.start,sortOption:r.option||"NUCLEOTIDE",direction:void 0===r.direction||"ASC"===r.direction,tag:r.tag?r.tag.toUpperCase():void 0};break}}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}}));function sx(t,e){var r,n;if(r=t<5?.1:Math.max(.1,Math.min(1,.1+.9*(t-5)/15)),(r=Math.round(10*r)/10)>=1)n=Nf[e];else{var i=Of[e];if(!i)return;n="rgba("+i[0]+","+i[1]+","+i[2]+","+r+")"}return n}ox.prototype.getFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n,i,a){var o,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this,t.next=3,this.featureSource.getAlignments(e,r,n);case 3:return(s=t.sent).alignments&&s.alignments.length>99&&(void 0===o.minFragmentLength&&(o.minFragmentLength=s.pairedEndStats.lowerFragmentLength),void 0===o.maxFragmentLength&&(o.maxFragmentLength=s.pairedEndStats.upperFragmentLength)),(c=o.sortObjects[a.genomicState.id])&&(c.chr===e&&c.position>=r&&c.position<=n?(o.alignmentTrack.sortAlignmentRows(c,s),o.trackView.repaintViews()):delete o.sortObjects[a.genomicState.id]),t.abrupt("return",s);case 8:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i,a){return t.apply(this,arguments)}}(),ox.filters={noop:function(){return function(t){return!1}},strand:function(t){return function(e){return e.strand===t}},mappingQuality:function(t,e){return function(r){return!!(t&&r.mq<t)||!!(e&&r.mq>e)}}},ox.prototype.computePixelHeight=function(t){return this.coverageTrack.computePixelHeight(t)+this.alignmentTrack.computePixelHeight(t)+15},ox.prototype.draw=function(t){nm.fillRect(t.context,0,t.pixelTop,t.pixelWidth,t.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),this.coverageTrack.height>0&&this.coverageTrack.draw(t),this.alignmentTrack.draw(t)},ox.prototype.paintAxis=function(t,e,r){this.browser.isMultiLocusMode()?t.clearRect(0,0,e,r):this.coverageTrack.paintAxis(t,e,this.coverageTrack.height)},ox.prototype.contextMenuItemList=function(t){return this.alignmentTrack.contextMenuItemList(t)},ox.prototype.popupData=function(t){return t.y>=this.coverageTrack.top&&t.y<this.coverageTrack.height?this.coverageTrack.popupData(t):this.alignmentTrack.popupData(t)},ox.prototype.menuItemList=function(){var t=this,e=[],r=Js('<div class="igv-track-menu-category igv-track-menu-border-top">');r.text("Color by"),e.push({name:void 0,object:r,click:void 0,init:void 0});var n=[{key:"strand",label:"read strand"}];t.alignmentTrack.hasPairs&&(n.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),n.push({key:"pairOrientation",label:"pair orientation"}),n.push({key:"fragmentLength",label:"insert size (TLEN)"}));var i="tag"+(t.alignmentTrack.colorByTag?" ("+t.alignmentTrack.colorByTag+")":"");return n.push({key:"tag",label:i}),n.forEach((function(r){var n=t.alignmentTrack.colorBy===r.key;e.push(function(e,r){var n=Tf(e.label,r);return{name:void 0,object:n,click:function(){if(e.key===t.alignmentTrack.colorBy)t.alignmentTrack.colorBy="none",t.config.colorBy="none",t.trackView.repaintViews();else if("tag"===e.key){var r={label:"Tag Name",input:t.alignmentTrack.colorByTag?t.alignmentTrack.colorByTag:"",click:function(){t.alignmentTrack.colorBy="tag",t.config.colorBy="tag";var e=t.browser.inputDialog.$input.val().trim();e!==t.alignmentTrack.colorByTag&&(t.alignmentTrack.colorByTag=e,t.config.colorByTag=e,t.alignmentTrack.tagColors=new Df("Set1"),Js("#color-by-tag").text(t.alignmentTrack.colorByTag)),t.trackView.repaintViews()}};t.browser.inputDialog.configure(r),t.browser.inputDialog.present(Js(t.trackView.trackDiv))}else t.alignmentTrack.colorBy=e.key,t.config.colorBy=e.key,t.trackView.repaintViews()},init:void 0}}(r,n))})),e.push({object:Js('<div class="igv-track-menu-border-top">')}),e.push({object:Tf("Show all bases",t.showAllBases),click:function(){t.showAllBases=!t.showAllBases,t.config.showAllBases=t.showAllBases,t.trackView.updateViews(!0)}}),e.push({object:Js('<div class="igv-track-menu-border-top">')}),t.pairsSupported&&t.alignmentTrack.hasPairs&&e.push({object:Tf("View as pairs",t.viewAsPairs),click:function(){t.viewAsPairs=!t.viewAsPairs,t.config.viewAsPairs=t.viewAsPairs,t.featureSource.setViewAsPairs(t.viewAsPairs),t.trackView.updateViews(!0)}}),e.push({object:Tf("Show soft clips",t.showSoftClips),click:function(){t.showSoftClips=!t.showSoftClips,t.config.showSoftClips=t.showSoftClips,t.featureSource.setShowSoftClips(t.showSoftClips),t.trackView.updateViews(!0)}}),e},ox.prototype.dispose=function(){this.trackView=void 0},ox.prototype.getState=function(){var t=Object.assign({},this.config);t.sort=void 0;var e=!0,r=!1,n=void 0;try{for(var i,a=this.browser.genomicStateList[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value,s=this.sortObjects[o.id];s&&(t.sort=t.sort||[],t.sort.push({locus:s.chr+":"+(s.position+1),option:s.sortOption,direction:s.direction?"ASC":"DESC",tag:s.tag}))}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return t};var cx=function(t,e){this.parent=e,this.featureSource=e.featureSource,this.top=0,this.height=t.coverageTrackHeight,this.dataRange={min:0},this.paintAxis=Ub};cx.prototype.computePixelHeight=function(t){return this.height},cx.prototype.draw=function(t){var e=t.context;this.top&&e.translate(0,top);t.top,t.pixelHeight;var r,n=t.features.coverageMap;this.dataRange.max=n.maximum,n.refSeq&&(r=n.refSeq.toUpperCase());var i=t.bpPerPixel,a=t.bpStart,o=a+t.pixelWidth*i+1,s=this.parent.coverageColor;"rgb(185, 185, 185)"!==this.parent.color&&(s=gg.darkenLighten(this.parent.color,-35)),nm.setProperties(e,{fillStyle:s,strokeStyle:s});for(var c=Math.max(1,Math.ceil(1/i)),h=0,u=n.coverage.length;h<u;h++){var l=n.bpStart+h;if(!(l<a)){if(l>o)break;var f=n.coverage[h];if(f){var p=Math.round(f.total/this.dataRange.max*this.height),d=this.height-p,g=Math.floor((l-a)/i);nm.fillRect(e,g,d,c,p)}}}if(r)for(var v=0,m=n.coverage.length;v<m;v++){var y=n.bpStart+v;if(!(y<a)){if(y>o)break;var b=n.coverage[v];if(b){var w=b.total/this.dataRange.max*this.height,x=this.height-w,k=Math.floor((y-a)/i),S=r[v];if(b.isMismatch(S)){nm.setProperties(e,{fillStyle:Nf[S]}),nm.fillRect(e,k,x,c,w);for(var _=0,C=0,A=["A","C","T","G"];C<A.length;C++){var E=A[C],R=(b["pos"+E]+b["neg"+E])/this.dataRange.max*this.height;x=this.height-R-_,_+=R,nm.setProperties(e,{fillStyle:Nf[E]}),nm.fillRect(e,k,x,c,R)}}}}}},cx.prototype.popupData=function(t){var e=t.viewport.getCachedFeatures();if(e&&0!==e.length){var r=Math.floor(t.genomicLocation),n=t.viewport.genomicState.referenceFrame,i=e.coverageMap,a=[],o=Math.floor(r-i.bpStart),s=i.coverage[o];if(s){a.push(n.chrName+":"+lg(1+r)),a.push({name:"Total Count",value:s.total});var c=s.posA+s.negA;c>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posA+"+, "+s.negA+"- )"),a.push({name:"A",value:c}),(c=s.posC+s.negC)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posC+"+, "+s.negC+"- )"),a.push({name:"C",value:c}),(c=s.posG+s.negG)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posG+"+, "+s.negG+"- )"),a.push({name:"G",value:c}),(c=s.posT+s.negT)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posT+"+, "+s.negT+"- )"),a.push({name:"T",value:c}),(c=s.posN+s.negN)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posN+"+, "+s.negN+"- )"),a.push({name:"N",value:c}),a.push("<HR/>"),a.push({name:"DEL",value:s.del.toString()}),a.push({name:"INS",value:s.ins.toString()})}return a}};var hx=function(t,e){this.parent=e,this.browser=e.browser,this.featureSource=e.featureSource,this.top=0===t.coverageTrackHeight?0:t.coverageTrackHeight+5,this.alignmentRowHeight=t.alignmentRowHeight||14,this.negStrandColor=t.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=t.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=t.insertionColor||"rgb(138, 94, 161)",this.deletionColor=t.deletionColor||"black",this.skippedColor=t.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=t.pairConnectorColor,this.smallFragmentLengthColor=t.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeFragmentLengthColor=t.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=t.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=t.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=t.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=t.llColor||"rgb(0, 150, 150)",this.colorBy=t.colorBy||"pairOrientation",this.colorByTag=t.colorByTag?t.colorByTag.toUpperCase():void 0,this.bamColorTag=void 0===t.bamColorTag?"YC":t.bamColorTag,this.hideSmallIndels=t.hideSmallIndels,this.indelSizeThreshold=t.indelSizeThreshold||1,this.hasPairs=!1};hx.prototype.computePixelHeight=function(t){if(t.packedAlignmentRows){var e=0;return t.hasDownsampledIntervals()&&(e+=10),e+this.alignmentRowHeight*t.packedAlignmentRows.length+5}return this.height},hx.prototype.draw=function(t){var e=t.features,r=t.context,n=t.bpPerPixel,i=t.bpStart,a=t.pixelWidth,o=i+a*n+1,s=e.packedAlignmentRows,c=this.parent.showSoftClips,h=this.parent.showAllBases,u=(t.top,t.pixelHeight,e.sequence);u&&(u=u.toUpperCase());var l=0;if(r.save(),this.top&&r.translate(0,this.top),e.hasDownsampledIntervals()?(l=10,e.downsampledIntervals.forEach((function(t){var e=(t.start-i)/n,a=(t.end-i)/n;a-e>5&&(e+=1,a-=1),nm.fillRect(r,e,2,a-e,3,{fillStyle:"black"})}))):l=0,this.alignmentsYOffset=l,s)for(var f=s.length,p=0;p<f;p++){var d=s[p],g=l+this.alignmentRowHeight*p,v=this.alignmentRowHeight<=4?this.alignmentRowHeight:this.alignmentRowHeight-2,m=!0,y=!1,b=void 0;try{for(var w,x=d.alignments[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var k=w.value;if(this.hasPairs=this.hasPairs||k.isPaired(),!(k.start+k.lengthOnRef<i)){if(k.start>o)break;!0!==k.hidden&&(k instanceof Wb?(S.call(this,k,g,v),_.call(this,k.firstAlignment,g,v),k.secondAlignment&&_.call(this,k.secondAlignment,g,v)):_.call(this,k,g,v))}}}catch(t){y=!0,b=t}finally{try{m||null==x.return||x.return()}finally{if(y)throw b}}}function S(t,e,a){var s=this.getConnectorColor(t.firstAlignment),c=(t.connectingStart-i)/n,h=(t.connectingEnd-i)/n,u=e+a/2;t.connectingEnd<i||t.connectingStart>o||(t.mq<=0&&(s=gg.addAlpha(s,.15)),nm.setProperties(r,{fillStyle:s,strokeStyle:s}),nm.strokeLine(r,c,u,h,u))}function _(t,a,s){if(!(t.start+t.lengthOnRef<i||t.start>o)){var l=c?t.blocks:t.blocks.filter((function(t){return"S"!==t.type})),f=this.getAlignmentColor(t),p=f;t.mq<=0&&(f=gg.addAlpha(f,.15)),nm.setProperties(r,{fillStyle:f,strokeStyle:p});for(var d=0;d<l.length;d++){var g=l[d];if(!(d!==l.length-1&&l[d+1].start<i)&&(O.call(this,g,d),g.start+g.len>o))break}if(t.insertions){var v=-1,m=!0,y=!1,b=void 0;try{for(var w,x=t.insertions[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var k=w.value;if(!(this.hideSmallIndels&&k.len<=this.indelSizeThreshold)&&!(k.start<i)){if(k.start>o)break;var S=(k.start-i)/n-1;if(S-v>2){nm.fillRect(r,S,a-1,3,s+2,{fillStyle:this.insertionColor}),v=S}}}}catch(t){y=!0,b=t}finally{try{m||null==x.return||x.return()}finally{if(y)throw b}}}if(t.gaps){var _=a+s/2,C=!0,A=!1,E=void 0;try{for(var R,T=t.gaps[Symbol.iterator]();!(C=(R=T.next()).done);C=!0){var L=R.value,I=(L.start-i)/n,M=(L.start+L.len-i)/n,P="D"===L.type?this.deletionColor:this.skippedColor;nm.strokeLine(r,I,_,M,_,{strokeStyle:P})}}catch(t){A=!0,E=t}finally{try{C||null==T.return||T.return()}finally{if(A)throw E}}}}function O(o,c){var d=o.start-e.start,g=(o.start-i)/n,v=(o.start+o.len-i)/n,m=Math.max(1,v-g),y=this.alignmentRowHeight/2,b="S"===o.type,w=t.mq<=0||this.highlightedAlignmentReadNamed===t.readName||b,x=p;this.highlightedAlignmentReadNamed===t.readName?x="red":b&&(x="rgb(50,50,50)");var k,S,_=!0===t.strand&&c===l.length-1,C=!1===t.strand&&0===c;_|C?(_?(k=[g,v,v+y,v,g,g],S=[a,a,a+s/2,a+s,a+s,a]):C&&(k=[v,g,g-y,g,v,v],S=[a,a,a+s/2,a+s,a+s,a]),nm.fillPolygon(r,k,S,{fillStyle:f}),w&&nm.strokePolygon(r,k,S,{strokeStyle:x})):(nm.fillRect(r,g,a,m,s,{fillStyle:f}),w&&(r.save(),r.strokeStyle=x,r.strokeRect(g,a,m,s),r.restore()));if(b||h||u&&t.seq&&"*"!==t.seq)for(var A=t.seq?t.seq.toUpperCase():void 0,E=t.qual,R=o.seqOffset,T=0,L=o.len;T<L;T++)if(!(d+T<0)){var I=A?A.charAt(R+T):"",M=u.charAt(d+T);if("="===I&&(I=M),"X"===I||M!==I||b||h){var P=void 0;if(!b&&void 0!==E&&E.length>R+T)P=sx(E[R+T],I,o.start);else P=Nf[I];if(P){var O=(o.start+T-i)/n,F=Math.max(1,1/n);N(r,n,{x:O,y:a,width:F,height:s},P,I)}}}}function N(t,e,r,n,i){var a;if(.1,e<=.1&&r.height>=8){var o=Math.min(10,r.height);t.font=o+"px sans-serif",a=r.x+r.width/2,nm.strokeText(t,i,a-t.measureText(i).width/2,o-1+r.y,{strokeStyle:n})}else nm.fillRect(t,r.x,r.y,r.width,r.height,{fillStyle:n})}}r.restore()},hx.prototype.sortAlignmentRows=function(t,e){var r=t.direction;null===e&&(e=this.featureSource.alignmentContainer);var n=!0,i=!1,a=void 0;try{for(var o,s=e.packedAlignmentRows[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.updateScore(t,e)}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}e.packedAlignmentRows.sort((function(t,e){var n=t.score>e.score?1:t.score<e.score?-1:0;return!0===r?n:-n}))},hx.prototype.popupData=function(t){var e=this.getClickedObject(t.viewport,t.y,t.genomicLocation);return e?e.popupData(t.genomicLocation):void 0},hx.prototype.contextMenuItemList=function(t){var e=this,r=t.viewport,n=t.viewport.genomicState,i=this.getClickedObject(t.viewport,t.y,t.genomicLocation),a=i&&!i.paired&&"function"==typeof i.isPaired,o=[];return o.push("<b>Sort by...</b>"),o.push({label:"&nbsp; base",click:function(){return s("NUCLEOTIDE")}}),o.push({label:"&nbsp; read strand",click:function(){return s("STRAND")}}),o.push({label:"&nbsp; insert size",click:function(){return s("INSERT_SIZE")}}),o.push({label:"&nbsp; chromosome of mate",click:function(){return s("MATE_CHR")}}),o.push({label:"&nbsp; mapping quality",click:function(){return s("MQ")}}),o.push({label:"&nbsp; tag",click:function(){var r={label:"Tag Name",input:e.sortByTag?e.sortByTag:"",click:function(){var r=e.browser.inputDialog.$input.val().trim();e.sortByTag=r,c({chr:n.referenceFrame.chrName,position:Math.floor(t.genomicLocation),sortOption:"TAG",tag:r})}};e.browser.inputDialog.configure(r),e.browser.inputDialog.present(Js(e.parent.trackView.trackDiv))}}),o.push("<hr/>"),a&&i.isMateMapped()&&o.push({label:"View mate in split screen",click:function(){i.mate&&(e.highlightedAlignmentReadNamed=i.readName,e.browser.presentSplitScreenMultiLocusPanel(i,t.viewport.genomicState))},init:void 0}),o.push({label:"View read sequence",click:function(){var t=i;if(!t)return;var r=t.seq;r&&"*"!==r?e.browser.presentAlert(r):e.browser.presentAlert("Read sequence: *")}}),o.push("<hr/>"),o;function s(e){c({chr:n.referenceFrame.chrName,position:Math.floor(t.genomicLocation),sortOption:e})}function c(n){if(t.viewport.tile){var i=e.parent.sortObjects,a=i[r.genomicState.id];n.direction=!a||!a.direction,e.sortAlignmentRows(n,t.viewport.getCachedFeatures()),e.parent.trackView.repaintViews(),i[r.genomicState.id]=n}}},hx.prototype.getClickedObject=function(t,e,r){var n=this.parent.showSoftClips,i=t.getCachedFeatures();if(i&&0!==i.length){var a=i.packedAlignmentRows,o=i.downsampledIntervals,s=Math.floor((e-this.top-this.alignmentsYOffset)/this.alignmentRowHeight);if(s<0){for(var c=0;c<o.length;c++)if(o[c].start<=r&&o[c].end>=r)return o[c]}else if(s<a.length){var h=a[s].alignments.filter((function(t){var e=n?t.scStart:t.start,i=n?t.scLengthOnRef:t.lengthOnRef;return r>=e&&r<=e+i}));if(h.length>0)return h[0]}}},hx.prototype.getConnectorColor=function(t){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color||"rgb(200, 200, 200)";default:return this.getAlignmentColor(t)}},hx.prototype.getAlignmentColor=function(t){var e,r=this.parent.color;switch(this.colorBy){case"strand":r=t.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":t instanceof Wb?r=t.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:t.isPaired()&&(t.isFirstOfPair()?r=t.strand?this.posStrandColor:this.negStrandColor:t.isSecondOfPair()?r=t.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"pairOrientation":if(t.mate&&t.isMateMapped()&&t.mate.chr!==t.chr)r=lx(t.mate.chr);else if(this.pairOrientation&&t.pairOrientation){var n=ux[this.pairOrientation];if(n){var i=this.pairColors[n[t.pairOrientation]];i&&(r=i)}}break;case"fragmentLength":t.mate&&t.isMateMapped()&&t.mate.chr!==t.chr?r=lx(t.mate.chr):this.parent.minFragmentLength&&Math.abs(t.fragmentLength)<this.parent.minFragmentLength?r=this.smallFragmentLengthColor:this.parent.maxFragmentLength&&Math.abs(t.fragmentLength)>this.parent.maxFragmentLength&&(r=this.largeFragmentLengthColor);break;case"tag":void 0!==(e=t.tags()[this.colorByTag])&&(this.bamColorTag===this.colorByTag?r="rgb("+e+")":(this.tagColors||(this.tagColors=new Df("Set1")),r=this.tagColors.getColor(e)));break;default:r=this.parent.color}return r};var ux={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function lx(t){if(fx[t])return fx[t];if(fx["chr"+t]){var e=fx["chr"+t];return fx[t]=e,e}var r=gg.randomRGB();return fx[t]=r,r}var fx={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"},px=Lg(hy,(function(t,e){hy.call(this,t,e),this.theta=t.theta||Math.PI/4,this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.height=t.height||250,this.autoHeight=!0,this.arcOrientation=void 0===t.arcOrientation||t.arcOrientation,this.thickness=t.thickness||2,this.color=t.color||"rgb(180,25,137)",this.visibilityWindow=-1,this.colorAlphaCache={}}));function dx(t,e){var r=this.colorAlphaCache[t];return r||(r=gg.addAlpha(t,e),this.colorAlphaCache[t]=r),r}px.prototype.getState=function(){var t=this.config||{};return t.arcOrientation=this.arcOrientation,t.thickness=this.thickness,t.color=this.color,t},px.prototype.getFeatures=function(t,e,r){var n=this,i=this.browser.genome;if(n.featureCache)return Promise.resolve(n.featureCache.queryFeatures(t,e,r));var a=Mg(n.config);return lv.loadString(n.config.url,a).then((function(a){var o=new Nm("bedpe"),s=(o.parseHeader(a),o.parseFeatures(a));return n.featureCache=new Ty(s,i),n.featureCache.queryFeatures(t,e,r)}))},px.prototype.draw=function(t){var e=this,r=t.context,n=t.pixelWidth,i=t.pixelHeight,a=t.viewportWidth,o=t.bpPerPixel,s=t.bpStart,c=o;nm.fillRect(r,0,t.pixelTop,n,i,{fillStyle:"rgb(255, 255, 255)"});var h=t.features;h&&(!function(){var t=0;h.forEach((function(e){var r=(e.start-s)/c,i=(e.end-s)/c;i>=0&&r<=n&&(t=Math.max(t,i-r))}));var r=Math.min(a,t)/2;if(t>0){var o=i/r;e.theta=function(t){var e,r=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],n=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(e=0;e<r.length&&!(r[e]>t);e++);var i=0===e?0:r[e-1],a=(t-i)/((e<r.length?r[e]:1)-i),o=0===e?0:n[e-1],s=e<n.length?n[e]:Math.PI/2;return o+a*(s-o)}(o),e.sinTheta=Math.sin(e.theta),e.cosTheta=Math.cos(e.theta)}}(),h.forEach((function(t){var n=Math.round((t.m1-s)/c),i=Math.round((t.m2-s)/c),o=e.arcOrientation,h=i-n;h<3&&(h=3,n--);var u,l,f,p=h/2,d=p/e.sinTheta,g=e.cosTheta*d,v=n+p;o?(u=e.height+g,l=Math.PI+Math.PI/2-e.theta,f=Math.PI+Math.PI/2+e.theta):(u=-g,l=Math.PI/2-e.theta,f=Math.PI/2+e.theta);var m=t.color||e.color;m&&h>a&&(m=dx.call(e,m,"0.1")),r.strokeStyle=m,r.lineWidth=t.thickness||e.thicknewss||1,r.beginPath(),r.arc(v,u,d,l,f,!1),r.stroke()})))},px.prototype.menuItemList=function(){var t=this;return[{name:"Toggle arc direction",click:function(){t.arcOrientation=!t.arcOrientation,t.trackView.repaintViews()}},{name:"Set track color",click:function(){t.trackView.presentColorPicker()}}]};var gx=Lg(hy,(function(t,e){this.type="variant",this.visibilityWindow=t.visibilityWindow,hy.call(this,t,e),this.displayMode=t.displayMode||"EXPANDED",this.labelDisplayMode=t.labelDisplayMode,this.variantHeight=t.variantHeight||10,this.squishedCallHeight=t.squishedCallHeight||1,this.expandedCallHeight=t.expandedCallHeight||10,this.expandedVGap=void 0!==t.expandedVGap?t.expandedVGap:2,this.squishedVGap=void 0!==t.squishedVGap?t.squishedVGap:1,this.expandedGroupGap=t.expandedGroupGap||10,this.squishedGroupGap=t.squishedGroupGap||5,this.featureHeight=t.featureHeight||14,this.visibilityWindow=t.visibilityWindow,this.featureSource=new Ky(t,e.genome),this.noCallColor=t.noCallColor||"rgb(245, 245, 245)",this.nonRefColor=t.nonRefColor||"rgb(200, 200, 215)",this.mixedColor=t.mixedColor||"rgb(200, 220, 200)",this.homrefColor=t.homrefColor||"rgb(200, 200, 200)",this.homvarColor=t.homvarColor||"rgb(17,248,254)",this.hetvarColor=t.hetvarColor||"rgb(34,12,253)",this.sortDirection="ASC",this.nRows=1}));function vx(t,e,r,n){var i="",a=e.alternateBases.split(","),o=!0,s=!1,c=void 0;try{for(var h,u=t.genotype[Symbol.iterator]();!(o=(h=u.next()).done);o=!0){var l=h.value;if("."===l){i+="No Call";break}i+=0===l?e.referenceBases:a[l-1].replace("<","&lt;")}}catch(t){s=!0,c=t}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}var f=[];if(void 0!==t.callSetName&&f.push({name:"Name",value:t.callSetName}),f.push({name:"Genotype",value:i}),void 0!==t.phaseset&&f.push({name:"Phase set",value:t.phaseset}),void 0!==t.genotypeLikelihood&&f.push({name:"genotypeLikelihood",value:t.genotypeLikelihood.toString()}),n){var p=n.getAttributes(t.callSetName);p&&Object.keys(p).forEach((function(t){var e=t.replace(/([A-Z])/g," $1");e=e.charAt(0).toUpperCase()+e.slice(1),f.push({name:e,value:p[t]})}))}var d=Object.keys(t.info);d.length&&f.push("<hr>"),d.forEach((function(e){f.push({name:e,value:t.info[e]})}));var g=[];return g.length>0&&(f.push("<HR/>"),f=f.concat(g)),f}gx.prototype.postInit=jr(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getFileHeader();case 2:return t.sent,void 0===this.visibilityWindow&&(ug(e=this.config.url instanceof File?this.config.url.name:this.config.url)&&e.toLowerCase().includes("gnomad")?this.visibilityWindow=1e3:this.callSets?(r=this.callSets.length,this.visibilityWindow=Math.max(1e3,1e6-1e4*r)):this.visibilityWindow=1e6),t.abrupt("return",this);case 5:case"end":return t.stop()}}),t,this)}))),gx.prototype.getFileHeader=jr(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.header){t.next=4;break}return t.abrupt("return",this.header);case 4:if("function"!=typeof this.featureSource.getFileHeader){t.next=13;break}return t.next=7,this.featureSource.getFileHeader();case 7:return(e=t.sent)&&(e.name&&!this.config.name&&(this.name=e.name),e.color&&!this.config.color&&(this.color="rgb("+e.color+")"),this.callSets=e.callSets||[]),this.header=e,t.abrupt("return",e);case 13:return this.callSets=[],t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t,this)}))),gx.prototype.getCallsetsLength=function(){return this.callSets.length},gx.prototype.getFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.header){t.next=4;break}return t.next=3,this.getFileHeader();case 3:this.header=t.sent;case 4:return t.abrupt("return",this.featureSource.getFeatures(e,r,n,i,this.visibilityWindow));case 5:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i){return t.apply(this,arguments)}}(),gx.prototype.computePixelHeight=function(t){if("COLLAPSED"===this.displayMode)return this.nRows=1,10+this.variantHeight;var e=0;if(t){var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s.row&&s.row>e&&(e=s.row)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}var c="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;this.nRows=e+1;var h=10+this.nRows*(this.variantHeight+c);this.variantBandHeight=h;var u="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight;return h+c+(this.getCallsetsLength()*this.nRows+1)*(u+c)},gx.prototype.draw=function(t){var e=t.context,r=this.callSets,n=this.getCallsetsLength(),i=t.pixelWidth,a=t.pixelHeight,o="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight,s=t.bpPerPixel,c=t.bpStart,h=c+i*s+1;nm.fillRect(e,0,t.pixelTop,i,a,{fillStyle:"rgb(255, 255, 255)"});var u="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;r&&n>0&&"COLLAPSED"!==this.displayMode&&nm.strokeLine(e,0,this.variantBandHeight,i,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "});var l=t.features;if(l){var f=!0,p=!1,d=void 0;try{for(var g,v=l[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var m=g.value;if(!(m.end<c)){if(m.start>h)break;var y=10+("COLLAPSED"===this.displayMode?0:m.row*(this.variantHeight+u)),b=this.variantHeight,w=Math.round((m.start-c)/s),x=Math.round((m.end-c)/s),k=Math.max(1,x-w);if(k<3?(k=3,w-=1):k>5&&(w+=1,k-=2),"NONVARIANT"===m.type?e.fillStyle=this.nonRefColor:"MIXED"===m.type?e.fillStyle=this.mixedColor:e.fillStyle=this.color,e.fillRect(w,y,k,b),n>0&&m.calls&&"COLLAPSED"!==this.displayMode){var S=0,_=!0,C=!1,A=void 0;try{for(var E,R=r[Symbol.iterator]();!(_=(E=R.next()).done);_=!0){var T=E.value,L=m.calls[T.id];if(L){var I=this.variantBandHeight+u+(S+m.row)*(o+u),M=!0,P=!0,O=!1,N=!0,F=!1,D=void 0;try{for(var B,z=L.genotype[Symbol.iterator]();!(N=(B=z.next()).done);N=!0){var U=B.value;if("."===U){O=!0;break}0!==U&&(P=!1),0===U&&(M=!1)}}catch(t){F=!0,D=t}finally{try{N||null==z.return||z.return()}finally{if(F)throw D}}e.fillStyle=O?this.noCallColor:P?this.homrefColor:M?this.homvarColor:this.hetvarColor,e.fillRect(w,I,k,o)}S++}}catch(t){C=!0,A=t}finally{try{_||null==R.return||R.return()}finally{if(C)throw A}}}}}}catch(t){p=!0,d=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw d}}}},gx.prototype.popupData=function(t,e){e||(e=this.clickedFeatures(t));var r=t.genomicLocation,n=this.browser.genome.id,i=[],a=this.browser.sampleInformation,o=!0,s=!1,c=void 0;try{for(var h,u=e[Symbol.iterator]();!(o=(h=u.next()).done);o=!0){var l=h.value;if(i.length>0&&i.push("<HR>"),"COLLAPSED"===this.displayMode)Array.prototype.push.apply(i,l.popupData(r,this.type));else{var f=t.y,p="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;if(f<=this.variantBandHeight){var d=Math.floor((f-10)/(this.variantHeight+p));l.row===d&&Array.prototype.push.apply(i,l.popupData(r,n),this.type)}else{var g=this.callSets;if(g&&l.calls){var v=this.nRows*("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight),m=Math.floor((f-this.variantBandHeight)/(v+p));if(m>=0&&m<g.length){var y=g[m],b=l.calls[y.id];Array.prototype.push.apply(i,vx(b,l,n,a))}}}}}}catch(t){s=!0,c=t}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}return i},gx.prototype.menuItemList=function(){var t=this,e=[];return e.push({object:Js('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach((function(r){e.push({object:Tf({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[r],r===t.displayMode),click:function(){t.displayMode=r,t.trackView.checkContentHeight(),t.trackView.repaintViews()}})})),e};var mx=Sf.dataRangeMenuItem,yx=Lg(hy,(function(t,e){var r=t.url,n=t.name;this.config=t,this.url=r,this.name=n,this.pValueField=t.pValueField||"pValue",this.geneField=t.geneField||"geneSymbol",this.snpField=t.snpField||"snp";var i=t.minLogP||t.min,a=t.maxLogP||t.max;this.dataRange={min:i||3.5,max:a||25},this.autoscale=!a||t.autoscale,this.autoscalePercentile=void 0===t.autoscalePercentile?98:t.autoscalePercentile,this.background=t.background,this.divider=t.divider||"rgb(225,225,225)",this.dotSize=t.dotSize||2,this.height=t.height||100,this.autoHeight=!1,this.disableButtons=t.disableButtons,this.visibilityWindow=void 0===t.visibilityWindow?2e6:t.visibilityWindow>=0?Math.min(2e6,t.visibilityWindow):2e6,this.featureSource=new Ky(t,e.genome),gb.gtexLoaded=!0}));yx.prototype.paintAxis=function(t,e,r){var n=(this.dataRange.max-this.dataRange.min)/r,i={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};nm.fillRect(t,0,0,e,r,{fillStyle:"rgb(255, 255, 255)"});for(var a=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/r),o=4;o<=this.dataRange.max;o+=a){var s,c,h,u,l;s=(l=.85*e)-5,c=l,h=u=r-Math.round((o-this.dataRange.min)/n),nm.strokeLine(t,s,h,c,u,i),h>8&&nm.fillText(t,o,s-1,h+2,i)}i.textAlign="center",nm.fillText(t,"-log10(pvalue)",e/4,r/2,i,{rotate:{angle:-90}})},yx.prototype.getFeatures=function(t,e,r){var n=this.pValueField;return this.featureSource.getFeatures(t,e,r).then((function(t){return t.forEach((function(t){t.value=t[n]})),t}))},yx.prototype.draw=function(t){var e=this,r=t.features,n=t.context,i=t.bpPerPixel,a=t.bpStart,o=t.pixelWidth,s=t.pixelHeight,c=(e.dataRange.max-e.dataRange.min)/s,h=t.genomicState.selection;if(this.background&&nm.fillRect(n,0,0,o,s,{fillStyle:this.background}),nm.strokeLine(n,0,s-1,o,s-1,{strokeStyle:this.divider}),n){var u=r.length;n.save(),l(!1),l(!0),n.restore()}function l(t){var l,f,p,d,g,v,m,y,b,w=t?2*e.dotSize:e.dotSize;for(f=0;f<u;f++)if(l=r[f],!((p=Math.round(l.position-a+.5)/i)<0)){if(p>o)break;if(m=l.snp.toUpperCase(),y=l[e.geneField].toUpperCase(),v=h&&(h.snp===m||h.gene===y),!t||v){h&&h.snp===m&&h.addGene(y);var x=-Math.log(l[e.pValueField])/Math.LN10;x>=e.dataRange.min&&(x>e.dataRange.max?(x=e.dataRange.max,b=!0):b=!1,d=Math.max(0+w,s-Math.round((x-e.dataRange.min)/c)),l.px=p,l.py=d,t&&h?(g=h.colorForGene(y),nm.setProperties(n,{fillStyle:g,strokeStyle:"black"})):(g=b?"rgb(150, 150, 150)":"rgb(180, 180, 180)",nm.setProperties(n,{fillStyle:g,strokeStyle:g})),nm.fillCircle(n,p,d,w),nm.strokeCircle(n,p,d,w))}}}},yx.prototype.popupData=function(t){var e=t.viewport.getCachedFeatures();if(!e||0===e.length)return[];var r=t.genomicLocation,n=(t.x,t.y),i=t.viewport.genomicState.referenceFrame,a=2*this.dotSize*i.bpPerPixel,o=this.dotSize,s=this.name,c=[];return e.forEach((function(t){t.end>=r-a&&t.start<=r+a&&t.py-n<2*o&&(c.length>0&&c.push("<hr>"),c.push({name:"snp id",value:t.snp},{name:"gene id",value:t.geneId},{name:"gene name",value:t.geneName},{name:"p value",value:t.pValue},{name:"tissue",value:s}))})),c},yx.prototype.menuItemList=function(){var t=this,e=[];return e.push(mx(this.trackView)),e.push({object:Tf("Autoscale",t.autoscale),click:function(){t.autoscale=!t.autoscale,t.config.autoscale=t.autoscale,t.trackView.setDataRange(void 0,void 0,t.autoscale)}}),e},yx.prototype.doAutoscale=function(t){if(t.length>0){var e=t.map((function(t){return-Math.log(t.value)/Math.LN10}));this.dataRange.max=Hf(e,this.autoscalePercentile)}else{var r=this.config.maxLogP||this.config.max;this.dataRange.max=r||25}return this.dataRange};var bx=function(t){this.config=t,this.url=t.url,this.trait=t.trait,this.dataset=t.dataset,this.pvalue=t.pvalue,void 0===t.valueThreshold&&(t.valueThreshold=.05),void 0===t.dataset?(this.queryJson=t.queryJson||Sx,this.jsonToVariants=t.jsonToVariants||_x):(this.queryJson=t.queryJson||kx,this.jsonToVariants=t.jsonToVariants||xx)};bx.prototype.getFeatures=function(t,e,r){var n=this;this.genome;return new Promise((function(i,a){if(n.cache&&n.cache.chr===t&&n.cache.end>r&&n.cache.start<e)i(n.cache.featuresBetween(e,r));else{var o=Math.max(r-e,1e7)/2,s=(r+e)/2,c=t.startsWith("chr")?t.substring(3):t,h=Math.max(0,s-o),u=s+o,l=n.config.proxy?n.config.proxy:n.url,f=n.queryJson(c,h,u,n.config);lv.loadJson(l,{sendData:f,withCredentials:n.config.withCredentials}).then((function(e){var r;e?e.error_code?(hv.presentAlert("Error querying trait "+n.trait+"  (error_code="+e.error_code+")",void 0),i(null)):((r=n.jsonToVariants(e,n.config)).sort((function(t,e){return t.POS-e.POS})),n.cache=new wx(t,h,u,r),i(r)):i(null)})).catch(a)}}))};var wx=function(t,e,r,n){var i,a,o;for(this.chr=t,this.start=e,this.end=r,this.binSize=(r-e)/100,this.binIndeces=[0],this.features=n,o=0,i=0;i<n.length;i++)(a=Math.max(0,Math.floor((n[i].POS-this.start)/this.binSize)))>o&&(this.binIndeces.push(i),o=a)};function xx(t,e){var r=[];return t.variants.forEach((function(t){var n={};t.forEach((function(t){for(var e in t)t.hasOwnProperty(e)&&("POS"===e&&(n.start=t[e]-1),n[e]=t[e])})),n.pvalue=n[e.pvalue][e.dataset][e.trait],n[e.pvalue]=void 0,r.push(n)})),r}function kx(t,e,r,n){var i=n.trait,a=n.pvalue,o=n.dataset,s={passback:"x",entity:"variant",properties:{cproperty:["VAR_ID","DBSNP_ID","CHROM","POS"],orderBy:["CHROM"],dproperty:{},pproperty:JSON.parse('{"'+a+'": {"'+o+'": ["'+i+'"]}}')},filters:[{dataset_id:"x",phenotype:"x",operand:"CHROM",operator:"EQ",value:t,operand_type:"STRING"},{dataset_id:"x",phenotype:"x",operand:"POS",operator:"GTE",value:e,operand_type:"INTEGER"},{dataset_id:"x",phenotype:"x",operand:"POS",operator:"LTE",value:r,operand_type:"INTEGER"},{dataset_id:o,phenotype:i,operand:a,operator:"LT",value:n.valueThreshold,operand_type:"FLOAT"}]};return JSON.stringify(s)}function Sx(t,e,r,n){var i=n.url.includes("variant")?"VARIANT":"TRAIT",a=n.pvalue?n.pvalue:"PVALUE",o={user_group:"ui",filters:[{operand:"CHROM",operator:"EQ",value:t,filter_type:"STRING"},{operand:"POS",operator:"GT",value:e,filter_type:"FLOAT"},{operand:"POS",operator:"LT",value:r,filter_type:"FLOAT"},{operand:a,operator:"LTE",value:n.valueThreshold,filter_type:"FLOAT"}],columns:"TRAIT"===i?["CHROM","POS","DBSNP_ID","PVALUE","ZSCORE"]:["CHROM","POS",a,"DBSNP_ID"]};return"TRAIT"===i&&(o.trait=n.trait),n.proxy?"url="+n.url+"&data="+JSON.stringify(o):JSON.stringify(o)}function _x(t,e){return t.variants.forEach((function(t){t.chr=t.CHROM,t.start=t.POS-1})),t.variants}wx.prototype.featuresBetween=function(t,e){var r=Math.max(0,Math.min(Math.floor((t-this.start)/this.binSize)-1,this.binIndeces.length-1)),n=Math.max(0,Math.min(Math.floor((e-this.start)/this.binSize),this.binIndeces.length-1));this.binIndeces[r],this.binIndeces[n];return this.features};var Cx=Lg(hy,(function(t,e){this.config=t,this.url=t.url,this.name=t.name,this.trait=t.trait,this.height=t.height||100,this.minLogP=t.minLogP||0,this.maxLogP=t.maxLogP||15,this.background=t.background,this.divider=t.divider||"rgb(225,225,225)",this.dotSize=t.dotSize||4,this.popoverWindow=void 0===t.popoverWindow?1e8:t.popoverWindow,this.description=t.description,this.proxy=t.proxy,this.portalURL=t.portalURL?t.portalURL:window.location.origin,this.variantURL=t.variantURL||"http://www.type2diabetesgenetics.org/variant/variantInfo/",this.traitURL=t.traitURL||"http://www.type2diabetesgenetics.org/trait/traitInfo/";var r=t.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]};this.pvalue=t.pvalue?t.pvalue:"PVALUE",this.colorScale=new jb(r),t.format&&"gtexgwas"===t.format.toLowerCase()?this.featureSource=new Ky(t,e.genome):this.featureSource=new bx(t,e.genome)}));Cx.prototype.getFeatures=function(t,e,r){return this.featureSource.getFeatures(t,e,r)},Cx.prototype.draw=function(t){var e,r,n,i,a,o,s,c,h,u=t.features,l=t.context,f=t.bpPerPixel,p=t.bpStart,d=t.pixelWidth,g=t.pixelHeight,v=p+d*f+1,m=(this.maxLogP-this.minLogP)/g,y=v-p<1e8;if(this.po=y?[]:void 0,this.background&&nm.fillRect(l,0,0,d,g,{fillStyle:this.background}),nm.strokeLine(l,0,g-1,d,g-1,{strokeStyle:this.divider}),u){n=u.length;for(var b=0;b<n;b++)if(!((r=(e=u[b]).start)<p)){if(r>v)break;(c=e.pvalue||e[this.pvalue])&&(s=this.colorScale.getColor(c),h=-Math.log(c)/2.302585092994046,i=f,a=Math.round((r-p)/i),o=Math.max(this.dotSize,g-Math.round((h-this.minLogP)/m)),s&&nm.setProperties(l,{fillStyle:s,strokeStyle:"black"}),nm.fillCircle(l,a,o,this.dotSize),y&&this.po.push({x:a,y:o,feature:e}))}}},Cx.prototype.paintAxis=function(t,e,r){var n=(this.maxLogP-this.minLogP)/r,i={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};nm.fillRect(t,0,0,e,r,{fillStyle:"rgb(255, 255, 255)"});for(var a=2;a<this.maxLogP;a+=2){var o=r-Math.round((a-this.minLogP)/n);nm.strokeLine(t,45,o-2,50,o-2,i),nm.fillText(t,a,44,o+2,i)}i.textAlign="center",nm.fillText(t,"-log10(pvalue)",e/2,r/2,i,{rotate:{angle:-90}})},Cx.prototype.popupData=function(t){t.genomicLocation;var e,r,n,i,a,o,s,c,h=t.x,u=t.y,l=(t.viewport.genomicState.referenceFrame,[]);if(this.po)for(e=0,r=this.po.length;e<r;e++)n=this.po[e],Math.abs(h-n.x)<this.dotSize&&Math.abs(u-n.y)<=this.dotSize&&(o=n.feature.CHROM||n.feature.chr,s=n.feature.POS||n.feature.start,c=n.feature[this.pvalue]||n.feature.pvalue,(i=n.feature.DBSNP_ID)&&(a=this.variantURL.startsWith("http")?this.variantURL:this.portalURL+"/"+this.variantURL,l.push("<a target='_blank' href='"+a+(a.endsWith("/")?"":"/")+i+"' >"+i+"</a>")),l.push(o+":"+s.toString()),l.push({name:"p-value",value:c}),n.feature.ZSCORE&&l.push({name:"z-score",value:n.feature.ZSCORE}),i&&(a=this.traitURL.startsWith("http")?this.traitURL:this.portalURL+"/"+this.traitURL,l.push("<a target='_blank' href='"+a+(a.endsWith("/")?"":"/")+i+"'>see all available statistics for this variant</a>")),e<r-1&&l.push("<p/>"));else l.push("Popover not available at this resolution.");return l};var Ax=Sf.dataRangeMenuItem,Ex=Lg(hy,(function(t,e){hy.call(this,t,e),this.autoscale=t.autoscale||void 0===t.max,this.dataRange={min:t.min||0,max:t.max},this.windowFunction=t.windowFunction||"mean",this.paintAxis=Ub,this.graphType=t.graphType||"bar",this.featureSource=new Ky(this.config,e.genome)}));Ex.prototype.postInit=jr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.featureSource.getFileHeader();case 2:this.header=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),Ex.prototype.menuItemList=function(){var t=this,e=[];return e.push(Ax(this.trackView)),e.push({object:Tf("Autoscale",t.autoscale),click:function(){t.autoscale=!t.autoscale,t.config.autoscale=t.autoscale,t.trackView.setDataRange(void 0,void 0,t.autoscale)}}),e},Ex.prototype.getFeatures=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.featureSource.getFeatures(e,0,Number.MAX_VALUE);case 2:i=t.sent,a=void 0,o=void 0,s=1;case 6:if(!(s<i.length-1)){t.next=14;break}if(void 0===a&&i[s].end>r&&(a=s-1),!(void 0===o&&i[s].start>n)){t.next=11;break}return o=s+1,t.abrupt("break",14);case 11:s++,t.next=6;break;case 14:return void 0===a&&(a=0),void 0===o&&(o=i.length),t.abrupt("return",i.slice(a,o));case 17:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),Ex.prototype.draw=function(t){var e=this,r=t.features,n=t.context,i=t.bpPerPixel,a=t.bpStart,o=(t.pixelWidth,t.pixelHeight),s=function(t){return(e.dataRange.max-t)/(e.dataRange.max-e.dataRange.min)*o},c=function(t){var e=Math.floor((t-a)/i);return isNaN(e)&&console.warn("isNaN(x). feature start "+lg(t)+" bp start "+lg(a)),e};if(r&&r.length>0&&(void 0===e.dataRange.min&&(e.dataRange.min=0),e.dataRange.max>e.dataRange.min)){var h=this.config.highlightSamples,u=this.config.onlyHandleClicksForHighlightedSamples,l=-1,f={},p=[],d=[];this.clickDetectorCache={};var g=!0,v=!1,m=void 0;try{for(var y,b=r[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=y.value,x=c(w.start),k=c(w.end),S=l>=0?c(l):x;if(!isNaN(x)&&!isNaN(k)&&!(x-S<1&&k-x<1)){this.clickDetectorCache[x]=[],this.clickDetectorCache[k]=[];for(var _=0;_<w.values.length;_++){var C=e.header[_],A=w.values[_],E=s(A);if(x-S>=1){var R=f[C],T=s(R),L=h&&h[C];L?p.push([S,T,x,E,L]):nm.strokeLine(n,S,T,x,E,{strokeStyle:"#D9D9D9"}),(!u||C in h)&&this.clickDetectorCache[x].push([S,T,x,E,C,L||"gray"])}if(k-x>=1){var I=h&&h[C];I?d.push([x,E,k,E,I]):nm.strokeLine(n,x,E,k,E,{strokeStyle:"gray"}),(!u||C in h)&&this.clickDetectorCache[k].push([x,E,k,E,C,I||"gray"])}f[C]=A}l=w.end}}}catch(t){v=!0,m=t}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}for(var M=0,P=p;M<P.length;M++){var O=P[M];nm.strokeLine(n,O[0],O[1],O[2],O[3],{strokeStyle:O[4],lineWidth:1.3})}for(var N=0,F=d;N<F.length;N++){var D=F[N];nm.strokeLine(n,D[0],D[1],D[2],D[3],{strokeStyle:D[4],lineWidth:2})}}!function(t){if(e.config.hasOwnProperty("guideLines")){var r=!0,n=!1,i=void 0;try{for(var a,o=e.config.guideLines[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var c=a.value;if(c.hasOwnProperty("color")&&c.hasOwnProperty("y")&&c.hasOwnProperty("dotted")){var h=s(c.y),u={strokeStyle:c.color,strokeWidth:2};c.dotted?nm.dashedLine(t.context,0,h,t.pixelWidth,h,5,u):nm.strokeLine(t.context,0,h,t.pixelWidth,h,u)}}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}(t)},Ex.prototype.doAutoscale=function(t){var e,r;return t.length>0?(e=Number.MAX_VALUE,r=-Number.MAX_VALUE,t.forEach((function(t){e=Math.min.apply(Math,[e].concat(en(t.values))),r=Math.max.apply(Math,[r].concat(en(t.values)))})),e-=.01,r+=.01):(e=0,r=100),{min:e,max:r}};Ex.prototype.clickedFeatures=function(t){for(var e,r,n,i,a,o,s,c,h=t.canvasX,u=t.canvasY,l=null,f=0,p=Object.keys(this.clickDetectorCache);f<p.length&&(l=p[f],!((l=parseInt(l))>=h));f++);if(l){var d=Number.MAX_VALUE,g=[],v=this.clickDetectorCache[l],m=!0,y=!1,b=void 0;try{for(var w,x=v[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var k=w.value,S=k[0],_=k[2];if(h<S||h>_)return[];var C=k[1],A=k[3];if(!(u<Math.min(C,A)-10||u>Math.max(C,A)+10)){var E=(e=h,r=u,a=void 0,o=void 0,s=void 0,c=void 0,a=_-(n=S),o=A-(i=C),s=Math.abs(a*(i-r)-(n-e)*o),(c=Math.sqrt(a*a+o*o))>0?s/c:0);E<d&&(g=[{name:k[4],color:k[5]}],d=E)}}}catch(t){y=!0,b=t}finally{try{m||null==x.return||x.return()}finally{if(y)throw b}}if(d<5)return g}return[]},Ex.prototype.popupData=function(t,e){e||(e=this.clickedFeatures(t));var r=[];return e.forEach((function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];Ig(t[i])&&r.push({name:i,value:t[i]})}})),r},Ex.prototype.contextMenuItemList=function(t){t.viewport.genomicState.referenceFrame,t.genomicLocation;return[]},Ex.prototype.getState=function(){var t=this.config;return t.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(t.min=this.dataRange.min,t.max=this.dataRange.max),t},Ex.prototype.supportsWholeGenome=function(){return!1};var Rx=Lg(hy,(function(t,e){hy.call(this,t,e),t.height||(this.height=300),this.arcOrientation=!1,this.theta=Math.PI/2,t.format,this.featureSource=new Lx(t,e.genome)}));function Tx(t,e){t.sort((function(t,r){var n=void 0===t.score?-Number.MAX_VALUE:t.score,i=void 0===r.score?-Number.MAX_VALUE:r.score;return(void 0===e?1:e)*(n-i)}))}function Lx(t,e){this.config=t,this.genome=e}Rx.prototype.getFeatures=function(t,e,r){return this.featureSource.getFeatures(t,e,r)},Rx.prototype.draw=function(t){var e=this,r=Math.PI/2,n=t.context,i=t.pixelWidth,a=t.pixelHeight,o=(t.viewportWidth,t.bpPerPixel),s=t.bpStart,c=o,h=e.arcOrientation;nm.fillRect(n,0,t.pixelTop,i,a,{fillStyle:"rgb(255, 255, 255)"});var u=t.features;u&&(Tx(u,1),u.forEach((function(t){if(t.startLeft){var i=Math.round((t.startLeft-s)/c),a=Math.round((t.startRight-s)/c),o=Math.round((t.endLeft-s)/c),u=Math.round((t.endRight-s)/c);n.fillStyle=t.color,n.strokeStyle=t.color,n.beginPath();var l=(i+u)/2,f=(u-i)/2,p=e.height,d=Math.PI+(Math.PI/2-r),g=2*Math.PI-(Math.PI/2-r);h?(p=0,n.arc(l,p,f,g,d),n.lineTo(u,p)):(n.arc(l,p,f,d,g),n.lineTo(o,p));var v=(a+o)/2,m=(o-a)/2,y=p;h?(n.arc(v,y,m,d,g,!0),n.lineTo(o,y)):(n.arc(v,y,m,g,d,!0),n.lineTo(i,y)),n.stroke(),n.fill(),t.drawState={x1:l,y1:p,r1:f,x2:v,y2:y,r2:m,sa:d,ea:g}}else{var b=Math.round((t.start-s)/c),w=Math.round((t.end-s)/c);n.strokeStyle=t.color,n.beginPath();var x=(b+w)/2,k=(w-b)/2,S=e.height,_=Math.PI+(Math.PI/2-r),C=2*Math.PI-(Math.PI/2-r);h?(S=0,n.arc(x,S,k,C,_)):n.arc(x,S,k,_,C),n.stroke(),t.drawState={x1:x,y1:S,r1:k,sa:_,ea:C}}})))},Rx.prototype.clickedFeatures=function(t){var e=hy.prototype.clickedFeatures.call(this,t),r=[];Tx(e,-1);var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,h=c.drawState,u=t.canvasX-h.x1,l=t.canvasY-h.y1,f=Math.sqrt(u*u+l*l),p=h.r1+3,d=void 0,g=void 0;if(void 0===h.x2)d=f,g=h.r1-3;else{var v=t.canvasX-h.x2,m=t.canvasY-h.y2;d=Math.sqrt(v*v+m*m),g=h.r2-3}if(f<p&&d>g){r.push(c);break}}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r},Rx.prototype.popupData=function(t,e){if(e||(e=this.clickedFeatures(t)),e&&e.length>0)return hy.extractPopupData(e[0],this.getGenomeId())},Rx.prototype.menuItemList=function(){var t=this;return[{name:"Toggle arc direction",click:function(){t.arcOrientation=!t.arcOrientation,t.trackView.repaintViews()}}]},Rx.prototype.getState=function(){var t=this._super.getState.call(this);return t.arcOrientation=this.arcOrientation,t.thickness=this.thickness,t.color=this.color,t},Lx.prototype.getFeatures=function(t,e,r){var n=this,i=this.genome;if(this.featureCache)return Promise.resolve(n.featureCache.queryFeatures(t,e,r));var a=Mg(this.config);return lv.loadString(n.config.url,a).then((function(a){return n.featureCache=new Ty(function(t){if(!t)return null;var e,r=_m(t),n=!0,i=[],a=[],o=[];for(;e=r.nextLine();){var s=e.split("\t");if(n&&e.startsWith("color:")){var c="rgb("+s[1]+","+s[2]+","+s[3]+")";i.push(c),s.length>4&&a.push(s[4])}else{n=!1;var h=s[0],u=Number.parseInt(s[1])-1,l=Number.parseInt(s[2])-1,f=Number.parseInt(s[3]),p=Number.parseInt(s[4]),d=Number.parseInt(s[5]),g=i[d],v=void 0;(v=u<=p?{chr:h,startLeft:Math.min(u,l),startRight:Math.max(u,l),endLeft:Math.min(f,p),endRight:Math.max(f,p),color:g,score:d}:{chr:h,startLeft:Math.min(f,p),startRight:Math.max(f,p),endLeft:Math.min(u,l),endRight:Math.max(u,l),color:g,score:d}).start=v.startLeft,v.end=v.endRight,a.length>d&&(v.description=a[d]),o.push(v)}}return o}(a),i),n.featureCache.queryFeatures(t,e,r)}))};var Ix={sequence:function(t,e){return new Rb(t,e)},feature:function(t,e){return new mb(t,e)},seg:function(t,e){return new Vb(t,e)},wig:function(t,e){return new $b(t,e)},merged:function(t,e){return new Gb(t,e)},alignment:function(t,e){return new ox(t,e)},interaction:function(t,e){return new px(t,e)},variant:function(t,e){return new gx(t,e)},eqtl:function(t,e){return new yx(t,e)},gwas:function(t,e){return new Cx(t,e)},arc:function(t,e){return new Rx(t,e)},gcnv:function(t,e){return new Ex(t,e)}},Mx=function(t,e){this.config=t,this.name=t.name,this.roiSource=new Ky(t,e),this.color=t.color||"rgba(68, 134, 247, 0.25)"};function Px(t,e,r){var n,i;return n=Math.round((t.start-e)/r),(i=Math.round((t.end-e)/r)-n)<3&&(i=3,n-=1),{x:n,width:i}}Mx.prototype.getFeatures=function(t,e,r){return this.roiSource.getFeatures(t,e,r)},Mx.prototype.draw=function(t){var e,r,n,i;if(i=t.features){e=t.bpStart+(t.pixelWidth*t.bpPerPixel+1);for(var a=0,o=i.length;a<o;a++)if(!((r=i[a]).end<t.bpStart)){if(r.start>e)break;n=Px(r,t.bpStart,t.bpPerPixel),nm.fillRect(t.context,n.x,0,n.width,t.pixelHeight,{fillStyle:this.color})}}};var Ox=function(t,e){this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,t&&(this.gene=t.toUpperCase(),this.geneColors[this.gene]=Nx[this.genesCount++]),e&&(this.snp=e.toUpperCase())};Ox.prototype.addGene=function(t){this.geneColors[t.toUpperCase()]||(this.geneColors[t.toUpperCase()]=Nx[this.genesCount++])},Ox.prototype.colorForGene=function(t){return this.geneColors[t.toUpperCase()]};var Nx=new Array;Nx.push("rgb(228,26,28)"),Nx.push("rgb(55,126,184)"),Nx.push("rgb(77,175,74)"),Nx.push("rgb(166,86,40)"),Nx.push("rgb(152,78,163)"),Nx.push("rgb(255,127,0)"),Nx.push("rgb(247,129,191)"),Nx.push("rgb(153,153,153)"),Nx.push("rgb(255,255,51)"),Nx.push("rgb(102, 194, 165"),Nx.push("rgb(252, 141, 98"),Nx.push("rgb(141, 160, 203"),Nx.push("rgb(231, 138, 195"),Nx.push("rgb(166, 216, 84"),Nx.push("rgb(255, 217, 47"),Nx.push("rgb(229, 196, 148"),Nx.push("rgb(179, 179, 179"),Nx.push("rgb( 141, 211, 199"),Nx.push("rgb(255, 255, 179"),Nx.push("rgb(190, 186, 218"),Nx.push("rgb(251, 128, 114"),Nx.push("rgb(128, 177, 211"),Nx.push("rgb(253, 180, 98"),Nx.push("rgb(179, 222, 105"),Nx.push("rgb(252, 205, 229"),Nx.push("rgb(217, 217, 217"),Nx.push("rgb(188, 128, 189"),Nx.push("rgb(204, 235, 197"),Nx.push("rgb(255, 237, 111");var Fx=!Sc((function(t){Array.from(t)}));It({target:"Array",stat:!0,forced:Fx},{from:jh});var Dx=function(t,e){var r,n,i,a=this;r=new DOMParser,n=r.parseFromString(t,"text/xml"),function(){var t,r,i,o,s;!(t=n.getElementsByTagName("Session"))||t.length;r=t.item(0),i=r.getAttribute("genome"),o=r.getAttribute("locus"),s=r.getAttribute("ucscID"),e&&e.hasOwnProperty(i)?a.genome=i:(a.reference={fastaURL:i},s&&(a.reference.id=s));o&&(a.locus=o)}(),i=n.getElementsByTagName("Resource"),a.tracks=[];var o={};function s(t,e){var r,n,i,a,o,s,c,h,u,l;e.name=t.getAttribute("name"),(r=t.getAttribute("color"))&&(e.color="rgb("+r+")"),a=t.getAttribute("altColor"),r&&(e.altColor="rgb("+a+")"),(n=t.getAttribute("height"))&&(e.height=parseInt(n)),(i=t.getAttribute("autoScale"))&&(e.autoScale="true"===i),(l=t.getAttribute("autoscaleGroup"))&&(e.autoscaleGroup=l),(c=t.getAttribute("windowFunction"))&&(e.windowFunction=c),(h=t.getAttribute("visibilityWindow")||t.getAttribute("featureVisibilityWindow"))&&(e.visibilityWindow=h),(u=t.getAttribute("indexed"))&&(e.indexed="true"===u),(s=t.getElementsByTagName("DataRange")).length>0&&(o=s.item(0),i||(e.min=parseInt(o.getAttribute("minimum")),e.max=parseInt(o.getAttribute("maximum"))),e.logScale="LOG"===o.getAttribute("type"))}Array.from(i).forEach((function(t,e){var r={url:t.getAttribute("path"),indexURL:t.getAttribute("index"),order:e};a.tracks.push(r),o[r.url]=r})),(i=n.getElementsByTagName("Track"))&&i.length>0&&(a.tracks=[],Array.from(i).forEach((function(t){var e,r,n,i;(n=t.getElementsByTagName("Track"))&&n.length>0?(s(t,i={type:"merged",tracks:[]}),a.tracks.push(i),Array.from(n).forEach((function(t){var e,r;t.processed=!0,e=t.getAttribute("id"),(r=o[e])&&(i.tracks.push(r),s(t,r),r.autoscale=!1,i.height=r.height)}))):t.processed||(e=t.getAttribute("id"),(r=o[e])&&(a.tracks.push(r),s(t,r)))})))},Bx=function(){this.attributes={},this.plinkLoaded=!1};function zx(t,e){return(new Bx).loadPlinkFile(t,e)}Bx.prototype.loadPlinkFile=function(){var t=jr(regeneratorRuntime.mark((function t(e,r){var n,i,a,o,s,c,h,u,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r||(r={}),n=Mg(r),t.next=4,lv.loadString(e,n);case 4:for(i=t.sent,a=fg(i),o=!0,s=!1,c=void 0,t.prev=9,h=a[Symbol.iterator]();!(o=(u=h.next()).done);o=!0)l=u.value,f=l.split(" "),this.attributes[f[1]]={familyId:f[0],fatherId:f[2],motherId:f[3],sex:f[4],phenotype:f[5]};t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),s=!0,c=t.t0;case 17:t.prev=17,t.prev=18,o||null==h.return||h.return();case 20:if(t.prev=20,!s){t.next=23;break}throw c;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return this.plinkLoaded=!0,t.abrupt("return",this);case 27:case"end":return t.stop()}}),t,this,[[9,13,17,25],[18,,20,24]])})));return function(e,r){return t.apply(this,arguments)}}(),Bx.prototype.getAttributes=function(t){return this.attributes[t]},Bx.prototype.getAttributeNames=function(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]},Bx.prototype.hasAttributes=function(){return Object.keys(this.attributes).length>0};var Ux=function(t,e,r){this.browser=r,this.$parent=t,this.buildPanels(t,e)};function Hx(t,e,r){var n,i=this.browser;return(n={}).genomicState=e,n.$ideogram=Js('<div class="igv-ideogram-content"></div>'),t.append(n.$ideogram),function(t,e,r){e<r&&1+e!==r?t.addClass("igv-ideogram-content-border-right"):t.removeClass("igv-ideogram-content-border-right")}(n.$ideogram,i.genomicStateList.indexOf(e),i.genomicStateList.length),n.$ideogram.outerWidth(r),n.$canvas=Js("<canvas>"),n.$ideogram.append(n.$canvas),Vx(n),n.ideograms={},n.$ideogram.on("click",(function(t){!function(t,e,r){var n=bg(r,e.$ideogram.get(0)),i=e.genomicState.referenceFrame,a=i.bpPerPixel*e.$ideogram.width(),o=t.genome.getChromosome(i.chrName),s=a/o.bpLength,c=n.x/e.$ideogram.width();c-s/2<0&&(c=s/2);c+s/2>1&&(c=1-s/2);var h=Math.round((c-s/2)*o.bpLength),u=Math.round((c+s/2)*o.bpLength);i.start=Math.round((c-s/2)*o.bpLength),i.bpPerPixel=(u-h)/e.$ideogram.width(),t.updateLocusSearchWidget(e.genomicState),t.updateViews()}(i,n,t)})),n}function $x(t){t.forEach((function(e,r){1===t.length||1+r===t.length?e.$ideogram.removeClass("igv-ideogram-content-border-right"):e.$ideogram.addClass("igv-ideogram-content-border-right")}))}function jx(t){var e=t.ctx,r=t.width,n=t.height,i=t.genome,a=t.referenceFrame,o=t.ideogramWidth;if(r>0&&n>0&&i&&a&&i.getChromosome(a.chrName)&&n>0){if(nm.fillRect(e,0,0,r,n,{fillStyle:gg.greyScale(255)}),"all"!==a.chrName.toLowerCase()){!function(t){var e,r,n,i,a,o,s,c,h,u,l=t.ctx,f=t.referenceFrame,p=t.genome,d=t.width,g=t.height,v=t.stainColors;if(1,.5,0,void 0===p)return;if(nm.fillRect(l,0,0,d,g,{fillStyle:gg.greyScale(255)}),e=p.getCytobands(f.chrName)){if(n=0+g/2,i=[],a=[],0===e.length)return;for(o=e[e.length-1].end,s=d/o,l.beginPath(),nm.roundRect(l,.5,.5,d-1,g-1,(g-1)/2,0,1),l.clip(),u=0;u<e.length;u++)r=e[u],c=s*r.start,h=s*r.end,"c"===r.type?("p"===r.name.charAt(0)?(i[0]=c,a[0]=g+0,i[1]=c,a[1]=0,i[2]=h,a[2]=n):(i[0]=h,a[0]=g+0,i[1]=h,a[1]=0,i[2]=c,a[2]=n),l.fillStyle="rgb(150, 0, 0)",l.strokeStyle="rgb(150, 0, 0)",nm.polygon(l,i,a,1,0)):(l.fillStyle=qx(v,r),nm.fillRect(l,c,1,h-c,g-2))}l.strokeStyle=gg.greyScale(41),nm.roundRect(l,.5,.5,d-1,g-1,(g-1)/2,0,1)}({ctx:e,referenceFrame:a,genome:i,width:r,height:n,stainColors:[]});var s=i.getChromosome(a.chrName),c=Math.round(a.bpPerPixel*o),h=a.start,u=s.bpLength,l=i.getCytobands(a.chrName);if(l&&l.length>0&&(u=Math.max(u,l[l.length-1].end)),c<u){var f=c/u,p=h/u,d=Math.floor(p*r),g=Math.floor(f*r);d=Math.max(0,d),d=Math.min(r-g,d),e.save(),e.strokeStyle="red",e.lineWidth=g<2?1:2;var v=d+e.lineWidth/2;g=g<2?1:g-e.lineWidth;var m=e.lineWidth/2,y=n-e.lineWidth;e.strokeRect(v,m,g,y),e.restore()}}}}function qx(t,e){if("c"===e.type)return"rgb(150, 10, 10)";var r=e.stain,n=230;"p"===e.type&&(n=Math.floor(230-r/100*230));var i=t[n];return i||(i="rgb("+n+","+n+","+n+")",t[n]=i),i}function Vx(t){var e=t.$canvas.get(0),r=+t.$ideogram.width(),n=+t.$ideogram.height();e.style.width=r+"px",e.style.height=n+"px",e.width=window.devicePixelRatio*r,e.height=window.devicePixelRatio*n,t.ctx=e.getContext("2d"),t.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}Ux.prototype.renderSVGContext=function(t,e){var r=this;this.panels.forEach((function(n,i){var a=n.$ideogram.get(0).getBoundingClientRect(),o=e.deltaX+i*(n.$canvas.width()+t.multiLocusGap),s=e.deltaY;t.addTrackGroupWithTranslationAndClipRect("ideogram",o,s,a.width,a.height,0),t.save(),jx({ctx:t,width:n.$canvas.width(),height:n.$canvas.height(),genome:r.browser.genome,referenceFrame:n.genomicState.referenceFrame,ideogramWidth:n.$ideogram.width()}),t.restore()}))},Ux.prototype.buildPanels=function(t,e){var r=this;t.append(Js('<div class="igv-ideogram-shim"></div>')),this.panels=this.browser.genomicStateList.map((function(n){return Hx.call(r,t,n,e)}))},Ux.prototype.setWidth=function(t,e){this.panels.forEach((function(e){e.$ideogram.outerWidth(t),Vx(e),e.ideograms={}})),!0===e&&this.repaint()},Ux.prototype.resize=function(){this.setWidth(this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,!0)},Ux.prototype.repaint=function(){var t=this;this.panels.forEach((function(e){jx({ctx:e.ctx,width:e.$canvas.width(),height:e.$canvas.height(),genome:t.browser.genome,referenceFrame:e.genomicState.referenceFrame,ideogramWidth:e.$ideogram.width()})}))},Ux.prototype.discardPanels=function(){this.panels.forEach((function(t){t.$ideogram.remove()})),this.panels=void 0},Ux.prototype.addPanelWithGenomicStateAtIndex=function(t,e,r){var n;n=Hx.call(this,this.$parent,t,r),e===this.panels.length?this.panels.push(n):(this.panels.splice(e,0,n),n.$ideogram.detach().insertAfter(this.panels[e-1].$ideogram)),$x(this.panels)},Ux.prototype.removePanelWithLocusIndex=function(t){this.panels[t].$ideogram.remove(),this.panels.splice(t,1),$x(this.panels)},Ux.prototype.repaintPanelWithGenomicState=function(t){var e=this.panels[this.browser.genomicStateList.indexOf(t)];jx({ctx:e.ctx,width:e.$canvas.width(),height:e.$canvas.height(),genome:this.browser.genome,referenceFrame:e.genomicState.referenceFrame,ideogramWidth:e.$ideogram.width()})};var Gx=function(t,e,r,n,i){this.genome=t,this.chrName=e,this.start=r,this.initialEnd=n,this.bpPerPixel=i};Gx.prototype.calculateEnd=function(t){return this.start+this.bpPerPixel*t},Gx.prototype.calculateBPP=function(t,e){return(t-this.start)/e},Gx.prototype.set=function(t){this.chrName=t.chrName,this.start=t.start,this.bpPerPixel=t.bpPerPixel},Gx.prototype.toPixels=function(t){return t/this.bpPerPixel},Gx.prototype.toBP=function(t){return this.bpPerPixel*t},Gx.prototype.shiftPixels=function(t,e){var r=this.start;return this.start+=t*this.bpPerPixel,this.clamp(e),r!==this.start},Gx.prototype.clamp=function(t){var e=this.genome.getChromosome(this.chrName).bpStart||0;if(this.start=Math.max(e,this.start),t){var r=this.genome.getChromosome(this.chrName).bpLength-t*this.bpPerPixel;this.start>r&&(this.start=r)}},Gx.prototype.getChromosome=function(){return this.genome.getChromosome(this.chrName)},Gx.prototype.showLocus=function(t){if("all"===this.chrName.toLowerCase())return this.chrName.toLowerCase();var e=lg(Math.floor(this.start)+1),r=lg(Math.round(this.start+this.bpPerPixel*t));return this.chrName+":"+e+"-"+r},Gx.prototype.description=function(){return"ReferenceFrame "+this.chrName+" "+lg(Math.floor(this.start))+" bpp "+this.bpPerPixel};var Wx=function(t,e){this.guid=wg(),this.namespace=".browser_"+this.guid,this.config=t,this.parent=e,this.$root=Js('<div class="igv-root-div">'),Js(e).append(this.$root),this.$content=Js('<div class="igv-content-div">'),this.$root.append(this.$content),this.$contentHeader=Js("<div>",{class:"igv-content-header"}),this.$content.append(this.$contentHeader);var r=Js('<div class="igv-track-container-div">');this.$content.append(r),this.trackContainerDiv=r.get(0),Zx.call(this,t),this.trackViews=[],this.trackLabelsVisible=!0,this.isCenterGuideVisible=!1,this.cursorGuideVisible=!1,this.featureDB={},this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:t.doubleClickDelay||500},this.eventHandlers={},this.$spinner=Js('<div class="igv-track-container-spinner">'),r.append(this.$spinner),this.$spinner.append(Lf("spinner")),this.stopSpinner(),Kx.call(this)};function Zx(t){t.gtex&&(gb.gtexLoaded=!0),this.flanking=t.flanking,this.crossDomainProxy=t.crossDomainProxy,this.formats=t.formats,this.trackDefaults=t.trackDefaults,t.search?this.searchConfig={type:"json",url:t.search.url,coords:void 0===t.search.coords?1:t.search.coords,chromosomeField:t.search.chromosomeField||"chromosome",startField:t.search.startField||"start",endField:t.search.endField||"end",geneField:t.search.geneField||"gene",snpField:t.search.snpField||"snp",resultsField:t.search.resultsField}:(t.reference&&t.reference.id?t.reference.id:t.genome?t.genome:"hg19",this.searchConfig={type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"})}function Xx(t,e){var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,c=!0,h=!1,u=void 0;try{for(var l,f=s.viewports[Symbol.iterator]();!(c=(l=f.next()).done);c=!0){var p=l.value;p.$trackLabel&&(0===s.viewports.indexOf(p)&&!0===e?p.$trackLabel.show():p.$trackLabel.hide())}}catch(t){h=!0,u=t}finally{try{c||null==f.return||f.return()}finally{if(h)throw u}}}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}function Yx(t){ug(t)&&(t=JSON.parse(t));var e=t.url;t.features;return void 0===e||ug(e)||e instanceof File}function Kx(){var t=this;function e(e){var r,n,i,a;if(e.preventDefault(),!t.loadInProgress()&&(r=yg(e),t.vpMouseDown)){var o=Math.abs(r.x-t.vpMouseDown.mouseDownX)>Math.abs(r.y-t.vpMouseDown.mouseDownY);if(i=(n=t.vpMouseDown.viewport).$viewport.width(),a=n.genomicState.referenceFrame,!t.dragObject&&!t.isScrolling)if(o)t.vpMouseDown.mouseDownX&&Math.abs(r.x-t.vpMouseDown.mouseDownX)>t.constants.dragThreshold&&(t.dragObject={viewport:n,start:a.start});else if(t.vpMouseDown.mouseDownY&&Math.abs(r.y-t.vpMouseDown.mouseDownY)>t.constants.scrollThreshold){t.isScrolling=!0;var s=n.trackView,c=s.$viewportContainer.height(),h=s.maxContentHeight();t.vpMouseDown.r=c/h}if(t.dragObject)a.shiftPixels(t.vpMouseDown.lastMouseX-r.x,i)&&(t.updateLocusSearchWidget(t.vpMouseDown.genomicState),t.updateViews()),t.fireEvent("trackdrag");if(t.isScrolling){var u=t.vpMouseDown.r*(t.vpMouseDown.lastMouseY-r.y);t.vpMouseDown.viewport.trackView.scrollBy(u)}t.vpMouseDown.lastMouseX=r.x,t.vpMouseDown.lastMouseY=r.y}}function r(e){t.cancelTrackPan(),t.endTrackDrag()}Js(window).on("resize"+this.namespace,(function(){t.resize()})),Js(this.root).on("mouseup",r),Js(this.root).on("mouseleave",r),Js(this.trackContainerDiv).on("mousemove",e),Js(this.trackContainerDiv).on("touchmove",e),Js(this.trackContainerDiv).on("mouseleave",r),Js(this.trackContainerDiv).on("mouseup",r),Js(this.trackContainerDiv).on("touchend",r)}Wx.prototype.startSpinner=function(){var t=this.$spinner;t&&(t.addClass("igv-fa5-spin"),t.show())},Wx.prototype.stopSpinner=function(){var t=this.$spinner;t&&(t.hide(),t.removeClass("igv-fa5-spin"))},Wx.prototype.isMultiLocusMode=function(){return this.genomicStateList&&this.genomicStateList.length>1},Wx.prototype.isMultiLocusWholeGenomeView=function(){if(void 0===this.genomicStateList||1===this.genomicStateList.length)return!1;var t=!0,e=!1,r=void 0;try{for(var n,i=this.genomicStateList[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){if("all"===n.value.referenceFrame.chrName.toLowerCase())return!0}}catch(t){e=!0,r=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw r}}return!1},Wx.prototype.toSVG=function(){var t=this.trackContainerDiv.getBoundingClientRect(),e=this.trackViews[0].$viewportContainer.get(0).getBoundingClientRect(),r=this.ideoPanel?this.ideoPanel.panels[0].$ideogram.get(0).getBoundingClientRect():{height:0,width:0},n=t.width+8*(this.genomicStateList.length-1),i=t.height+r.height,a=new of({width:n,height:8e3,backdropColor:"white",multiLocusGap:8,viewbox:{x:0,y:0,width:n,height:8e3}}),o=e.x-t.x;this.ideoPanel&&this.ideoPanel.renderSVGContext(a,{deltaX:o,deltaY:0});var s=!0,c=!1,h=void 0;try{for(var u,l=this.trackViews[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){u.value.renderSVGContext(a,{deltaX:o,deltaY:r.height-t.y})}}catch(t){c=!0,h=t}finally{try{s||null==l.return||l.return()}finally{if(c)throw h}}return a.setHeight(i),a.getSerializedSvg(!0)},Wx.prototype.renderSVG=function(t){var e=this.toSVG();if(t.$container){var r=this.trackContainerDiv.getBoundingClientRect();t.$container.empty(),t.$container.width(r.width),t.$container.append(e)}Pg(t.filename||"igv.svg",URL.createObjectURL(new Blob([e],{type:"application/octet-stream"})))},Wx.prototype.loadSession=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(){return(a=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.url||e.file,!e.url||!e.url.startsWith("blob:")&&!e.url.startsWith("data:")){t.next=6;break}return n=Wx.uncompressSession(e.url),t.abrupt("return",JSON.parse(n));case 6:if((i=e.filename)||(i=e.url?Jg(e.url):e.file.name),!i.endsWith(".xml")){t.next=18;break}return t.next=11,Tv.getKnownGenomes();case 11:return a=t.sent,t.next=14,lv.loadString(r);case 14:return o=t.sent,t.abrupt("return",new Dx(o,a));case 18:if(!i.endsWith(".json")){t.next=22;break}return t.abrupt("return",lv.loadJson(r));case 22:return t.abrupt("return",void 0);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)},i=function(t){return a.apply(this,arguments)},r=this,!e.url&&!e.file){t.next=9;break}return t.next=6,i(e);case 6:n=t.sent,t.next=10;break;case 9:n=e;case 10:return t.abrupt("return",r.loadSessionObject(n));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),Wx.prototype.loadSessionObject=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S,_,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeAllTracks(!0),t.next=3,this.loadGenome(e.reference||e.genome,e.locus);case 3:if(r=t.sent,!e.gtexSelections){t.next=44;break}for(n={},i=!0,a=!1,o=void 0,t.prev=9,s=this.genomicStateList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)h=c.value,n[h.locusSearchString]=h;t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),a=!0,o=t.t0;case 17:t.prev=17,t.prev=18,i||null==s.return||s.return();case 20:if(t.prev=20,!a){t.next=23;break}throw o;case 23:return t.finish(20);case 24:return t.finish(17);case 25:for(u=!0,l=!1,f=void 0,t.prev=28,p=Object.getOwnPropertyNames(e.gtexSelections)[Symbol.iterator]();!(u=(d=p.next()).done);u=!0)g=d.value,(v=n[g])&&(m=e.gtexSelections[g].gene,y=e.gtexSelections[g].snp,v.selection=new Ox(m,y));t.next=36;break;case 32:t.prev=32,t.t1=t.catch(28),l=!0,f=t.t1;case 36:t.prev=36,t.prev=37,u||null==p.return||p.return();case 39:if(t.prev=39,!l){t.next=42;break}throw f;case 42:return t.finish(39);case 43:return t.finish(36);case 44:if(!e.roi){t.next=65;break}for(this.roi=[],b=!0,w=!1,x=void 0,t.prev=49,k=e.roi[Symbol.iterator]();!(b=(S=k.next()).done);b=!0)_=S.value,this.roi.push(new Mx(_,r));t.next=57;break;case 53:t.prev=53,t.t2=t.catch(49),w=!0,x=t.t2;case 57:t.prev=57,t.prev=58,b||null==k.return||k.return();case 60:if(t.prev=60,!w){t.next=63;break}throw x;case 63:return t.finish(60);case 64:return t.finish(57);case 65:return e.tracks||(e.tracks=[]),0===e.tracks.filter((function(t){return"sequence"===t.type})).length&&e.tracks.push({type:"sequence",order:-Number.MAX_VALUE}),t.next=69,this.loadTrackList(e.tracks);case 69:!1===e.showIdeogram||this.ideoPanel||(C=this.viewportContainerWidth()/this.genomicStateList.length,this.ideoPanel=new Ux(this.$contentHeader,C,this),this.ideoPanel.repaint()),this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0]),this.resize();case 73:case"end":return t.stop()}}),t,this,[[9,13,17,25],[18,,20,24],[28,32,36,44],[37,,39,43],[49,53,57,65],[58,,60,64]])})));return function(e){return t.apply(this,arguments)}}(),Wx.prototype.loadGenome=function(){var t=jr(regeneratorRuntime.mark((function t(e,r){var n,i,a,o,s,c,h,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=function(t,e){return t?Array.isArray(t)?t.join(" "):t:e.getHomeChromosomeName()},h=function(){return(h=jr(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ug(e)?r=e:e.genome?r=e.genome:void 0!==e.id&&void 0===e.fastaURL&&(r=e.id),!r){t.next=10;break}return t.next=4,Tv.getKnownGenomes();case 4:return n=t.sent,(i=n[r])||this.presentAlert("Uknown genome id: "+r,void 0),t.abrupt("return",i);case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)},c=function(t){return h.apply(this,arguments)},ug(e)&&e.startsWith("{"))try{e=JSON.parse(e)}catch(t){}return t.next=6,c.call(this,e);case 6:return n=t.sent,t.next=9,Tv.loadGenome(n);case 9:return i=t.sent,a=this.genome&&this.genome.id!==i.id,this.genome=i,this.$current_genome.text(i.id||""),this.$current_genome.attr("title",i.id||""),this.chromosomeSelectWidget.update(i),a&&this.removeAllTracks(),this.genome=i,t.prev=17,t.next=20,this.search(u(r,i),!0);case 20:o=t.sent,t.next=29;break;case 23:return t.prev=23,t.t0=t.catch(17),console.error(t.t0),t.next=28,this.search(this.genome.getHomeChromosomeName());case 28:o=t.sent;case 29:if(this.genomicStateList=o,this.genomicStateList.length>0?this.rulerTrack||!1===this.config.showRuler||(this.rulerTrack=new am(this),this.addTrack(this.rulerTrack)):(s="Unrecognized locus "+this.config.locus,this.presentAlert(s,void 0)),!n.tracks){t.next=34;break}return t.next=34,this.loadTrackList(n.tracks);case 34:return this.resize(),t.abrupt("return",this.genome);case 36:case"end":return t.stop()}}),t,this,[[17,23]])})));return function(e,r){return t.apply(this,arguments)}}(),Wx.prototype.updateUIWithGenomicStateListChange=function(t){var e=this.isMultiLocusWholeGenomeView()||Tv.isWholeGenomeView(t[0].referenceFrame);e||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),e),Xx(this.trackViews,this.trackLabelsVisible)},Wx.prototype.setTrackLabelName=function(t,e){t.viewports.forEach((function(t){t.setTrackLabel(e)}))},Wx.prototype.hideTrackLabels=function(){this.trackLabelsVisible=!1,Xx(this.trackViews,this.trackLabelsVisible)},Wx.prototype.showTrackLabels=function(){this.trackLabelsVisible=!0,Xx(this.trackViews,this.trackLabelsVisible)},Wx.prototype.hideCursorGuide=function(){this.cursorGuide.$guide.hide(),this.cursorGuideVisible=!1},Wx.prototype.showCursorGuide=function(){this.cursorGuide.$guide.show(),this.cursorGuideVisible=!0},Wx.prototype.setCustomCursorGuideMouseHandler=function(t){this.cursorGuide.customMouseHandler=t},Wx.prototype.hideCenterGuide=function(){this.centerGuide.$container.hide(),this.isCenterGuideVisible=!1},Wx.prototype.showCenterGuide=function(){this.centerGuide.$container.show(),this.centerGuide.resize(),this.isCenterGuideVisible=!0},Wx.prototype.loadTrackList=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this,(n=e.filter((function(t){return!Yx(t)}))).length>0&&(i="The following tracks could not be loaded.  Are these local files?",n.forEach((function(t){i+=", "+t.name})),r.presentAlert(i)),t.prev=3,this.startSpinner(),a=[],e.filter(Yx).forEach((function(t){t.noSpinner=!0,a.push(r.loadTrack(t))})),t.next=9,Promise.all(a);case 9:return o=t.sent,(s=r.trackViews.filter((function(t){return t.track.autoscaleGroup}))).length>0&&r.updateViews(r.genomicStateList[0],s),t.abrupt("return",o);case 13:return t.prev=13,this.stopSpinner(),t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[3,,13,16]])})));return function(e){return t.apply(this,arguments)}}(),Wx.prototype.loadROI=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.roi||(this.roi=[]),!Array.isArray(e)){t.next=23;break}for(r=!0,n=!1,i=void 0,t.prev=5,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)s=o.value,this.roi.push(new Mx(s,this.genome));t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),n=!0,i=t.t0;case 13:t.prev=13,t.prev=14,r||null==a.return||a.return();case 16:if(t.prev=16,!n){t.next=19;break}throw i;case 19:return t.finish(16);case 20:return t.finish(13);case 21:t.next=24;break;case 23:this.roi.push(new Mx(e,this.genome));case 24:return t.next=26,this.updateViews(void 0,void 0,!0);case 26:case"end":return t.stop()}}),t,this,[[5,9,13,21],[14,,16,20]])})));return function(e){return t.apply(this,arguments)}}(),Wx.prototype.removeROI=function(t){for(var e=0;e<this.roi.length;e++)if(this.roi[e].name===t.name){this.roi.splice(e,1);break}var r=!0,n=!1,i=void 0;try{for(var a,o=this.trackViews[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.updateViews(!0)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},Wx.prototype.loadTrack=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ug(e)&&(e=JSON.parse(e)),ug(e.url)&&(e.url=e.url.trim()),e.indexURL&&ug(e.indexURL)&&(e.indexURL=e.indexURL.trim()),Yx(e)){t.next=6;break}return this.presentAlert("The following track could not be loaded.  Is this a local file? "+e.name),t.abrupt("return");case 6:if(!ug(e.url)||!e.url.startsWith("https://drive.google.com")){t.next=16;break}return t.next=9,qg.getDriveFileInfo(e.url);case 9:r=t.sent,e.url="https://www.googleapis.com/drive/v3/files/"+r.id+"?alt=media",e.filename||(e.filename=r.originalFileName||r.name),e.format||(e.format=Lm(e.filename)),e.indexURL&&e.indexURL.startsWith("https://drive.google.com")&&(e.indexURL=qg.driveDownloadURL(e.indexURL)),t.next=17;break;case 16:e.url&&!e.filename&&(e.filename=Jg(e.url));case 17:if(Tm(e),this.trackDefaults&&e.type&&(n=this.trackDefaults[e.type]))for(i in n)n.hasOwnProperty(i)&&void 0===e[i]&&(e[i]=n[i]);if(t.prev=19,e.noSpinner||this.startSpinner(),void 0!==(a=this.createTrack(e))){t.next=25;break}return this.presentAlert("Unknown file type: "+e.url,void 0),t.abrupt("return",a);case 25:if(void 0===a.order&&(a.order=this.trackViews.length),"function"!=typeof a.postInit){t.next=29;break}return t.next=29,a.postInit();case 29:if(!e.sync){t.next=34;break}return t.next=32,this.addTrack(a);case 32:t.next=35;break;case 34:this.addTrack(a);case 35:return t.abrupt("return",a);case 38:t.prev=38,t.t0=t.catch(19),o={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},console.error(t.t0),s=t.t0.message||t.t0.toString(),o.hasOwnProperty(s)&&(s=o[s]+": "+e.url),this.presentAlert(s,void 0);case 45:return t.prev=45,e.noSpinner||this.stopSpinner(),t.finish(45);case 48:case"end":return t.stop()}}),t,this,[[19,38,45,48]])})));return function(e){return t.apply(this,arguments)}}(),Wx.prototype.createTrack=function(t){t.format&&(t.format=t.format.toLowerCase());var e=void 0===t.type?"unknown_type":t.type.toLowerCase();"data"===e&&(e="wig");var r,n=Object.assign({},t);switch(n.browser=this,e){case"annotation":case"genes":case"fusionjuncspan":case"junctions":case"splicejunctions":case"snp":r=Ix.feature(n,this);break;default:r=Ix.hasOwnProperty(e)?Ix[e](n,this):void 0}if(t.roi&&r){r.roi=[];var i=!0,a=!1,o=void 0;try{for(var s,c=t.roi[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value;r.roi.push(new Mx(h,this.genome))}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}return r},Wx.prototype.addTrack=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new fm(this,Js(this.trackContainerDiv),e),this.trackViews.push(r),Xx(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),e.autoscaleGroup){t.next=6;break}return t.abrupt("return",r.updateViews());case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),Wx.prototype.reorderTracks=function(){var t=this;this.trackViews.sort((function(t,e){return(t.track.order||0)-(e.track.order||0)})),Js(this.trackContainerDiv).children("igv-track-div").detach(),this.trackViews.forEach((function(e){t.trackContainerDiv.appendChild(e.trackDiv)}))},Wx.prototype.removeTrackByName=function(t){var e=this.trackViews.slice(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t===s.track.name&&this.removeTrack(s.track)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},Wx.prototype.removeTrack=function(t){for(var e,r=0;r<this.trackViews.length;r++)if(t===this.trackViews[r].track){e=this.trackViews[r];break}e&&(this.trackViews.splice(r,1),Js(e.trackDiv).remove(),this.fireEvent("trackremoved",[e.track]),e.dispose())},Wx.prototype.removeAllTracks=function(t){var e=[],r=!0,n=!1,i=void 0;try{for(var a,o=this.trackViews[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;!t&&"sequence"===s.track.id||"ruler"===s.track.id?e.push(s):(this.trackContainerDiv.removeChild(s.trackDiv),this.fireEvent("trackremoved",[s.track]),s.dispose())}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}this.trackViews=e},Wx.prototype.findTracks=function(t,e){var r=[];return this.trackViews.forEach((function(n){e===n.track[t]&&r.push(n.track)})),r},Wx.prototype.setTrackHeight=function(t){this.trackHeight=t,this.trackViews.forEach((function(e){e.setTrackHeight(t)}))},Wx.prototype.visibilityChange=function(){this.resize()},Wx.prototype.resize=jr(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=function(t){return e.viewportContainerWidth()*t.referenceFrame.bpPerPixel>t.chromosome.bpLength},e=this,0!==(r=this.viewportWidth())){t.next=5;break}return t.abrupt("return");case 5:return this.genomicStateList&&r>0&&((n=this.isMultiLocusWholeGenomeView()||Tv.isWholeGenomeView(this.genomicStateList[0].referenceFrame))||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),n),this.genomicStateList.forEach((function(t){var e=t.referenceFrame;isFinite(e.bpPerPixel)||void 0===e.initialEnd||(e.bpPerPixel=(e.initialEnd-e.start)/r)}))),this.genomicStateList&&1===this.genomicStateList.length&&i(this.genomicStateList[0])?this.search(this.genomicStateList[0].chromosome.name):(this.ideoPanel&&this.ideoPanel.resize(),this.centerGuide&&this.centerGuide.resize(),this.trackViews.forEach((function(t){t.resize()}))),this.genomicStateList&&this.genomicStateList.length>0&&(this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0])),t.next=10,this.updateViews();case 10:case"end":return t.stop()}}),t,this)}))),Wx.prototype.updateViews=function(){var t=jr(regeneratorRuntime.mark((function t(e,r,n){var i,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x,k,S,_,C,A,E,R,T,L,I,M,P,O,N,F,D,B,z;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this,r||(r=this.trackViews),!e&&this.genomicStateList&&1==this.genomicStateList.length&&(e=this.genomicStateList[0]),e&&(this.updateLocusSearchWidget(e),this.windowSizePanel.updateWithGenomicState(e)),this.ideoPanel&&this.ideoPanel.repaint(),this.centerGuide&&this.centerGuide.repaint(),!i.dragObject){t.next=35;break}s=!0,c=!1,h=void 0,t.prev=10,u=r[Symbol.iterator]();case 12:if(s=(l=u.next()).done){t.next=19;break}return f=l.value,t.next=16,f.updateViews();case 16:s=!0,t.next=12;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(10),c=!0,h=t.t0;case 25:t.prev=25,t.prev=26,s||null==u.return||u.return();case 28:if(t.prev=28,!c){t.next=31;break}throw h;case 31:return t.finish(28);case 32:return t.finish(25);case 33:t.next=126;break;case 35:a={},o=[],r.forEach((function(t){var e=t.track.autoscaleGroup;if(e){var r=a[e];r||(r=[],a[e]=r),r.push(t)}else o.push(t)})),p=Object.keys(a),d=0,g=p;case 40:if(!(d<g.length)){t.next=100;break}return v=g[d],m=a[v],y=[],m.forEach((function(t){y.push(t.getInViewFeatures())})),t.next=47,Promise.all(y);case 47:for(b=t.sent,w=[],k=!0,S=!1,_=void 0,t.prev=52,C=b[Symbol.iterator]();!(k=(A=C.next()).done);k=!0)E=A.value,w=w.concat(E);t.next=60;break;case 56:t.prev=56,t.t1=t.catch(52),S=!0,_=t.t1;case 60:t.prev=60,t.prev=61,k||null==C.return||C.return();case 63:if(t.prev=63,!S){t.next=66;break}throw _;case 66:return t.finish(63);case 67:return t.finish(60);case 68:x=Og(w),R=!0,T=!1,L=void 0,t.prev=72,I=m[Symbol.iterator]();case 74:if(R=(M=I.next()).done){t.next=83;break}return(P=M.value).track.dataRange=x,P.track.autoscale=!1,t.next=80,P.updateViews();case 80:R=!0,t.next=74;break;case 83:t.next=89;break;case 85:t.prev=85,t.t2=t.catch(72),T=!0,L=t.t2;case 89:t.prev=89,t.prev=90,R||null==I.return||I.return();case 92:if(t.prev=92,!T){t.next=95;break}throw L;case 95:return t.finish(92);case 96:return t.finish(89);case 97:d++,t.next=40;break;case 100:O=!0,N=!1,F=void 0,t.prev=103,D=o[Symbol.iterator]();case 105:if(O=(B=D.next()).done){t.next=112;break}return z=B.value,t.next=109,z.updateViews(n);case 109:O=!0,t.next=105;break;case 112:t.next=118;break;case 114:t.prev=114,t.t3=t.catch(103),N=!0,F=t.t3;case 118:t.prev=118,t.prev=119,O||null==D.return||D.return();case 121:if(t.prev=121,!N){t.next=124;break}throw F;case 124:return t.finish(121);case 125:return t.finish(118);case 126:case"end":return t.stop()}}),t,this,[[10,21,25,33],[26,,28,32],[52,56,60,68],[61,,63,67],[72,85,89,97],[90,,92,96],[103,114,118,126],[119,,121,125]])})));return function(e,r,n){return t.apply(this,arguments)}}(),Wx.prototype.loadInProgress=function(){var t;for(t=0;t<this.trackViews.length;t++)if(this.trackViews[t].isLoading())return!0;return!1},Wx.prototype.updateLocusSearchWidget=function(t){var e,r,n,i,a,o;this.rulerTrack&&this.rulerTrack.updateLocusLabel(),0===this.genomicStateList.indexOf(t)&&1===this.genomicStateList.length?t.locusSearchString&&"all"===t.locusSearchString.toLowerCase()?(this.$searchInput.val(t.locusSearchString),this.chromosomeSelectWidget.$select.val("all")):(e=t.referenceFrame,this.chromosomeSelectWidget.$select.val(e.chrName),this.$searchInput&&(a=e.start+e.bpPerPixel*(this.viewportContainerWidth()/this.genomicStateList.length),this.genome&&(o=this.genome.getChromosome(e.chrName))&&(a=Math.min(a,o.bpLength)),r=lg(Math.floor(e.start+1)),n=lg(Math.floor(a)),i=e.chrName+":"+r+"-"+n,this.$searchInput.val(i)),this.fireEvent("locuschange",[{chr:e.chrName,start:r,end:n,label:i}])):(this.$searchInput.val(""),this.chromosomeSelectWidget.$select.val(""))},Wx.prototype.viewportContainerWidth=function(){return this.trackViews&&this.trackViews.length>0?this.trackViews[0].$viewportContainer.width():function(){var t,e,r;return t=Js('<div class="igv-track-div">'),Js(this.trackContainerDiv).append(t),e=Js('<div class="igv-viewport-container">'),t.append(e),r=e.width(),t.remove(),r}.call(this)},Wx.prototype.viewportWidth=function(){var t;return t=this.viewportContainerWidth(),void 0===this.genomicStateList||1===this.genomicStateList.length?t:Math.round(t/this.genomicStateList.length)},Wx.prototype.minimumBases=function(){return this.config.minimumBases},Wx.prototype.updateZoomSlider=function(t){var e=this.trackViews[0].viewports[0],r=e.genomicState.referenceFrame,n=e.$viewport.width()*r.bpPerPixel,i=r.getChromosome().bpLength,a=(i-n)/(i-this.minimumBases()),o=Math.round(100*a);t.val(o)},Wx.prototype.zoom=function(t){this.zoomWithScaleFactor(t)},Wx.prototype.zoomIn=function(){this.zoomWithScaleFactor(.5)},Wx.prototype.zoomOut=function(){this.zoomWithScaleFactor(2)},Wx.prototype.zoomWithRangePercentage=function(t){var e=this;if(!this.loadInProgress()){var r=this;this.trackViews[0].viewports.forEach((function(n){var i,a,o,s=n.genomicState.referenceFrame,c=s.start+s.toBP(n.$viewport.width()/2),h=s.getChromosome(),u=(i=(h.bpLength-h.bpStart)/n.$viewport.width(),a=e.minimumBases()/n.$viewport.width(),(1-(o=t))*i+o*a),l=u*n.$viewport.width();s.start=c-l/2,s.bpPerPixel=u,r.updateViews(n.genomicState)}))}},Wx.prototype.zoomWithScaleFactor=function(t,e,r){var n=r?[r]:this.trackViews[0].viewports,i=!0,a=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value,u=h.genomicState.referenceFrame,l=u.getChromosome(),f=u.start,p=u.bpPerPixel,d=l.bpLength-l.bpStart,g=t<1?this.minimumBases()/h.$viewport.width():d/h.$viewport.width(),v=void 0===e?u.start+u.toBP(h.$viewport.width()/2):e,m=void 0,y=(m=t<1?Math.max(u.bpPerPixel*t,g):Math.min(u.bpPerPixel*t,g))*h.$viewport.width();u.start=v-y/2,u.bpPerPixel=m,u.clamp(h.$viewport.width()),(f!==u.start||p!==u.bpPerPixel)&&this.updateViews(h.genomicState)}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}},Wx.prototype.presentSplitScreenMultiLocusPanel=function(t,e){var r,n,i,a,o=this.genome;n=this.viewportContainerWidth()/(1+this.genomicStateList.length),r=(i=e).referenceFrame;var s=o.getChromosomeName(t.chr);i.referenceFrame=h(s,r.bpPerPixel,n,t.start,t.lengthOnRef);var c=o.getChromosomeName(t.mate.chr);function h(t,e,r,n,i){var a;return new Gx(o,t,a=(n+(n+i))/2-e*(r/2),a+e*r,e)}(a={}).chromosome=i.chromosome,a.referenceFrame=h(c,r.bpPerPixel,n,t.mate.position,t.lengthOnRef),this.addMultiLocusPanelWithGenomicStateAtIndex(a,1+this.genomicStateList.indexOf(i),n)},Wx.prototype.selectMultiLocusPanelWithGenomicState=function(t){var e=this;this.genomicStateList.filter((function(e){return t!==e})).forEach((function(t){e.removeMultiLocusPanelWithGenomicState(t,!1)})),this.resize()},Wx.prototype.removeMultiLocusPanelWithGenomicState=function(t,e){var r,n,i,a=this.genome,o=this;r=this.genomicStateList.indexOf(t),this.ideoPanel&&this.ideoPanel.removePanelWithLocusIndex(r),this.trackViews.forEach((function(t){t.removeViewportWithLocusIndex(r)})),n=this.viewportContainerWidth(),i=this.genomicStateList.length,this.genomicStateList.splice(r,1),this.genomicStateList.forEach((function(t,e){var r=t.referenceFrame.calculateEnd(n/i),s=t.referenceFrame.calculateBPP(r,n/o.genomicStateList.length);o.genomicStateList[e].referenceFrame=new Gx(a,t.chromosome.name,t.referenceFrame.start,r,s)})),this.updateUIWithGenomicStateListChange(this.genomicStateList),!0===e&&this.resize()},Wx.prototype.addMultiLocusPanelWithGenomicStateAtIndex=function(t,e,r){e===this.genomicStateList.length?(this.genomicStateList.push(t),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(t,e,r),this.trackViews.forEach((function(e){var n;n=new Ov(e,e.$viewportContainer,t,r),e.viewports.push(n),e.decorateViewports(),e.configureViewportContainer(e.$viewportContainer,e.viewports)}))):(this.genomicStateList.splice(e,0,t),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(t,e,r),this.trackViews.forEach((function(n){var i;i=new Ov(n,n.$viewportContainer,t,r),n.viewports.splice(e,0,i),i.$viewport.detach().insertAfter(n.viewports[e-1].$viewport),n.decorateViewports(),n.configureViewportContainer(n.$viewportContainer,n.viewports)}))),this.rulerTrack&&this.rulerTrack.updateLocusLabel(),this.updateUIWithGenomicStateListChange(this.genomicStateList),this.resize()},Wx.prototype.emptyViewportContainers=function(){var t=!0,e=!1,r=void 0;try{for(var n,i=this.trackViews[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;a.$outerScroll&&a.$outerScroll.remove();var o=!0,s=!1,c=void 0;try{for(var h,u=a.viewports[Symbol.iterator]();!(o=(h=u.next()).done);o=!0){var l=h.value;l.rulerSweeper&&l.rulerSweeper.$rulerSweeper.remove(),l.popover&&(l.popover.$popover.off(),l.popover.$popover.empty(),l.popover.$popover.remove()),l.$viewport.remove()}}catch(t){s=!0,c=t}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}delete a.viewports,a.viewports=[],delete a.scrollbar}}catch(t){e=!0,r=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw r}}this.$contentHeader.empty()},Wx.prototype.buildViewportsWithGenomicStateList=function(t){var e;e=this.viewportContainerWidth()/this.genomicStateList.length,this.trackViews.forEach((function(r){t.forEach((function(t){var n;n=new Ov(r,r.$viewportContainer,t,e),r.viewports.push(n)})),r.decorateViewports(),r.configureViewportContainer(r.$viewportContainer,r.viewports)}))},Wx.prototype.getViewportWithGUID=function(t){var e=void 0,r=!0,n=!1,i=void 0;try{for(var a,o=this.trackViews[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,c=!0,h=!1,u=void 0;try{for(var l,f=s.viewports[Symbol.iterator]();!(c=(l=f.next()).done);c=!0){var p=l.value;t===p.guid&&(e=p)}}catch(t){h=!0,u=t}finally{try{c||null==f.return||f.return()}finally{if(h)throw u}}}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e},Wx.prototype.goto=function(t,e,r){return this.search(t+":"+e+"-"+r)},Wx.prototype.search=function(){var t=jr(regeneratorRuntime.mark((function t(e,r){var n,i,a,o,s,c,h,u,l,f,p,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=function(){return(d=jr(regeneratorRuntime.mark((function t(e){var r,a,o,s,c,h,u,l,f,p,d,g,v,m,y,b,w,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x=function(t,e){var r,i,a,o,s,c;if(c={},o=(r=t.split(":"))[0],s=e.getChromosome(o)){if(c.chromosome=s,c.start=0,c.end=s.bpLength,1===r.length)return c;if(!((i=r[1].split("-")).length>2||(c.start=c.end=void 0,a=i[0].replace(/,/g,""),isNaN(a)||(c.start=parseInt(a,10)-1,isNaN(c.start))))){if(2===i.length){if(a=i[1].replace(/,/g,""),isNaN(a))return!1;c.end=parseInt(a,10)}return Ng(c.chromosome.bpLength,c,n.minimumBases()),c}}},w=function(t,e){var i;if(i="plain"===r.type?function(t){var e=[],r=[];return fg(t).forEach((function(t){""===t||e.push(t)})),e.forEach((function(t){var e,i,a,o,s=t.split("\t");s.length>=3&&(a=(i=s[1].split(":"))[1].split("-"),e=s[2].trim(),o={gene:s[0],chromosome:n.genome.getChromosomeName(i[0].trim()),start:parseInt(a[0].replace(/,/g,"")),end:parseInt(a[1].replace(/,/g,"")),type:"gtex"===e?"snp":"gene"},r.push(o))})),r}(t):JSON.parse(t),r.resultsField&&(i=i[r.resultsField]),i&&0!==i.length){var a=i[0];if(!a.hasOwnProperty(r.chromosomeField)||!a.hasOwnProperty(r.startField))return;var o=a[r.chromosomeField],s=a[r.startField]-r.coords,c=a[r.endField];void 0===c&&(c=s+1),n.flanking&&(s=Math.max(0,s-n.flanking),c+=n.flanking);var h=Object.assign({},a);return h.chromosome=n.genome.getChromosome(o),h.start=s,h.end=c,h.locusSearchString=e,h.selection=new Ox(a[r.geneField],a[r.snpField]),h}return},b=function(){return(b=jr(regeneratorRuntime.mark((function t(e){var i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=r.url.replace("$FEATURE$",e.toUpperCase())).indexOf("$GENOME$")>-1&&(i=i.replace("$GENOME$",n.genome.id?n.genome.id:"hg19")),t.next=4,lv.loadString(i);case 4:return a=t.sent,t.abrupt("return",{result:a,locusSearchString:e});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)},y=function(t){return b.apply(this,arguments)},m=function(t){var e=n.viewportContainerWidth()/t.length;return t.forEach((function(t){t.referenceFrame=new Gx(i,t.chromosome.name,t.start,t.end,(t.end-t.start)/e)})),t},r=n.searchConfig,a=[],o=!0,s=!1,c=void 0,t.prev=10,h=e[Symbol.iterator]();case 12:if(o=(u=h.next()).done){t.next=35;break}if(l=u.value,!(f=x(l,n.genome))){t.next=20;break}f.locusSearchString=l,a.push(f),t.next=31;break;case 20:if(!(p=n.featureDB[l.toUpperCase()])){t.next=26;break}(d=n.genome.getChromosome(p.chr))&&(f={chromosome:d,start:p.start,end:p.end,locusSearchString:l},Ng(f.chromosome.bpLength,f,n.minimumBases()),a.push(f)),t.next=31;break;case 26:return t.next=28,y(l);case 28:g=t.sent,(v=w(g.result,g.locusSearchString))&&a.push(v);case 31:m(a);case 32:o=!0,t.next=12;break;case 35:t.next=41;break;case 37:t.prev=37,t.t0=t.catch(10),s=!0,c=t.t0;case 41:t.prev=41,t.prev=42,o||null==h.return||h.return();case 44:if(t.prev=44,!s){t.next=47;break}throw c;case 47:return t.finish(44);case 48:return t.finish(41);case 49:return t.abrupt("return",a);case 50:case"end":return t.stop()}}),t,null,[[10,37,41,49],[42,,44,48]])})))).apply(this,arguments)},p=function(t){return d.apply(this,arguments)},n=this,i=this.genome,(e&&"all"===e.trim().toLowerCase()||"*"===e)&&(e="all"),a=e.split(" "),t.next=8,p(a);case 8:if((o=t.sent)&&0!==o.length){t.next=13;break}return t.next=12,p([e]);case 12:o=t.sent;case 13:if(!(o.length>0)){t.next=38;break}for(this.emptyViewportContainers(),this.genomicStateList=o,this.buildViewportsWithGenomicStateList(o),s=!0,c=!1,h=void 0,t.prev=20,u=o[Symbol.iterator]();!(s=(l=u.next()).done);s=!0)l.value.id=wg();t.next=28;break;case 24:t.prev=24,t.t0=t.catch(20),c=!0,h=t.t0;case 28:t.prev=28,t.prev=29,s||null==u.return||u.return();case 31:if(t.prev=31,!c){t.next=34;break}throw h;case 34:return t.finish(31);case 35:return t.finish(28);case 36:t.next=39;break;case 38:throw new Error("Unrecognized locus "+e);case 39:return this.ideoPanel&&(this.ideoPanel.discardPanels(),f=n.viewportContainerWidth()/o.length,this.ideoPanel.buildPanels(this.$contentHeader,f)),this.updateUIWithGenomicStateListChange(o),r||this.updateViews(),t.abrupt("return",o);case 43:case"end":return t.stop()}}),t,this,[[20,24,28,36],[29,,31,35]])})));return function(e,r){return t.apply(this,arguments)}}(),Wx.prototype.loadSampleInformation=function(){var t=jr(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,e instanceof File&&(r=e.name),"fam"!==r.substr(r.lastIndexOf(".")+1)){t.next=7;break}return t.next=6,zx(e);case 6:this.sampleInformation=t.sent;case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),Wx.prototype.on=function(t,e){this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},Wx.prototype.un=function(t,e){if(this.eventHandlers[t]){var r=this.eventHandlers[t].indexOf(e);-1!==r&&this.eventHandlers[t].splice(r,1)}},Wx.prototype.off=function(t,e){if(t)if(e){var r=this.eventHandlers[t].indexOf(e);-1!==r&&this.eventHandlers[t].splice(r,1)}else this.eventHandlers[t]=[];else this.eventHandlers={}},Wx.prototype.fireEvent=function(t,e,r){var n,i=this.eventHandlers[t];if(void 0!==i&&0!==i.length)return n=r||window,i.map((function(t){return t.apply(n,e)}))[0]},Wx.prototype.dispose=function(){Js(window).off(this.namespace),Js(document).off(this.namespace),this.eventHandlers=void 0,this.trackViews.forEach((function(t){t.dispose()}))},Wx.prototype.toJSON=function(){var t,e;t={reference:this.genome.toJSON()};var r=[],n={};return this.trackViews[0].viewports.forEach((function(t){var e=t.genomicState,i=t.$viewport[0].clientWidth,a=e.referenceFrame.showLocus(i);if(r.push(a),e.selection){var o={gene:e.selection.gene,snp:e.selection.snp};n[a]=o}})),t.locus=r,Object.getOwnPropertyNames(n).length>0&&(t.gtexSelections=n),e=[],this.trackViews.forEach((function(t){var r,n;(n="function"==typeof(r=t.track).getState?r.getState():r.config)&&(n.browser&&delete n.browser,n.order=r.order,e.push(n))})),t.tracks=e,t},Wx.prototype.compressedSession=function(){return function(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));var n=new cg.RawDeflate(e).compress(),i=String.fromCharCode.apply(null,n);return btoa(i).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))},Wx.uncompressSession=function(t){var e;if(t.indexOf("/gzip;base64")>0){e=ev(t);var r="",n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;r+=String.fromCharCode(c)}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}return function(t){t=t.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");for(var e=atob(t),r=[],n=0;n<e.length;n++)r.push(e.charCodeAt(n));var i=new cg.RawInflate(r).decompress(),a="",o=!0,s=!1,c=void 0;try{for(var h,u=i[Symbol.iterator]();!(o=(h=u.next()).done);o=!0){var l=h.value;a+=String.fromCharCode(l)}}catch(t){s=!0,c=t}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}return a}(t.substring(5))},Wx.prototype.sessionURL=function(){var t,e;return((e=(t=window.location.href.slice()).indexOf("?"))>0?t.substring(0,e):t)+"?sessionURL=data:"+this.compressedSession()},Wx.prototype.presentAlert=function(t){this.alertDialog.present(t)},Wx.prototype.mouseDownOnViewport=function(t,e){var r;r=yg(t),this.vpMouseDown={viewport:e,lastMouseX:r.x,mouseDownX:r.x,lastMouseY:r.y,mouseDownY:r.y,genomicState:e.genomicState,referenceFrame:e.genomicState.referenceFrame}},Wx.prototype.cancelTrackPan=function(){var t=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,t&&t.viewport.genomicState.referenceFrame.start!==t.start&&(this.updateViews(),this.fireEvent("trackdragend"))},Wx.prototype.startTrackDrag=function(t){this.dragTrack=t},Wx.prototype.updateTrackDrag=function(t){if(t&&this.dragTrack){var e=this.dragTrack,r=this.trackViews.indexOf(t),n=this.trackViews.indexOf(e),i=this.trackViews;i[r]=e,i[n]=t;var a=this.trackViews[r].track.order;this.trackViews[n].track.order=a;var o=i.length,s=a;if(r<n)for(var c=r+1;c<o;c++){var h=i[c].track;if(!(h.order<=s))break;h.order=Math.min(Number.MAX_VALUE,s+1),s=h.order}else for(var u=r-1;u>0;u--){var l=i[u].track;if(!(l.order>=s))break;l.order=Math.max(-Number.MAX_VALUE,s-1),s=l.order}this.reorderTracks()}},Wx.prototype.endTrackDrag=function(){this.dragTrack&&this.dragTrack.$trackDragScrim.hide(),this.dragTrack=void 0};var Qx=function(t,e){this.$content=Js('<div class="igv-windowsizepanel-content-div">'),t.append(this.$content),this.browser=e};Qx.prototype.show=function(){this.$content.show()},Qx.prototype.hide=function(){this.$content.hide()},Qx.prototype.updateWithGenomicState=function(t){this.$content.text(function(t){var e,r,n;if(!(t>1e7))return t>1e4?(r=" kb",n=t/(e=1e3),lg(Math.floor(n))+r):lg(t)+" bp";e=1e6,r=" mb";return n=t/e,Math.floor(n).toString()+r}(Math.round(this.browser.viewportWidth()*t.referenceFrame.bpPerPixel)))};var Jx=function(t){var e,r,n=this;this.$container=Js("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0}),e=Js("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(e),vg(e,(function(){n.$input.val(void 0),n.$container.offset({left:0,top:0}),n.$container.hide()})),this.$label=Js("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Unlabeled"),this.$input_container=Js("<div>",{class:"igv-generic-dialog-input"}),this.$container.append(this.$input_container),this.$input=Js("<input>"),this.$input_container.append(this.$input),r=Js("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(r),this.$ok=Js("<div>"),r.append(this.$ok),this.$ok.text("OK"),this.$cancel=Js("<div>"),r.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){n.$input.val(void 0),n.$container.offset({left:0,top:0}),n.$container.hide()})),sf(this.$container.get(0),e.get(0)),this.$container.hide()};Jx.prototype.configure=function(t){var e=this;this.$label.text(t.label),this.$input.val(t.input),this.$input.unbind(),this.$input.on("keyup",(function(r){13===r.keyCode&&(t.click(),e.$input.val(void 0),e.$container.offset({left:0,top:0}),e.$container.hide())})),this.$ok.unbind(),this.$ok.on("click",(function(){t.click(),e.$input.val(void 0),e.$container.offset({left:0,top:0}),e.$container.hide()}))},Jx.prototype.present=function(t){var e,r;e=t.offset().top,r=Js("body").scrollTop(),this.$container.offset({left:t.width()-this.$container.width(),top:e+r}),this.$container.show()};var tk=function(t,e){var r,n,i,a=this;this.browser=e,this.$container=Js("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0}),r=Js("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(r),vg(r,(function(){a.$minimum_input.val(void 0),a.$maximum_input.val(void 0),a.$container.offset({left:0,top:0}),a.$container.hide()})),this.$minimum=Js("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum),(i=Js("<div>")).text("Minimum"),this.$minimum.append(i),this.$minimum_input=Js("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=Js("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum),(i=Js("<div>")).text("Maximum"),this.$maximum.append(i),this.$maximum_input=Js("<input>"),this.$maximum.append(this.$maximum_input),n=Js("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(n),this.$ok=Js("<div>"),n.append(this.$ok),this.$ok.text("OK"),this.$cancel=Js("<div>"),n.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){a.$minimum_input.val(void 0),a.$maximum_input.val(void 0),a.$container.offset({left:0,top:0}),a.$container.hide()})),sf(this.$container.get(0),r.get(0)),this.$container.hide()};function ek(t){var e,r;e=parseFloat(this.$minimum_input.val()),r=parseFloat(this.$maximum_input.val()),isNaN(e)||isNaN(r)?this.browser.presentAlert("Must input numeric values",void 0):(!0===t.trackView.track.autoscale&&Js("#datarange-autoscale").trigger("click"),t.trackView.setDataRange(e,r,!1)),this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}tk.prototype.configure=function(t){var e,r,n,i=this;(e=t.trackView.dataRange())?(r=e.min,n=e.max):(r=0,n=100),this.$minimum_input.val(r),this.$maximum_input.val(n),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",(function(e){13===e.keyCode&&ek.call(i,t)})),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",(function(e){13===e.keyCode&&ek.call(i,t)})),this.$ok.unbind(),this.$ok.on("click",(function(){ek.call(i,t)}))},tk.prototype.present=function(t){var e,r;e=t.offset().top,r=Js("body").scrollTop(),this.$container.offset({left:t.width()-this.$container.width(),top:e+r}),this.$container.show()};var rk=function(t){var e,r,n=this;this.$container=Js("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0}),e=Js("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(e),vg(e,(function(){n.$track_name.text(void 0),n.$container.offset({left:0,top:0}),n.$container.hide()})),this.$label=Js("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Remove track:"),this.$track_name=Js("<div>",{class:"igv-generic-dialog-one-liner igv-ellipsis"}),this.$container.append(this.$track_name),r=Js("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(r),this.$ok=Js("<div>"),r.append(this.$ok),this.$ok.text("OK"),this.$cancel=Js("<div>"),r.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){n.$track_name.text(void 0),n.$container.offset({left:0,top:0}),n.$container.hide()})),sf(this.$container.get(0),e.get(0)),this.$container.hide()};rk.prototype.configure=function(t){var e=this;this.$track_name.text(t.name||"unnamed"),this.$ok.unbind(),this.$ok.on("click",(function(){t.click(),e.$track_name.text(void 0),e.$container.offset({left:0,top:0}),e.$container.hide()}))},rk.prototype.present=function(t){var e,r;e=t.offset().top,r=Js("body").scrollTop(),this.$container.offset({left:t.width()-this.$container.width(),top:e+r}),this.$container.show()};var nk=function(t){this.$container=Js('<div class="igv-user-feedback">'),t.append(this.$container);var e=Js("<div>");this.$container.append(e);var r=Js("<div>");e.append(r);var n=Lf("exclamation-triangle","red");r.append(n);var i=Js("<div>");e.append(i);var a=Lf("times-circle","grey");i.append(a);var o=Js("<div>");this.$container.append(o);var s=Js("<div>");o.append(s),s.text("i am user feedback"),i.click((function(){s.html(""),(void 0).$container.hide()}))};nk.prototype.show=function(){this.$container.show()},nk.prototype.hide=function(){this.$container.hide()};var ik=function(t,e){var r=Js('<div class="igv-nav-bar-button">');t.append(r),r.text("Save SVG"),r.on("click.svg-save-control",(function(){e.renderSVG({})}))},ak=function(t,e){var r;this.$zoomContainer=Js('<div class="igv-zoom-widget">'),e.append(this.$zoomContainer),r=Js("<div>"),this.$zoomContainer.append(r),r.append(Lf("minus-circle")),r.on("click",(function(){t.zoomOut()})),r=Js("<div>"),this.$zoomContainer.append(r),this.$slider=Js('<input type="range"/>'),r.append(this.$slider),this.$slider.on("change",(function(e){t.zoomWithRangePercentage(e.target.value/100)})),r=Js("<div>"),this.$zoomContainer.append(r),r.append(Lf("plus-circle")),r.on("click",(function(){t.zoomIn()})),this.currentChr=void 0;var n=this;t.on("locuschange",(function(){t.updateZoomSlider(n.$slider)}))};ak.prototype.hide=function(){this.$zoomContainer.hide()},ak.prototype.show=function(){this.$zoomContainer.show()},ak.prototype.hideSlider=function(){this.$slider.hide()},ak.prototype.showSlider=function(){this.$slider.show()};var ok=function(t,e){this.showAllChromosomes=t.config.showAllChromosomes,this.$container=Js("<div>",{class:"igv-chromosome-select-widget-container"}),e.append(this.$container),this.$select=Js("<select>",{name:"chromosome-select-widget"}),this.$container.append(this.$select),this.$select.on("change",(function(){""!==Js(this).val()&&(t.search(Js(this).val()),Js(this).blur())}))};ok.prototype.update=function(t){this.$select.empty();var e=this.showAllChromosomes?t.chromosomeNames.slice():t.wgChromosomeNames.slice();t.showWholeGenomeView()&&(e.unshift("all"),e.unshift(""));var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s,c=a.value;s=Js("<option>",{value:c}),this.$select.append(s),s.text(c)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}};var sk=function(t,e){var r=this;this.browser=e,this.$button=Js('<div class="igv-nav-bar-button">'),t.append(this.$button),this.$button.text("track labels"),this.$button.on("click",(function(){!0===e.trackLabelsVisible?r.doHide():r.doShow()}))};sk.prototype.doHide=function(){this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideTrackLabels()},sk.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showTrackLabels()},sk.prototype.setState=function(t){!0===t?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked")},sk.prototype.disable=function(){this.doHide(),this.$button.hide()},sk.prototype.enable=function(){this.$button.show()};var ck=function(t,e,r,n){var i=this;this.browser=n,this.$container=Js('<div class="igv-center-guide igv-center-guide-thin">'),t.append(this.$container),!0===r.showCenterGuideButton&&(this.$centerGuideToggle=Js('<div class="igv-nav-bar-button">'),e.append(this.$centerGuideToggle),this.$centerGuideToggle.text("center line"),this.$centerGuideToggle.on("click",(function(){!0===n.isCenterGuideVisible?i.doHide():i.doShow()})))};ck.prototype.doHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCenterGuide()},ck.prototype.doShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"),this.browser.showCenterGuide()},ck.prototype.setState=function(t){this.$centerGuideToggle&&(!0===t?this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"):this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"))},ck.prototype.forcedHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.hide(),!0===this.browser.isCenterGuideVisible&&this.$container.hide()},ck.prototype.forcedShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.show(),!0===this.browser.isCenterGuideVisible&&this.$container.show()},ck.prototype.repaint=function(){var t,e,r,n,i,a,o;this.browser.genomicStateList&&(1/(o=this.browser.genomicStateList[0].referenceFrame).bpPerPixel>1?(t=this.browser.trackViews[0].$viewportContainer.position(),e=Math.round(this.browser.trackViews[0].$viewportContainer.width()/2),n=t.left+e-.5*(r=o.toPixels(1)),i=Math.round(n).toString()+"px",a=Math.round(r).toString()+"px",this.$container.css({left:i,width:a}),this.$container.removeClass("igv-center-guide-thin"),this.$container.addClass("igv-center-guide-wide")):(this.$container.css({left:"50%",width:"1px"}),this.$container.removeClass("igv-center-guide-wide"),this.$container.addClass("igv-center-guide-thin")))},ck.prototype.resize=function(){this.repaint()};var hk=function(t,e,r,n){var i=this,a=this;this.browser=n,this.$guide=Js('<div class="igv-cursor-tracking-guide">'),t.append(this.$guide),t.on("mousemove.cursor-guide",(function(e){e.preventDefault();var r=Js(document.elementFromPoint(e.clientX,e.clientY)),a=r.parent(),o=void 0;a.hasClass("igv-viewport-content-div")?o=a.parent():a.hasClass("igv-viewport-div")&&r.hasClass("igv-viewport-content-div")?o=a:a.hasClass("igv-viewport-container")&&r.hasClass("igv-viewport-div")&&(o=r);r.attr("class"),a.attr("class");if(o){var s=uk(e,o,i.$guide,t,n);if(s){var c=s.bp,h=s.start,u=s.end,l=s.interpolant;i.customMouseHandler&&i.customMouseHandler({bp:c,start:h,end:u,interpolant:l})}}})),!0===r.showCursorTrackingGuideButton&&(this.$button=Js('<div class="igv-nav-bar-button">'),e.append(this.$button),this.$button.text("cursor guide"),this.$button.on("click",(function(){!0===n.cursorGuideVisible?a.doHide():a.doShow()})))},uk=function(t,e,r,n,i){var a=lk(n.get(0),t).x,o="".concat(a,"px");r.css({left:o});var s=lk(e.get(0),t),c=e.data("viewportGUID"),h=i.getViewportWithGUID(c);if(void 0!==h){var u=h.genomicState.referenceFrame,l=u.start,f=1+u.start+s.width*u.bpPerPixel,p=Math.round(l+s.x*u.bpPerPixel),d=e.closest(".igv-track-container-div");lk(d.get(0),t);return{$host:d,host_css_left:o,bp:p,start:l,end:f,interpolant:s.xNormalized}}};function lk(t,e){var r=t.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top,xNormalized:(e.clientX-r.left)/r.width,yNormalized:(e.clientY-r.top)/r.height,width:r.width,height:r.height}}hk.prototype.doHide=function(){this.$button&&this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCursorGuide()},hk.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showCursorGuide()},hk.prototype.setState=function(t){this.$button&&(!0===t?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked"))},hk.prototype.disable=function(){this.doHide(),this.$guide.hide()},hk.prototype.enable=function(){this.$button&&this.$button.show()};var fk=function(t){this.browser=t};function pk(t){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(t.$toggle_button_container),this.browser.zoomWidget.$zoomContainer.removeClass(),this.browser.zoomWidget.$zoomContainer.addClass(t.$zoomContainer)}function dk(t,e){var r={};return e?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),t>990?(r.$toggle_button_container="igv-nav-bar-toggle-button-container",r.$zoomContainer="igv-zoom-widget"):t>860?(r.$toggle_button_container="igv-nav-bar-toggle-button-container",r.$zoomContainer="igv-zoom-widget-900"):t>540?(r.$toggle_button_container="igv-nav-bar-toggle-button-container-750",r.$zoomContainer="igv-zoom-widget-900"):(r.$toggle_button_container="igv-nav-bar-toggle-button-container-750",r.$zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),e&&(r.$zoomContainer="igv-zoom-widget-hidden"),r}fk.prototype.navbarDidResize=function(t,e){pk.call(this,dk.call(this,t,e))};var gk=[];function vk(){return(vk=jr(regeneratorRuntime.mark((function t(e,r){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(t){return t.sessionURL?n.loadSession({url:t.sessionURL}):n.loadSessionObject(t)},hv.init(Js(e)),void 0===r&&(r={}),Tv.genomeList=r.genomeList||"https://s3.amazonaws.com/igv.org.genomes/genomes.json",bk(r),!1!==r.queryParametersSupported&&wk(r),mk(r),yk(n=new Wx(r,e),r),n.userFeedback=new nk(n.$content),n.userFeedback.hide(),n.alertDialog=new ov(n.$content),n.inputDialog=new Jx(n.$root),n.trackRemovalDialog=new rk(n.$root),n.dataRangeDialog=new tk(n.$root,n),r.apiKey&&qg.setApiKey(r.apiKey),r.oauthToken&&Gg.setToken(r.oauthToken),t.abrupt("return",i(r).then((function(t){!1===r.showTrackLabels?n.hideTrackLabels():(n.showTrackLabels(),n.trackLabelControl&&n.trackLabelControl.setState(n.trackLabelsVisible)),!1===r.showCursorTrackingGuide?n.cursorGuide.doHide():n.cursorGuide.doShow(),!1===r.showCenterGuide?n.centerGuide.doHide():n.centerGuide.doShow();var e=n.isMultiLocusWholeGenomeView()||Tv.isWholeGenomeView(n.genomicStateList[0].referenceFrame);return n.isMultiLocusMode()||e?n.centerGuide.forcedHide():n.centerGuide.forcedShow(),lv.startup(),n.navbarManager.navbarDidResize(n.$navigation.width(),e),n})).then((function(t){return gk.push(t),t})));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function mk(t){var e=1;t.tracks&&t.tracks.forEach((function(t){void 0===t.order&&(t.order=e++)}))}function yk(t,e){var r;r=e.createControls?e.createControls(t,e):function(t,e){var r,n,i,a,o,s,c,h,u,l,f;u=Js("<div>",{class:"igvControlDiv"}),l=Js("<div>",{class:"igv-navbar"}),u.append(l),t.$navigation=l,t.navbarManager=new fk(t),n=Js("<div>",{class:"igv-nav-bar-left-container"}),l.append(n),c=Js("<div>",{class:"igv-logo"}),(h=function(){return Js('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>')}()).css("width","34px"),h.css("height","32px"),c.append(h),n.append(c),t.$current_genome=Js("<div>",{class:"igv-current-genome"}),n.append(t.$current_genome),t.$current_genome.text(""),a=Js("<div>",{class:"igv-nav-bar-genomic-location"}),n.append(a),t.chromosomeSelectWidget=new ok(t,a),void 0===e.showChromosomeWidget&&(e.showChromosomeWidget=!0);!0===e.showChromosomeWidget?t.chromosomeSelectWidget.$container.show():t.chromosomeSelectWidget.$container.hide();o=Js("<div>",{class:"igv-locus-size-group"}),a.append(o),f=Js("<div>",{class:"igv-search-container"}),o.append(f),t.$searchInput=Js('<input type="text" placeholder="Locus Search">'),f.append(t.$searchInput),t.$searchInput.change((function(e){t.search(Js(this).val()).catch((function(e){t.presentAlert(e)}))})),r=Js("<div>"),f.append(r),r.append(Lf("search")),r.click((function(){t.search(t.$searchInput.val())})),t.windowSizePanel=new Qx(o,t),i=Js('<div class="igv-nav-bar-right-container">'),l.append(i),s=Js('<div class="igv-nav-bar-toggle-button-container">'),i.append(s),t.$toggle_button_container=s,t.cursorGuide=new hk(t.$content,s,e,t),t.centerGuide=new ck(Js(t.trackContainerDiv),s,e,t),!0===e.showTrackLabelButton&&(t.trackLabelControl=new sk(s,t));e.showSVGButton&&(t.svgSaveControl=new ik(s,t));t.zoomWidget=new ak(t,i),!1===e.showNavigation&&t.$navigation.hide();return u.get(0)}(t,e),Js(r).insertBefore(t.$content),!1===e.showControls&&Js(r).hide()}function bk(t){void 0===t.promisified&&(t.promisified=!1),void 0===t.minimumBases&&(t.minimumBases=40),void 0===t.showIdeogram&&(t.showIdeogram=!0),void 0===t.showCursorTrackingGuideButton&&(t.showCursorTrackingGuideButton=!0),void 0===t.showCenterGuideButton&&(t.showCenterGuideButton=!0),void 0===t.showSVGButton&&(t.showSVGButton=!0),void 0===t.showTrackLabelButton&&(t.showTrackLabelButton=!0),void 0===t.showCursorTrackingGuide&&(t.showCursorTrackingGuide=!1),void 0===t.showCenterGuide&&(t.showCenterGuide=!1),void 0===t.showTrackLabels&&(t.showTrackLabels=!0),void 0===t.showControls&&(t.showControls=!0),void 0===t.showNavigation&&(t.showNavigation=!0),void 0===t.showRuler&&(t.showRuler=!0),void 0===t.showSequence&&(t.showSequence=!0),void 0===t.flanking&&(t.flanking=1e3),void 0===t.pairsSupported&&(t.pairsSupported=!0),t.tracks||(t.tracks=[]),t.showSequence&&t.tracks.push({type:"sequence",order:-Number.MAX_VALUE})}function wk(t){var e,r,n,i,a,o,s,c,h,u,l;if(a={},e=(s=window.location.href).indexOf("?"),r=s.lastIndexOf("#"),e>=0)for(r<0&&(r=s.length),n=e+1;n<r;)(i=s.indexOf("&",n))<0&&(i=r),2===(o=s.substring(n,i).split("=",2)).length&&(c=o[0],h=decodeURIComponent(o[1]),"file"===c?u=h.split(","):"index"===c?l=h.split(","):t[c]=h,n=i+1);if(u){t.tracks||(t.tracks=[]);for(var f=0;f<u.length;f++){if(u[f].endsWith(".xml")||u[f].endsWith(".json")){t.sessionURL=u[f];break}var p={url:u[f]};l&&l.length>f&&(p.indexURL=l[f]),t.tracks.push(p)}}return a}var xk,kk=lv,Sk=gg,_k=nm;return(xk=document.createElement("style")).setAttribute("type","text/css"),xk.innerHTML='.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-color-swatch {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px; }\n\n.igv-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px; }\n  .igv-colorpicker-menu-close-button i.fa {\n    display: block;\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #5f5f5f; }\n  .igv-colorpicker-menu-close-button i.fa:hover,\n  .igv-colorpicker-menu-close-button i.fa:focus,\n  .igv-colorpicker-menu-close-button i.fa:active {\n    cursor: pointer;\n    color: #0f0f0f; }\n\n.igv-alert-dialog-container {\n  position: absolute;\n  z-index: 2048;\n  top: 30%;\n  left: 50%;\n  margin: -150px 0 0 -150px;\n  width: 300px;\n  height: 256px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-alert-dialog-container div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-alert-dialog-container div:first-child div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-alert-dialog-container div:first-child div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-alert-dialog-container #igv-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-alert-dialog-container #igv-alert-dialog-body #igv-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-alert-dialog-container div:last-child {\n    width: 100%;\n    height: 64px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-alert-dialog-container div:last-child div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-alert-dialog-container div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-generic-container div:first-child i {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-dialog-container .igv-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-generic-dialog-container .igv-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-generic-dialog-container .igv-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 128px;\n  z-index: 4096;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background-color: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: none; }\n\n.igv-popover-header {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee; }\n  .igv-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-popover-track-popup-content {\n  position: relative;\n  top: 0;\n  left: 0;\n  max-height: 384px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background-color: white; }\n  .igv-popover-track-popup-content div {\n    margin-left: 4px;\n    background-color: white; }\n  .igv-popover-track-popup-content div:hover {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-popover-name-value {\n  cursor: default;\n  text-wrap: none;\n  white-space: nowrap;\n  max-width: 384px; }\n\n.igv-popover-name {\n  font-weight: bold;\n  padding-right: 4px;\n  float: left; }\n\n.igv-popover-value {\n  padding-left: 4px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 256px;\n  display: inline-block; }\n\n.igv-trackgear-container {\n  position: relative;\n  width: 20px;\n  height: 20px;\n  margin-left: 4px;\n  color: #7F7F7F; }\n\n.igv-trackgear-container:hover {\n  cursor: pointer;\n  color: #444; }\n\n.igv-trackgear-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 132px;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left; }\n  .igv-trackgear-popover > div:not(:first-child) {\n    width: 100%; }\n    .igv-trackgear-popover > div:not(:first-child) > div {\n      background: white; }\n    .igv-trackgear-popover > div:not(:first-child) > div:last-child {\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      border-bottom-color: transparent;\n      border-bottom-style: solid;\n      border-bottom-width: thin; }\n    .igv-trackgear-popover > div:not(:first-child) > div:hover {\n      background: #efefef; }\n\n.igv-trackgear-popover-shim {\n  padding-left: 8px;\n  padding-right: 8px; }\n\n.igv-trackgear-popover-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center; }\n  .igv-trackgear-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-trackgear-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-trackgear-popover-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  background-color: transparent; }\n  .igv-trackgear-popover-check-container div {\n    padding-top: 2px;\n    padding-left: 8px; }\n  .igv-trackgear-popover-check-container div:first-child {\n    position: relative;\n    width: 12px;\n    height: 12px; }\n    .igv-trackgear-popover-check-container div:first-child svg {\n      position: absolute;\n      width: 12px;\n      height: 12px; }\n\n.igvControlDiv {\n  position: relative; }\n\n.igv-content-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 10px;\n  height: 16px;\n  width: 100%; }\n  .igv-content-header .igv-ideogram-shim {\n    height: 100%;\n    width: 50px;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content {\n    height: 100%;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content-border-right {\n    border-right-color: #292929;\n    border-right-style: solid;\n    border-right-width: 1px; }\n\n.igv-multi-locus-panel-border {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 1px;\n  background-color: green;\n  border-right-color: #ff0000;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-navbar {\n  position: relative;\n  padding-left: 8px;\n  padding-right: 8px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  margin-top: 2px;\n  margin-bottom: 4px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3; }\n\n.igv-nav-bar-left-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-left-container .igv-logo {\n    width: 34px;\n    height: 32px;\n    margin-top: 6px;\n    margin-right: 8px; }\n  .igv-nav-bar-left-container .igv-current-genome {\n    height: 32px;\n    width: 40px;\n    margin-left: 4px;\n    margin-right: 4px;\n    user-select: none;\n    line-height: 32px;\n    vertical-align: middle;\n    text-align: center; }\n\n.igv-nav-bar-genomic-location {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%; }\n\n.igv-chromosome-select-widget-container {\n  height: 100%;\n  width: 125px;\n  margin-right: 4px;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center; }\n  .igv-chromosome-select-widget-container select {\n    display: block;\n    cursor: pointer;\n    width: 100px;\n    height: 75%;\n    outline: none;\n    font-size: 12px;\n    font-family: "Open Sans", sans-serif;\n    font-weight: 400; }\n\n.igv-locus-size-group {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 8px;\n  height: calc(32px - 10px); }\n  .igv-locus-size-group .igv-search-container {\n    width: 200px;\n    height: calc(32px - 10px);\n    line-height: calc(32px - 10px);\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-locus-size-group .igv-search-container input {\n      cursor: text;\n      width: 85%;\n      height: calc(32px - 10px);\n      line-height: calc(32px - 10px);\n      font-size: 12px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      text-align: left;\n      padding-left: 8px;\n      margin-right: 8px;\n      outline: none;\n      border-style: solid;\n      border-radius: 3px;\n      border-width: thin;\n      border-color: #bfbfbf;\n      background-color: white; }\n    .igv-locus-size-group .igv-search-container div {\n      cursor: pointer;\n      height: 16px;\n      width: 16px; }\n  .igv-locus-size-group .igv-windowsizepanel-content-div {\n    margin-left: 4px;\n    user-select: none; }\n\n.igv-nav-bar-right-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 100%; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div {\n      margin-left: 0;\n      margin-right: 4px; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div:last-child {\n      margin-left: 0;\n      margin-right: 0; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container-750 {\n    display: none; }\n  .igv-nav-bar-right-container .igv-zoom-widget {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:nth-child(even) {\n      display: block;\n      height: fit-content; }\n    .igv-nav-bar-right-container .igv-zoom-widget input {\n      display: block;\n      width: 125px; }\n    .igv-nav-bar-right-container .igv-zoom-widget svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-900 {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 input {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-hidden {\n    display: none; }\n\n.igv-nav-bar-button {\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px; }\n\n.igv-nav-bar-button-clicked {\n  color: white;\n  background-color: #737373; }\n\n.igv-nav-bar-button:hover {\n  cursor: pointer; }\n\n.igv-logo-nonav {\n  margin-left: 4px;\n  margin-top: 12px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 34px;\n  height: 16px; }\n\n.igv-search-results {\n  position: absolute;\n  top: 32px;\n  left: 2px;\n  height: 320px;\n  width: 213px;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  overflow-x: hidden;\n  overflow-y: auto;\n  z-index: 9999; }\n  .igv-search-results tr {\n    font-family: "Open Sans", sans-serif;\n    font-size: small;\n    font-weight: 400;\n    color: #444; }\n  .igv-search-results tr:hover,\n  .igv-search-results tr:focus,\n  .igv-search-results tr:active {\n    cursor: pointer;\n    font-weight: 700;\n    color: #141414; }\n\n.igv-root-div {\n  position: relative;\n  left: 0;\n  right: 0;\n  height: auto;\n  margin-left: 10px;\n  margin-right: 10px;\n  padding-top: 4px; }\n\n.igv-content-div {\n  position: relative;\n  width: 100%;\n  height: 100%; }\n\n.igv-track-container-div {\n  user-select: none;\n  position: relative;\n  clear: both; }\n\n.igv-track-div {\n  position: relative;\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 5px; }\n\n.igv-viewport-container {\n  position: absolute;\n  left: 50px;\n  right: 50px;\n  height: 100%;\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-div {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-content-div {\n  position: absolute;\n  width: 100%; }\n\n.igv-viewport-message {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: rgba(0, 0, 0, 0.15);\n  font-family: "Open Sans", sans-serif;\n  font-size: 25px;\n  font-weight: bold;\n  user-select: none; }\n\n.igv-whole-genome-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  background-color: white; }\n  .igv-whole-genome-container div {\n    font-family: "Open Sans", sans-serif;\n    font-size: 10px;\n    font-weight: 400;\n    color: #444;\n    height: 100%;\n    text-align: center;\n    border-right-color: #bfbfbf;\n    border-right-style: solid;\n    border-right-width: thin; }\n    .igv-whole-genome-container div span {\n      display: block;\n      padding-top: 6px;\n      text-overflow: ellipsis; }\n  .igv-whole-genome-container div:last-child {\n    border-right-color: transparent; }\n  .igv-whole-genome-container div:hover,\n  .igv-whole-genome-container div:focus,\n  .igv-whole-genome-container div:active {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-viewport-div-border-right {\n  border-right-color: #292929;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-multi-locus-panel-close-container {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 16px;\n  height: 16px;\n  color: #666666;\n  z-index: 1000; }\n\n.igv-multi-locus-panel-close-container:hover {\n  cursor: pointer;\n  color: #434343; }\n\n.igv-multi-locus-panel-label-div {\n  position: absolute;\n  left: 50%;\n  top: 25%;\n  transform: translate(-50%, -25%);\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  min-width: 16px;\n  z-index: 64;\n  color: #373737;\n  background-color: white;\n  padding: 1px; }\n\n.igv-multi-locus-panel-label-div:hover {\n  cursor: pointer; }\n\n.igv-viewport-ruler {\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: 10px;\n  font-weight: 200;\n  text-align: center; }\n  .igv-viewport-ruler > div {\n    height: 100%; }\n\n.igv-viewport-sequence {\n  font-family: "Open Sans", sans-serif;\n  font-size: 8px;\n  font-weight: 200;\n  text-align: center; }\n\n.igv-viewport-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-track-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-ruler-sweeper-div {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-right-hand-gutter {\n  position: absolute;\n  right: 0;\n  width: 36px;\n  height: 100%;\n  background: white; }\n\n.igv-left-hand-gutter {\n  position: absolute;\n  left: 0;\n  width: 50px;\n  height: 100%; }\n  .igv-left-hand-gutter canvas {\n    position: absolute; }\n\n.igv-track-menu-border-top {\n  border-top-color: #a2a2a2;\n  border-top-style: solid;\n  border-top-width: thin; }\n\n.igv-track-menu-category {\n  padding-left: 4px;\n  font-weight: 400; }\n\n.igv-track-drag-scrim {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 256;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-track-manipulation-handle {\n  cursor: pointer;\n  position: absolute;\n  right: 36px;\n  width: 12px;\n  margin-left: 2px;\n  height: 100%;\n  box-sizing: border-box;\n  font-size: medium;\n  border-color: #c4c4c4;\n  border-style: solid;\n  border-width: thin;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  z-index: 512;\n  background-color: #c4c4c4; }\n\n.igv-track-manipulation-handle:hover,\n.igv-track-manipulation-handle:focus,\n.igv-track-manipulation-handle:active {\n  border-color: #7e7e7e;\n  background-color: #7e7e7e; }\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 4px;\n  width: auto;\n  height: auto;\n  max-width: 200px;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer; }\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: rgba(0, 0, 0, 0.05); }\n\n.igv-scrollbar-outer-div {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 14px;\n  height: 100%;\n  background-color: white; }\n  .igv-scrollbar-outer-div div {\n    position: absolute;\n    top: 0;\n    left: 3px;\n    width: 8px;\n    border-style: solid;\n    border-width: thin;\n    border-color: #c4c4c4;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    background-color: white; }\n  .igv-scrollbar-outer-div div:hover,\n  .igv-scrollbar-outer-div div:focus,\n  .igv-scrollbar-outer-div div:active {\n    cursor: pointer;\n    background-color: #c4c4c4; }\n\n.zoom-in-notice-container {\n  position: absolute;\n  top: 10px;\n  left: 50%; }\n  .zoom-in-notice-container div {\n    position: relative;\n    left: -50%;\n    font-family: "Open Sans", sans-serif;\n    font-size: medium;\n    font-weight: 400;\n    color: #3f3f3f;\n    background-color: rgba(255, 255, 255, 0.51);\n    z-index: 64; }\n\n.igv-center-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 8px;\n  z-index: 8;\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin; }\n\n.igv-center-guide-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51); }\n\n.igv-center-guide-thin {\n  left: 50%;\n  width: 1px;\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0);\n  /*background-color: rgba(127, 127, 127, 0.51);*/\n  /*border-left-color: rgba(0,0,0,0);*/\n  /*border-right-color: rgba(0,0,0,0);*/ }\n\n.igv-cursor-tracking-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none; }\n\n.igv-clickable {\n  cursor: pointer;\n  background-color: white; }\n\n#color-by-tag {\n  color: #444; }\n\n#color-by-tag:hover,\n#color-by-tag:focus,\n#color-by-tag:active {\n  cursor: pointer;\n  padding-left: 2px;\n  padding-right: 2px;\n  color: white;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: #7f7f7f; }\n\n.igv-ellipsis {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n\n.igv-spinner-container {\n  color: #3f3f3f;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  padding-top: 8px;\n  font-size: 24px;\n  z-index: 512; }\n\n.igv-fa-check-visible {\n  color: inherit;\n  padding-right: 2px; }\n\n.igv-fa-check-hidden {\n  color: transparent;\n  padding-right: 2px; }\n\n.validateTips {\n  border: 1px solid transparent;\n  padding: 0.3em; }\n  .validateTips fieldset {\n    border: 0; }\n\n.igv-spacer-10 {\n  height: 10px;\n  width: 100%;\n  font-size: 0;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  display: block; }\n\n.igv-fa5-spin {\n  -webkit-animation: igv-fa5-spin 2s infinite linear;\n  animation: igv-fa5-spin 2s infinite linear; }\n\n@-webkit-keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n/*# sourceMappingURL=igv.css.map */\n',document.head.insertBefore(xk,document.head.childNodes[document.head.childNodes.length-1]),{createBrowser:function(t,e){return vk.apply(this,arguments)},removeBrowser:function(t){t.dispose(),t.$root.remove(),gk=gk.filter((function(e){return e!==t})),"undefined"!=typeof igv&&t===igv.browser&&(igv.browser=void 0)},visibilityChange:function(){gk.forEach((function(t){t.visibilityChange()}))},setGoogleOauthToken:function(t){return Gg.setToken(t)},oauth:Gg,version:function(){return"2.4.0 (17f53b3d2cf786965300bdda2ca06a474de17699)"},download:Pg,getBrowser:function(){return gk[0]},doAutoscale:Og,graphics:_k,createTrack:function(t,e){return Wx.prototype.createTrack.call(e,t)},getFilename:Jg,getExtension:function(t){if(void 0!==t.url){var e=(tv(t.url)?t.url.name:t.url).toLowerCase(),r=e.indexOf("?");return r>0&&(e=e.substr(0,r)),e.endsWith(".gz")?e=e.substr(0,e.length-3):(e.endsWith(".txt")||e.endsWith(".tab")||e.endsWith(".bgz"))&&(e=e.substr(0,e.length-4)),(r=e.lastIndexOf("."))<0?e:e.substr(1+r)}},isFilePath:tv,inferFileFormat:Lm,inferTrackTypes:Tm,knownFileExtensions:Rm,appendRightHandGutter:function(t){fm.prototype.appendRightHandGutter.call(this,t)},attachDialogCloseHandlerWithParent:vg,guid:wg,pageCoordinates:yg,translateMouseCoordinates:bg,createIcon:Lf,GtexUtils:gb,xhr:kk,Color:Sk,splitLines:fg,isString:ug,numberFormatter:lg,getDataWrapper:_m,setApiKey:function(t){return qg.setApiKey(t)},createColorSwatchSelector:mg,makeDraggable:sf,GenericContainer:lm,Popover:kg,AlertDialog:ov,InputDialog:Jx,TrackRemovalDialog:rk,DataRangeDialog:tk,MenuUtils:Sf,Alert:hv,google:qg}}));
//# sourceMappingURL=igv.min.js.map
